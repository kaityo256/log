<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="generator" content="pandoc">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
                <title>2025年4月</title>
    <style type="text/css">
      code {
        white-space: pre;
      }
    </style>
        <style type="text/css"></style>

    <link rel="stylesheet" href="style.css" type="text/css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- link rel="stylesheet" href="github-markdown.css" type="text/css" / -->
          </head>

  <body>
    <article class="markdown-body">
                        <h1 id="年4月">2025年4月</h1>
                        <h2 id="月16日水"><a href="#16">04月16日(水)</a>
                        <a id="16"></a></h2>
                        <p>Markdown→Re:VIEW→LaTeXでうまく動かない奴。<code>\left|</code>と<code>\right|</code>のせいだった。Re:VIEWの文中数式が<code>@&lt;m&gt;|hoge|</code>と、縦棒をデリミタとして使っているため。とりあえず文中の<code>\left|</code>、<code>\right|</code>を<code>\lvert</code>、<code>\rvert</code>にすることで対応。</p>
                        <p>rcloneをWSLにインストール。</p>
                        <div class="sourceCode" id="cb1"><pre
                        class="sourceCode sh"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> <span class="at">-v</span> <span class="kw">;</span> <span class="ex">curl</span> https://rclone.org/install.sh <span class="kw">|</span> <span class="fu">sudo</span> bash</span></code></pre></div>
                        <p>実行に数分かかる。ダウンロード後に表示が止まるので不安になる。しばらくまって以下の様な表示が出たらOK。</p>
                        <div class="sourceCode" id="cb2"><pre
                        class="sourceCode txt"><code class="sourceCode default"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>rclone v1.69.1 has successfully installed.</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>Now run &quot;rclone config&quot; for setup. Check https://rclone.org/docs/ for more details.</span></code></pre></div>
                        <p>FUSE(Filesystem in
                        Userspace)が必要だが、WSL2にはデフォルトで入っている模様。</p>
                        <p>設定は<code>rclone config</code>で対話的にもできるが、非常に冗長なので、コマンドラインから一気にやるのが楽。</p>
                        <div class="sourceCode" id="cb3"><pre
                        class="sourceCode sh"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="ex">rclone</span> config create server-name sftp host=hostname shell_type=unix</span></code></pre></div>
                        <p><code>servername</code>が今後使う名前。<code>hostname</code>がsshのホスト名。</p>
                        <p>これにより、<code>.config/rclone/rclone.conf</code>に必要な情報が書き込まれる。この後、</p>
                        <div class="sourceCode" id="cb4"><pre
                        class="sourceCode sh"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="ex">rclone</span> ls server-name: <span class="at">--max-depth</span><span class="op">=</span>1</span></code></pre></div>
                        <p>で<code>ls</code>が通ったら成功。</p>
                        <p>WSL2でのマウントには「fusermount3」が必要。</p>
                        <div class="sourceCode" id="cb5"><pre
                        class="sourceCode sh"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> apt update</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> apt install fuse3</span></code></pre></div>
                        <div class="sourceCode" id="cb6"><pre
                        class="sourceCode sh"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">which</span> fusermount3</span></code></pre></div>
                        <p>を実行し、<code>/usr/bin/fusermount3</code>と表示されればOK。</p>
                        <p>この状態で<code>server-name:temp</code>を<code>~temp</code>にデーモンモードでマウントするには、</p>
                        <div class="sourceCode" id="cb7"><pre
                        class="sourceCode sh"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="ex">rclone</span> mount server-name:temp ~/temp <span class="at">--vfs-cache-mode</span> writes <span class="at">--daemon</span></span></code></pre></div>
                        <p>とすればOK。unmountは、</p>
                        <div class="sourceCode" id="cb8"><pre
                        class="sourceCode sh"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> umount temp</span></code></pre></div>
                        <p>とする。エディタで開いた状態のままだと</p>
                        <div class="sourceCode" id="cb9"><pre
                        class="sourceCode sh"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="ex">umount:</span> /home/watanabe/temp: target is busy.</span></code></pre></div>
                        <p>などと言われるので、VSCodeを閉じてから<code>sudo umount temp</code>をやりなおす。</p>
                        <div class="sourceCode" id="cb10"><pre
                        class="sourceCode sh"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="ex">rclone</span> config create server-name sftp host=hostname</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="ex">rclone</span> config update server-name user=watanabe</span></code></pre></div>
                        <p>と二行に分けた方が分かりやすいな。</p>
                        <p>物性研を試す。</p>
                        <div class="sourceCode" id="cb11"><pre
                        class="sourceCode sh"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="ex">rclone</span> config create ohtaka sftp host=ohtaka.issp.u-tokyo.ac.jp</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="ex">rclone</span> config update ohtaka user=k0xxxxx</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="ex">rclone</span> ls ohtaka: <span class="at">--max-depth</span><span class="op">=</span>1 </span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="fu">mkdir</span> ohtaka</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="ex">rclone</span> mount ohtaka: ~/ohtaka <span class="at">--vfs-cache-mode</span> writes <span class="at">--daemon</span></span></code></pre></div>
                        <p><code>code .</code>はできないが、「フォルダーを開く」はいける。</p>
                        <div class="sourceCode" id="cb12"><pre
                        class="sourceCode sh"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="ex">rclone</span> config create kugui sftp host=kugui.issp.u-tokyo.ac.jp</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="ex">rclone</span> config update kugui user=k0xxxxx</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="ex">rclone</span> ls kugui: <span class="at">--max-depth</span><span class="op">=</span>1 </span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="fu">mkdir</span> kugui</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="ex">rclone</span> mount kugui: ~/kugui <span class="at">--vfs-cache-mode</span> writes <span class="at">--daemon</span></span></code></pre></div>
                        <p>こっちもいけた。これで行こう。</p>
                        <p>Macにもインストール。</p>
                        <div class="sourceCode" id="cb13"><pre
                        class="sourceCode sh"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> <span class="at">-v</span> <span class="kw">;</span> <span class="ex">curl</span> https://rclone.org/install.sh <span class="kw">|</span> <span class="fu">sudo</span> bash</span></code></pre></div>
                        <p>パスワード入力後、以下のような画面が出てしばらく止まる。</p>
                        <div class="sourceCode" id="cb14"><pre
                        class="sourceCode txt"><code class="sourceCode default"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>                                 Dload  Upload   Total   Spent    Left  Speed</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>100  4734  100  4734    0     0   5010      0 --:--:-- --:--:-- --:--:--  5009</span></code></pre></div>
                        <p>しばらく待って</p>
                        <div class="sourceCode" id="cb15"><pre
                        class="sourceCode txt"><code class="sourceCode default"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>rclone v1.69.1 has successfully installed.</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>Now run &quot;rclone config&quot; for setup. Check https://rclone.org/docs/ for more details.</span></code></pre></div>
                        <p>と出ればOK。</p>
                        <p>次にmacFUSEのインストール。</p>
                        <p><a
                        href="https://macfuse.github.io/">macfuseのサイト</a>に行ってdmgをダウンロード。
                        macFUSE 4.10.1をダウンロード。「Install
                        macFUSE」をダブルクリックしてインストール。</p>
                        <p>「機能拡張がブロックされました」という表示が出るので「システム設定を開く」をクリック。</p>
                        <p>「プライバシーとセキュリティ」の画面で「開発元”Benjamin
                        Fleischer”のシステムソフトウェアの読み込みがブロックされました。」というメッセージの下の「許可」ボタンを押す。再起動を求められるので再起動する。</p>
                        <p>一度<code>ssh ohtaka</code>でパスワードなしでログインできること(ssh-agentが起動して、秘密鍵を覚えていること)を確認する。</p>
                        <div class="sourceCode" id="cb16"><pre
                        class="sourceCode sh"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="ex">rclone</span> ls ohtaka: <span class="at">--max-depth</span><span class="op">=</span>1 </span></code></pre></div>
                        <p>成功。</p>
                        <div class="sourceCode" id="cb17"><pre
                        class="sourceCode sh"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mkdir</span> ohtaka</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="ex">rclone</span> mount ohtaka: ~/ohtaka <span class="at">--vfs-cache-mode</span> writes <span class="at">--daemon</span></span></code></pre></div>
                        <p>これでWindows,
                        Mac両方ともrcloneでスパコンサイトをローカルマウントできた。</p>
                        <p>解析力学の著者校正返した。</p>
                        <p>今日、会議x4の合間に、cloneのWindows/Macの動作確認した上に250ページ近い本の著者校正返したの偉すぎない？</p>
                        <h2 id="月15日火"><a href="#15">04月15日(火)</a>
                        <a id="15"></a></h2>
                        <p>sshfsの代替、rcloneが良いらしい。ただし、<a
                        href="https://github.com/rclone/rclone/issues/5373">Homebrewでいれられるrcloneはmountに非対応</a>。うーむ。</p>
                        <p>どうもrcloneがmacFUSEに依存しており、それをHomebrewが嫌っているから、らしい。</p>
                        <p>いやしかし、sshfsはなぜ開発終了したのかをChatGPTに聞いたらしれっと嘘をついてきた(開発者がこう行っています→ソースは？→ソースはありませんでした)。昔は正しいことを言ってきたら驚いたが、今は明らかな嘘をついたら驚くようになったな。進歩が早い。</p>
                        <h2 id="月14日月"><a href="#14">04月14日(月)</a>
                        <a id="14"></a></h2>
                        <p>シミュレーション工学。終了時間を15分間違えてしまった。</p>
                        <p>お店探し。</p>
                        <p>2年生懇親会。</p>
                        <p>就職した学生さんからPC受取。無事に社会人やってるようでよかった。先生心配してたんだよ。</p>
                        <p>教科書の朱入れ最後まで終わった。リポジトリも修正しないと。</p>
                        <h2 id="月13日日"><a href="#13">04月13日(日)</a>
                        <a id="13"></a></h2>
                        <p>教科書の朱入れ。</p>
                        <h2 id="月12日土"><a href="#12">04月12日(土)</a>
                        <a id="12"></a></h2>
                        <p>長い会議。</p>
                        <p>教科書の朱入れ。</p>
                        <h2 id="月11日金"><a href="#11">04月11日(金)</a>
                        <a id="11"></a></h2>
                        <p>日記を一週間に一度書くのがデフォルトになってしまい、過去のその日に何をしたかがわからず、Todoistのアクティビティログを見返すのが週間になってしまった。</p>
                        <p>sshfsの代替を探さないといけない。</p>
                        <p>明日の会議の準備。</p>
                        <p>教科書の朱入れ。</p>
                        <h2 id="月10日木"><a href="#10">04月10日(木)</a>
                        <a id="10"></a></h2>
                        <p>輪講。いろいろ勘違いしてた。あと、うまくグリーン関数を解説できなかった気がする。</p>
                        <p>スパコンハンズオン。注意書きを最後につけたほうが良いな。</p>
                        <p>研究室ミーティング。</p>
                        <p>春学期安全教育実施した。</p>
                        <p>Adobe ELTAのライセンス申請した。</p>
                        <h2 id="月09日水"><a href="#09">04月09日(水)</a>
                        <a id="09"></a></h2>
                        <p>あれ？解析力学の校正3章までは水曜日だったはず。火曜日はなにやってたんだ？</p>
                        <h2 id="月08日火"><a href="#08">04月08日(火)</a>
                        <a id="07"></a></h2>
                        <p>1on1とか。</p>
                        <p>サーバのクラック対応。usermod
                        -Lによるユーザのロック、公開鍵認証はバイパスしちゃうんだなぁ。</p>
                        <p>教科書の初稿が来たので朱入れ。(自分の元原稿が)間違いだらけでいやになっちゃう。</p>
                        <p>解析力学の校正、3章まで終了。</p>
                        <h2 id="月07日月"><a href="#07">04月07日(月)</a>
                        <a id="07"></a></h2>
                        <p>1on1や論文の修正準備をしていたらしい。</p>
                        <p>サーバがクラックされてしまった。対応に追われる。</p>
                        <h2 id="月06日日"><a href="#06">04月06日(日)</a>
                        <a id="06"></a></h2>
                        <p>NOP</p>
                        <h2 id="月05日土"><a href="#05">04月05日(土)</a>
                        <a id="05"></a></h2>
                        <p>NOP</p>
                        <h2 id="月04日金"><a href="#04">04月04日(金)</a>
                        <a id="04"></a></h2>
                        <p>Rockeyにgnuplotインストール。</p>
                        <div class="sourceCode" id="cb18"><pre
                        class="sourceCode sh"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> dnf install <span class="at">-y</span> epel-release</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> dnf install <span class="at">-y</span> epel-release</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> dnf install <span class="at">-y</span> gnuplot</span></code></pre></div>
                        <p>二回必要？</p>
                        <p>Adobeのライセンス整理。</p>
                        <p>K-LMSで「シミュレーション工学」のコース公開。本当は昨日公開すべきだったらしい。</p>
                        <p>学生さんがポスター賞を受賞。二年連続。めでたい。</p>
                        <h2 id="月03日木"><a href="#03">04月03日(木)</a>
                        <a id="03"></a></h2>
                        <p><a
                        href="https://mdcl.issp.u-tokyo.ac.jp/scc/news/6668">物性研究所スパコン共同利用・CCMS合同研究会「機械学習と計算物性科学の未来」</a>に参加。物性研は久しぶり。</p>
                        <p>研究室メンバーが7人もポスターで発表した。</p>
                        <p>林さんにも会った。メールのやり取りはしてたけど、実物に会うのは下手すると名古屋ぶりか？お元気そうで何より。</p>
                        <h2 id="月02日水"><a href="#02">04月02日(水)</a>
                        <a id="02"></a></h2>
                        <p>朝、Todoistにタスクを入力してイヤになった。</p>
                        <p>ハンズオン。今日はDocker。</p>
                        <p>輪講は変分原理。著者によってだいぶ導入が変わるんだなぁ。</p>
                        <p>研究室ミーティング。ゲームのレベル自動生成。僕は代打でOSの歴史の話。</p>
                        <p>研究室所属学生＋利用室提出。</p>
                        <p>旅費申請のマニュアルをようやく読み込んだ。だいぶわかってきた気がする。</p>
                        <p>今日は7つタスクを作って8個つぶした。</p>
                        <h2 id="月01日火"><a href="#01">04月01日(火)</a>
                        <a id="01"></a></h2>
                        <p>新年度が始まってしまった。</p>
                        <p>ChatGPT、各チャットごとに記憶がリセットされると思っていたが、プライバシー的に問題ないと判断されたり、ユーザが依頼したことはチャットをまたいで覚えておいてくれるらしい。ある研究テーマについてリストアップさせた時に「これはあなたが研究しているテーマでもありますね」と言われてすげー驚いた。</p>
                        <p>とりあえず設定でハマったところを覚えておいてもらった。別のチャットで確認したら、ちゃんと覚えていてくれた。マジか。</p>
          </article>
  </body>

  </html>