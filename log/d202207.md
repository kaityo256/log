# ログ

[ログ一覧](index.html)

## [07月24日(日)](#24) <a id="24"></a>

昨日の炎上の人、過去にも「株式会社は21世紀最大の発明」と書いており、日常的に裏を取らずに文章を書く人であるらしいことがわかる。

問題なのは、最初の株式会社とされるのが東インド会社で、設立が17世紀であるということを知っていることではない。「株式会社は21世紀最大の発明」と書く前に、ちょっと裏を取るために調べてみようと思わないこと」だと思う。ちょっと調べれば、近代的な株式会社の仕組みは、少なくとも19世紀ごろには確立していることがわかるはず。

大学で学ぶべきことは知識ではなく、「自分が何を知っていて、何を知らないか」を把握すること、知らないことを妄想で埋めないようにして、きっちり調べること、その姿勢なんだよね。これもちゃんと言語化して、学生さんに継続的に伝えなければならない。

うーん、後でNoteにでも書くために、ちょっと下書きしておこうかな。

「卒論・修論で学ぶべきこと、学んでほしいこと」

理工系の大学では、多くの場合学部で卒業研究を行い、卒業論文を執筆することになります。また、修士に進む人も多く、その場合は修士論文も執筆することでしょう。これまで、小学校、中学校、高校、大学と、基本的に「授業/講義を受けて学ぶ」という受動的な学習から、ここで初めて本格的に能動的な学習を実践することになります。私は、「研究は勉強ではない」と伝えています。優秀な学生ほど、知識不足を恐れて、手を動かす前に十分に勉強をしようとします。しかし、研究の主目的はあくまでもアウトプットであり、インプットはその手段に過ぎません。また、これまでの学習では、基本的に問題と答えがセットでしたが、業研究や修士論文研究では、テーマは与えられるものの、答えは用意されていません。教員は「こうなるんじゃないかな、こんな結果が出るんじゃないかな」と予想はしていますが、それが正しい保証はありません。

繰り返しになりますが、研究は勉強ではありません。卒業研究、修士論文研究は研究成果を出すのが目的であり、勉強が目的ではありません。しかし、大学が教育研究機関である以上、卒業研究、修士論文研究も教育の一貫として行われています。

挑戦的なテーマであればあるほど、当初の予想と異なる結果が出ることでしょう。また、ポジティブな結果が出ることは稀で、多くの場合は「やってみたがうまくいかなかった」「うまくはいったが期待ほどではなかった」というネガティブな結果であることが多いでしょう。さらに、研究テーマが就職先での仕事に直接関係することは稀です。にも関わらず、卒業研究、修士論文研究が教育であるとはどういうことでしょうか？また、教育であるならば何を学ぶべきなのでしょうか？以下では卒業研究、修士論文研究の教育的側面について書いてみたいと思います。

なお、卒業研究、修士論文研究に求めるものは、大学、学部、教員によって異なります。ですので、以下はあくまでも執筆者の個人的な意見であることを予めお断りしておきます。

まず、研究を通して一番最初に身に着けて欲しいスキルはサーベイです。全ての研究は、膨大な先行研究の上に立っています。同じ課題であっても、様々な手法、考え方で解決が試みられています。指導教員から「こういう方法でやってみたらどうか？」と言われた場合、まず把握すべきは「他にどういう方法があるのか？」「いつ頃からどんな研究がなされているのか？」ということです。

多くの研究室では、定期的な研究室ミーティングにおいて、論文発表をすることでしょう。これは、自分の研究に関連した論文を読み、それを研究室メンバーに紹介するというものです。この作業を通じて、学生さんは論文の読み方、発表の仕方を学ぶことになります。

論文を読む時、一番大事なことは、その研究の背景を理解することです。なぜその研究をしようと思ったのか、なぜその研究をしなければならなかったのか、その動機を理解しなければいけません。論文に書いている細かいテクニックなどの把握は、背景を理解した後でかまいません。

少し前に、ウェブ技術についての本が炎上したことがありました。Web 3についての解説書だったのですが、Web 1やWeb 2の記述があまりにも不正確だ、というものです。実際に読んでみましたが、「自分が話したい結論」が先にあり、その結論に合うように断片的な知識からストーリーを組み上げてしまった、という印象を受けました。また、その人が書いた別の記事に「株式会社は21世紀最大の発明」という文章もあり、裏を取らずに文章を書く人であることがわかります。

ここで重要なのは「株式会社の起源は東インド会社であり、設立が17世紀である」ということを知っていることでも「近代的な株式会社の仕組みは19世紀頃に確立している」ということを知っていることでもありません。「株式会社は21世紀最大の発明」と書く前に、「株式会社」についてちょっと検索してみようかな、と思うことです。

学問において非常に重要なのは知識そのものではありません。「『自分が何を知らないか』を知っている」ことです。人間は、自分が知らないことがあると、自分の知っていることで埋めようとします。これは普通のことです。学問により、その「普通」からの脱却するする技術を身に着けます。

卒業研究、修士論文研究を通じて、ある程度「自分の専門」に近い分野については詳しくなります。すると、その分野に膨大な先行研究があり、とてもじゃないが全てを把握するのは困難であることがわかるでしょう。当然ですが、その全てを把握する必要はありませんが、「全てを把握できないほど先行研究が多数ある」という事実は知っておく必要があります。すると、自分の専門ではない分野においても、同様に先行研究が死ぬほどあるのであろう、と推定することができます。このような感覚を持てば、自分が知らない分野において、自分が簡単だと思う方法を採用していない場合に、「この分野の専門家はアホ」と断じる前に、「なぜそんな誰もが思いつきそうな簡単な方法を採用していないのだろう？何か理由があるのではないだろうか？」と思い、「○○分野　XX法」で検索してみるようになることでしょう。

サーベイの主目的は、当然のことながら自分の専門分野の研究背景について知ることですが、それを通じて、「自分が知らないことを妄想で埋めずに、しっかり調べる」という癖をつけることの方が重要です。

TODO: 続く？

## [07月23日(土)](#23) <a id="23"></a>

Bolzmann Machineの解説を書いてた。

メモ。[いちばんやさしいWeb3の教本 人気講師が教えるNFT、DAO、DeFiが織りなす新世界](https://www.amazon.co.jp/dp/4295014451/)

Web3の説明をしようとして、あまりにも事実誤認が多すぎて話題の本。

[このあたり](https://kabumatome.doorblog.jp/archives/65997669.html)のまとめが詳しいかな。著者は「政府のブロックチェーンに関する有識者会議にて有識者兼オブザーバーとして参画した経験を持つ」そうで、以前政府関係者がブロックチェーン技術について怪しいことを言ってたのと関係あるのかな、と思う。

こういう炎上ネタを拾うのはあまり趣味の良いことではないけれど、理工系の学生として「先行研究をきちっとサーベイし、ちゃんとした歴史認識を持つ」ということを卒論、修論で学ぶはずだし、学んでほしいので、そのための教材としてメモしておこう。

しかし炎上案件見た時に、「自分が炎上しないように気をつけよう」よりも、「学生さんが将来炎上しないための話のタネにしよう」と思うとか、もう発想が親目線というか、おじいさん目線というか・・・

まぁ教育者としての自覚を持った、ということにしよう。

## [07月22日(金)](#22) <a id="22"></a>

1on1とか。

総務から在職証明が届いたのでSlackの教育支援プログラムへの申請をする。

* 「団体・組織の正式名称または法的名称を記入してください。(もしあれば) 学部名やその団体に関連する学生団体名までご記入ください。」→ 慶應義塾大学理工学部物理情報工学科渡辺研究室
* 「その団体・組織のウェブサイトの URL を記入してください。」 `https://www.calc.appi.keio.ac.jp/`
* Your institution/organization’s contact information
    * 国 Japan
    * 社名 慶應義塾大学
    * 町名・番地 港北区日吉3-14-1
    * アパート/マンション名 (空白のまま)
    * 市町村 横浜市
    * 州/都道府県/地域 神奈川県
    * 郵便番号 223-8522 
* A brief description of your institution/organization’s mission
    * We study the possibilities of research using computers, especially supercomputers.
* Slack プラン: プロ
* The anticipated size of your Slack workspace: 予想メンバー数：10〜49人
* その団体・組織の証明書をアップロード：総務からもらったPDFをアップロード
* 最後にチェックボックスにチェックを入れて「申請」

状況は「ヘルプリクエスト(`/help/requests`)」で確認可能。「Education Application from 名前 at ワークスペース名」のようになる。また、「We've received your Slack for Education application」というメールが来る。

Slackの教育支援プログラムに申請した。いま混んでて時間かかるかも、と返事がきた。

ようやくBolzmann machineのモデルサンプルを作ることができた。なかなかきれいなサンプルを作れなくて苦労した。また、バイアスや重みについてまだ混乱があった。これであとは書くだけかな。

## [07月21日(木)](#21) <a id="21"></a>

研究室ミーティング。

`xml.etree.ElementTree`によるXMLのパース、普通にやると成功するのに、`glob.glob`でファイルを多数食わせると失敗するのに悩んでいた。結局原因は、不正なXMLファイルがあって、それを読み込んで失敗していただけ。それなのに`glob.glob`が文字列ではなくファイルオブジェクトを返しているのか？などと見当違いなことを調べてしまった。デバッグ力が落ちている。いかんね。

MDシミュレーション、見当違いなことを言ってしまった。MD力も落ちている。

学生さんの論文がもう一つできそう。素晴らしい。

帰ろうとしたら矢上キャンパスの眼の前で火事。すごい燃えてたけど大丈夫なのかな。

8月11日は山の日とのこと。調べたら慶応は祝日。海の日は(慶応の学事上は)祝日じゃなかったのになぜ？

gitでリモートブランチをローカルに持ってくる方法。いちいち

```sh
git fetch
git switch -c branch origin/branch
```

としてたけど、

```sh
git fetch
git switch branch
```

で良い(勝手に見つけて上流ブランチの設定もしてくれる)。これ、毎回忘れるな。

## [07月20日(水)](#20) <a id="20"></a>

デスクトップPC購入した。GPGPUマシンの見積もり依頼。

Slack有料化への対応でバタバタ。

学習指導のお仕事。Canvasのモジュールで、必要なページを公開したつもりが、親モジュールが非公開になっていた。学生からの指摘で判明。慌てて公開。いろいろ不手際があって申し訳ない。

学生さんの論文チェック。

むー、ボルツマンマシンの説明を書く時間がとれない。

## [07月19日(火)](#19) <a id="19"></a>

学生さんのPCが壊れたので急遽新しいのを購入。「PCは突然壊れる」という感覚を肌で覚えるのは非常に重要なことだと思います。

いろいろやりたいことがある。いまローカルのエクセルで管理している予算をGoogle SpreadSheetにしたい。Pukiwikiで管理している研究室WikiをGitHubに移行したい。しかし、忙しい。

GitHubのMarkdownがいつのまにか数式をサポートしていた。

[Math support in Markdown](https://github.blog/2022-05-19-math-support-in-markdown/)

いままで、Markdownで書いてからいちいちPandocでHTMLになおしていたのだが、これが不要になるのか。

「一週間でなれる！スパコンプログラマ」の表示がおかしかった気がしてissueを立てたが、いま見たら直っていた上に、そもそもMarkdown上で数式が見えて驚いた。対応の途中で表示がおかしかったのをたまたま目にしたのか？いずれにせよ数式対応はありがたい。

なんか、「進捗が無いと世の中に意見を言いたくなる病」にかかっている。いかん。進捗は百薬の長。

GitHubにブランチ保護機能がついた。例えば「削除を許す」「歴史がまっすぐであることを要求する(マージコミットを含む歴史のpushを許さない)」などがある。とりあえずデフォルトで「Allow force pushes」と「Allow deletions」がオフになっている状態なので、ルールを有効化することで、それができなくなったはず。

ちょっとこれUIがよくないな。デフォルトでオフになっている「Allow force pushes」が、ルールを有効化することで有効化される、つまりforce pushを許さなくなる、というのは、ちょっとよくないと思う。デフォルトでは現状、すなわちAllow force pushesやAllow deletionsがオンになっておき、Protectionの有効化によりオフになる、という方がよいと思う。

Macにnpmが入っていなかったのでいれる。

```sh
brew install npm
```

その後、zennを管理するリポジトリにて

```sh
npm install zenn-cli 
```

でOK。他の場所(WSL)で作成したzenn-contentを、別の場所(Mac)でいじる、ということを想定しておらず、またnpmによる管理がどうなっているか理解していなかったので戸惑った。

あー、でもMacのパワポで絵を描くの大変だから、やっぱりWSLで書こう。

## [07月18日(月)](#18) <a id="18"></a>

修正した論文を再投稿した。再投稿期限ギリギリ。

この論文、1月には査読レポートが来ていたのだが、返事がわりと大変な部類だったのと、ちょうど講義準備で忙しい時期にぶつかってしまって対応できなかった。講義が終わったのが5月23日。その後、去年の9月から放置していた(本当に申し訳ない)学生さんの論文に取り掛かる。そして投稿できたのが7月11日。

そのあたりから気合を入れて、査読の返事を書いて、再投稿まで持っていった。あしかけ10年くらい取り組んでいる、死ぬほど難産な論文。これで通ってくれると良いのだが。

どちらも投稿状態で、まだacceptされたわけではないが、とにかくずーっと気にかかっていた論文を一応片付けられたので、肩の荷がようやく降りた。これから集中講義と秋学期の準備がある。これからガンガン進捗を生むぞ。

## [07月17日(日)](#17) <a id="17"></a>

NOP

## [07月16日(土)](#16) <a id="16"></a>

論文の修正。

## [07月15日(金)](#15) <a id="15"></a>

論文の修正。これで再投稿できると良いなぁ。

学習指導のお仕事。いろいろギリギリだった。いかん。

## [07月14日(木)](#14) <a id="14"></a>

選挙のあと、なんか「知識人」が毎回「自分が正しいと思う未来に賛同しなかった連中は全員愚民であり、この国の未来は暗い、絶望的だ」と言うまでがテンプレだなぁ・・・

研究室ミーティング。

物性研スパコンの審査。

柔道部の大会参加費振り込んだ。

そろそろ集中講義の準備をしなければならないし、秋学期の講義準備もしないといけない。秋学期が始まってしまうと身動きが取れないだろうから。

目の前にたくさんタスクがあるが、一つ一つ片付けるしかない・・・

## [07月13日(水)](#13) <a id="13"></a>

物性研システムC(kugui)でLAMMPS。

```sh
mkdir github
cd github
git clone -b stable --depth=1  https://github.com/lammps/lammps.git
cd lammps
cd src
qsub -I -V -q i2cpu  -l select=1:ncpus=2
module load intel intel-mpi
make mpi CC=mpiicc LINK=mpiicc CCFLAGS="-g -O3 -std=c++11 -qopenmp" LINKFLAGS="-g -O3 -std=c++11 -qopenmp" -j 20
```

基本的にコンパイラとリンカに`mpiicc`を指定するだけだが、module loadするのと、コンパイルオプションだけでなく、リンクオプションにも`-qopenmp`が必要なのがポイント。

WindowsでPDFをプレビューする時、Adobe Readerが自動再読み込みに対応していないため、WSLでevniceで開いているのが、なんともアホっぽい。

塩漬け論文、子供が寝てから気合で返事をかきあげた。10年近く寝かせた論文。とにかくpublishまでこぎつけなければ。

## [07月14日(火)](#12) <a id="12"></a>

まだ調子悪い。

## [07月11日(月)](#11) <a id="11"></a>

よく寝たので、だいぶ体調が回復した気がする。ただ、まだ頭が回ってない。

学生さんの論文投稿した。

## [07月10日(日)](#10) <a id="10"></a>

選挙行った。

[JPSJ投稿覚書](d202108.md#26)。投稿時に必要なのは「Short Summary to the Editorを入力 (300 words or less)」だけで、Cover Letterはいらないのか。後はSuggested refereeをメモしておけば良いと。

土日で全く論文に手をつけることができなかった。しんどい。

とりあえず、最低限の仕事として、明日の別の論文の投稿準備をした。

## [07月09日(土)](#09) <a id="09"></a>

引き続き体調が思わしくない。頭が全く回らない。たまにこうなるんだよなぁ・・・

## [07月08日(金)](#08) <a id="08"></a>

体調がどうも思わしくない。

安倍元総理銃撃事件。参議院選挙を日曜日に控えて。言葉が無い。

## [07月07日(木)](#08) <a id="07"></a>

研究室ミーティング。

学生さんの論文がarxivに掲載された[arXiv:2207.02449](https://arxiv.org/abs/2207.02449)。慶應義塾大学渡辺研としての初めての論文。感慨深い。これから量産したい。メールアドレスを間違えるという致命的なミス(僕が修正時に間違えたので学生さんのミスではない)。さっそく修正してもらった。ちゃんとチェックしないとダメだ。

物性研スパコンのポイントをほぼ使い切ったとの連絡。次はさらに大きなクラスにしないとダメだ。3ヶ月でCクラスのポイントを使い切るって、HPCの研究室っぽくなってきましたね。嬉しい悲鳴。

## [07月06日(水)](#06) <a id="06"></a>

printfに4285個アスタリスクをつけたらclangが死ぬ奴、今試したら3460個になってる上に、ギリギリで試すと

```txt
test.cpp:3:3461: warning: stack nearly exhausted; compilation time may suffer, and crashes due to stack overflow are likely [-Wstack-exhausted]
```

という警告が出るな。これ、以前からあったっぽい。前回はApple LLVM version 10.0.1 (clang-1001.0.46.4)だったが、10.0.0のRelease noteにある。

ちなみに　`(((printf("Hello World\n"))))`みたいなことをすると、`clang::Parser::ParseParenExpression`というところでスタックを使い切って死ぬらしい。ふむ。

GCCは10000はいけたが、さすがに100000で死んだ。50000も死んだ。ohtakaでは34086が限界ですね。ローカルのiMacだと、g++-11で55179が限界。

arXivの投稿、endorseが必要で、そのためには当該分野にX以内にY編の論文を公開していなければならない、というものルール。そして僕はまさかのcond-mat.stat-mechのendorse権限なし。論文投稿しなさすぎ。ひどい。もっとがんばらないと・・・

## [07月05日(火)](#05) <a id="05"></a>

よく寝た。体調はだいぶ良くなった。

論文投稿のため、スタイルファイルを適用。これでarXivへの投稿準備は完了。

最近、YouTubeの講義動画をよく見ている。Andrew Ngの講義動画もたくさん上がっている。すごい時代だ。

Andrew Ngの発音の仕方を知らなかった。「アンドリュー・ン」らしい。え？Andrew Ngって同い年なの？マジか・・・

TuringというところからSPAMが来るんだけど、それに[返事をした人がいた](https://log.k4a.me/20211219_turing_spam)。面白い(と言ってはいけないが、面白い)。最初の返事は明らかにbotだが、最後にちゃんと人っぽい人から返事が来ているのが興味深い。

Turingのメールの「START YOUR APPLICATION」ボタン、URLに「analytics?ti=なんかハッシュっぽい文字列」があるので、ここからどのメールアドレスから返事をしたか調べてるっぽいですね。unsubscribeボタンにも同じハッシュがある。

塩漬け論文に取り組んだ。Referee Reportが厳しかったので、なかなか手をつける気にならなかった。しかし、取り組んだ課題は論文として出版しなければならない。

## [07月04日(月)](#04) <a id="04"></a>

論文最終チェック。

## [07月03日(日)](#03) <a id="03"></a>

急にすごいアレルギー反応。目のかゆみ、鼻水、頭痛。何に反応したんだろう？おそらく原因の数時間後に反応するっぽいので、原因がよくわからない。

## [07月02日(土)](#02) <a id="02"></a>

体調が悪い。庭の草むしりとかした。

## [07月01日(金)](#01) <a id="01"></a>

7月になってしまった。

Restricted Bolzmann Machine、またわかりやすい説明をYouTubeで見つけた。

[Ali Ghodsi, Lec [7], Deep Learning , Restricted Boltzmann Machines (RBMs)](https://www.youtube.com/watch?v=FJ0z3Ubagt4)

この人、Databricksの創業者であり、CEOでもあるのに、講義がとても上手。カリフォルニア大学バークレー校の非常勤講師とのこと。でも、この動画はWaterloo大学のものだな。

僕もなんか講義ビデオあげようかな。日本語の講義がYouTubeに増えるのは良いことだし。

[一週間でなれる！スパコンプログラマ](https://github.com/kaityo256/sevendayshpc)の星が500を超えた。無理して書いたものだが、報われた気がしてちょっとうれしい。
