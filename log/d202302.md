
# 2023年1月

[ログ一覧](index.html)

## [02月27日(月)](#27) <a id="27"></a>

日記マージした。

## [02月26日(日)](#26) <a id="26"></a>

解析力学の講義ノート、ラグランジアンの導出のところ書いた。難産だった。まだ「ごまかし」がある気がして、うまく書けてない。

## [02月25日(土)](#25) <a id="25"></a>

また日記のpush忘れだ。後でマージしよう。

まぁほとんど誰も読んでないだろうが。

体が重い。とりあえず論文の査読レポートの返事案を作った。これで通るだろう。

## [02月24日(金)](#24) <a id="24"></a>

体が思すぎる。

修論の製本出した。

1on1。

## [02月23日(木)](#23) <a id="23"></a>

NOP

解析力学、どうしてもラグランジアンの導入がうまく行かずに筆が止まっている。

カプコンのSFL、優勝した選手が、優勝前に届いたアンチコメント読み上げてて、「性格悪いって言われるかもしれないけど、気持ちいい」とか言ってて、その後「アンチは俺が優勝したから洞窟に帰った」と言ってて、結局そういうのって結果出すしかないんだな、と思った。

今後、大きな結果を出せるかどうかわからないけど、とにかく世の中になにかを出し続ける側でいたい。

## [02月22日(水)](#22) <a id="22"></a>

投稿中の論文、査読レポートが返ってきた。ほぼほぼacceptでめでたい。

このまま論文の量産体制に入るぞ。書きかけの論文の整理と、次の論文の準備もしないと。

講義準備もしないと……

FD授業アンケート、コメントを返した。

学生相談室カウンセラーとの面談会。

製本用に修論印刷した。表紙データを作ったり。データが大きくてWindowsから印刷できず、Macから印刷したり。

渡辺研究室初の修士論文ということで感慨深い。これからどんどん増えていくとうれしい。

学生向けにサンプルコード書いて渡した。

## [02月21日(火)](#21) <a id="21"></a>

1on1たくさん。

健康センターから電話がかかってきてしまった。診断結果聞きに行かないと。

雲T師(雲孝夫先生)の[Twitterアカウント](https://twitter.com/kumo_takao)を見つけてしまった。懐かしい。っていうか全然老けてない。授業を受けたの、もう20年近く前なのに。当時はSEGだったけど、今は駿台なのね。

Wikiも見つけた。雲K師も懐かしい。僕がSEGに通ってたのは高3だから、1994〜1995年かな。うわ、30年前じゃん……

* [雲孝夫](https://pchira.wicurio.com/index.php?%E9%9B%B2%E5%AD%9D%E5%A4%AB)
* [雲幸一郎](https://pchira.wicurio.com/index.php?%E9%9B%B2%E5%B9%B8%E4%B8%80%E9%83%8E)

しかし、30年も前の授業を覚えてるんだから、やっぱり印象に残る授業をしてたんだよね。雲T師の「類題を作れ」も覚えてるし、雲K師の「磁場は仕事をしない」とかエネルギー保存則をいちいち導くところとか、声と一緒に覚えている。

あとは化学の先生(名前が出てこない)も記憶にある。当時駒場の院生だったはずで、情報棟でお会いしたので(端末のtalkで)挨拶した。

## [02月20日(月)](#20) <a id="20"></a>

MusikaをGoogle Colabで動かそうとすると、WAVファイルはできるのだが、`IPython.display.Audio`で読み込もうとするとランタイムが切断されてしまう。
SciPiでWAVを一度NumPy配列にすればOKだが、SciPyのreadだと左右2チャンネルが(length, 2)の形になるが、Audioで読み込ませるためには(2, length)でなければならないのでtransposeが必要。また、ファイル名が毎回変わるのにも対応しないといけない。

最終的にこうなった。

```py
import IPython
import numpy as np
from scipy.io.wavfile import read
import glob
!git clone https://github.com/marcoppasini/musika
%cd musika
!pip install -r requirements.txt
!python musika_generate.py --load_path checkpoints/techno --num_samples 1 --seconds 10 --save_path ./generate
file = glob.glob("/content/musika/generate/*.wav")[0]
rate, data = read(file)
IPython.display.Audio(data.transpose(), rate=rate)
```

Comp. Phys. Commun.に論文投稿準備する。RevTeXでいけそうな気もするが、公式はelsarticle.clsを推奨している。

[https://ctan.org/tex-archive/macros/latex/contrib/elsarticle](https://ctan.org/tex-archive/macros/latex/contrib/elsarticle)からzipをダウンロード。

```sh
cd build
wget http://mirrors.ctan.org/macros/latex/contrib/elsarticle.zip
unzip elsarticle.zip 
cd elsarticle  
latex elsarticle.ins
latexmk elsarticle-template-harv
```

insファイルのコンパイルによりclsファイルができる。とりあえずclsファイルとテンプレートtexだけでコンパイルできることを確認。GitHubに学生さん論文用のリポジトリを作成。もう少し中身を書いたら学生さんを招待する。

## [02月29日(日)](#19) <a id="19"></a>

講義ノートの進捗が悪くて気が滅入るので、GhostscriptでPostScriptをいじる記事を書いた。

[PostScript言語を触ってみる](https://zenn.dev/kaityo256/articles/ghostscript_sample)

## [02月18日(土)](#18) <a id="18"></a>

NOP

## [02月17日(金)](#17) <a id="17"></a>

1on1 x2。

## [02月16日(木)](#16) <a id="16"></a>

新メンバーの1on1が始まった。これからテーマ決め。

研究室ミーティング。今日は論文紹介のやり方＋模範演技。

ハンズオン。「論文の読み方、探し方」。

## [02月15日(水)](#15) <a id="15"></a>

卒論を製本に出した。2冊だと単価4700円、合計9400円。5人分で47000円。

しばらく忙しかったこともあって集中力を欠く。研究活動はこれからなのだが。

参加した覚えのないGoogleグループからメール。調べたら、デフォルトで任意のグループに追加できる状態になっていた。

明日から本格的に新年度の研究室ミーティング開始。まずは論文紹介のやり方と論文の読み方から。

明日の研究室ミーティングの準備。論文を探して論文紹介スライドを作った。

* [論文紹介のやり方](https://speakerdeck.com/kaityo256/how-to-review)
* [論文の読み方](https://speakerdeck.com/kaityo256/how-to-survey)

「模範演技」の準備もしなくては。

[参加した覚えのないグループのメンバーになっている](https://support.google.com/groups/answer/10566756?hl=ja)の記述の通りに設定することで拒否が可能。

## [02月14日(火)](#14) <a id="14"></a>

仕事中、鼻の元栓が決壊。ティッシュも切れて大変な目にあった。
普段行きなれないところに行く時には鼻炎薬と箱ティッシュの補充を忘れずに。

## [02月13日(月)](#13) <a id="13"></a>

疲れた。

## [02月12日(日)](#12) <a id="12"></a>

疲れた。

## [02月11日(土)](#11) <a id="11"></a>

記憶喪失。

## [02月10日(金)](#10) <a id="10"></a>

引き続き解析力学のノート書き。

Subversionの時からCUI派だったんだけど、VSCodeでノート書いてる時に、いちいちターミナルを出してフォーカスを移すのが面倒になってきた。もうGUIでコミット、プッシュするか。変なこだわりを持っても仕方ないし。

[『リンカー moldをいろんなターゲットに移植した話』を視聴してCPUやpsABIの世界を覗き見してみた #kernelvm](https://zenn.dev/quiver/articles/7aa6deb2d77e44)

DEC Alphaとか出てきて懐かしい。っていうかARM64(AArch64)の項目でサンクという概念を初めて知った。関数呼び出し命令のオフセットの問題でプログラムカウンタから+-128MiBの位置にしか飛べない。なので大きな実行ファイルで128MiB以上のジャンプをするためには、一度で飛べないからホップ・ステップ・ジャンプみたいにジャンプを複数回に分ける必要があり、その挿入もリンカのお仕事。マジか。

卒論、製本用に印刷した。来週水曜日に出す予定。

なんかメールをたくさん書いてたらあっという間に時間が過ぎていく。タスクを積んでは崩し、積んでは崩し。

学生さんの学会の立て替え払い請求出した。秘書さんが欲しい。

PukiwikiからGitHubに移項計画。とりあえず過去の卒論を移行した。これだけで結構時間かかったな。

科研費の支払請求書（F-2-1)を作成した。今日はうまくいった。

## [02月09日(木)](#09) <a id="09"></a>

[ビンダー比論文](https://doi.org/10.1093/ptep/ptad022)が出版された。長かった。本当に長かった。途中、なんども心が折れそうになりながらも歯を食いしばって踏みとどまった。

学習指導として、学事イベントをもう一度復習。覚書をまとめておく。

科研費の支払請求書（F-2-1)を作成しようとしたが、科研費電子申請システムが調子悪く「接続中にエラーが発生しました。しばらくたってから再度ログインを行ってください。」と言われてしまう。また明日チャレンジ。

研究室ミーティング。卒論、修論お疲れ様でした。

これで渡辺研も本格的に次年度スタート。

久しぶりに解析力学の講義ノートを触れた。一ヶ月ぶり。忙しかったもんな。とにかく4月に間に合わせないといけない。クォーター制なので自転車操業ができないので。

## [02月08日(水)](#08) <a id="08"></a>

修士論文発表会。みなさんよく頑張りました。

その後、学習指導の事後処理にものすごく時間がかかった。

## [02月07日(火)](#07) <a id="07"></a>

gitでsubmoduleがおかしくなり、git pullとかしようとしても

```sh
fatal: no submodule mapping found in .gitmodules for path 'submodule'
```

とか言われてしまうようになった。Gitとしてはsubmobuleがあると認識しているのに、`.gitsubmodule`もないし、`.git/config`にも情報がない。

これを直すには、まずファイルパーミッションがSubmoduleになっているものを探す。

```sh
$ git ls-files --stage | grep 160000
160000 71de7d435da4887140e445a5caf1cdf0e1a3119b 0 submodule
```

これを削除する。

```sh
git rm --cached submodule
```

これで後はコミットすればOK。

VSCode上でdiffを見ようと思ってGit Lensを導入……したが、使い方がよくわからなかった。以前もインストールしたような気がしたが、と思ったが、これ、Git管理されているファイルの変更されたすべての行にいちいちアノテーションがつくのが鬱陶しくてやめたんだ。とりあえずアンインストール。

研究室Wiki(Pukiwikiで運用)が使いづらくて仕方ないので、GitHubのプライベートリポジトリへ移行する。とりあえずリポジトリを作って、2020年度の卒論だけ追加しておいた。

Gitの日本語diff、なかなかうまくいかなかったんだけど、多分これでできた。

```sh
git diff --word-diff-regex=. main thesis.tex
```

プログラミング基礎同演習、採点確定した。

修士論文発表会の準備した。発表セットに会場案内図、プログラムを印刷して配る。今回からレーザーポインタとType-Cコネクタが追加。

特異値分解論文のProof返した。

## [02月06日(月)](#06) <a id="06"></a>

学生さんの論文再投稿。

卒論の修正。

学習指導のお仕事。

プログラミング基礎同演習の採点確定、一日だけ待ってみることにした。

PTEP、OxfordUniversity Press (OUP)からライセンスの問い合わせが来たので返した。なんかPTEP advance articlesという、校正前の原稿を先に公開する仕組みがあるらしい。

## [02月05日(日)](#05) <a id="05"></a>

追加レポートの採点完了。評語案作成。明日最終確認の上で提出。

うーん、レポートの未提出が多かったなぁ。かつ救済措置である追加レポートも未提出。残念。

## [02月04日(土)](#04) <a id="04"></a>

レポートの採点。「異なり、」と書く文脈で「違く、」と書く人が多いんだけど、指導した方がよいのかな。

実験レポートなどでレポートの書き方を学んでいると思うんだけど、学生に文章を書かせると「口語的」と指摘することが多い。このあたりどういう文章が口語的であるかのデータを蓄積しておくと、教育上良いのかも。

## [02月03日(金)](#03) <a id="03"></a>

卒論発表会。皆さんお疲れさまでした。

Acceptされた論文、最終版を提出。最初の構想から10年ちかくかかった。長かったな……

査読レポートに対する論文修正。これで完成かな？来週再投稿しよう。

卒業してしまう学生さんの研究も早いところ論文にしてしまいたいが、講義の準備が……

## [02月02日(木)](#02) <a id="02"></a>

卒論発表会。査読レポートへの返事作成。

## [02月01日(水)](#01) <a id="01"></a>

Macでepsを見る手段がない。いろいろ調べたが、一番楽なのはX立ち上げてevinceで見ることか？

```sh
brew install evince
```

だめだ。Macのevinceはepsが表示できない。「ファイルタイプ text(text/*)はサポートしていません」になってしまう。

Inkscapeとかで見る方法も無いことはないが、多分Docker上のUbuntuでX飛ばしてevinceで見た方が楽だわ。もしくは研究室サーバでX飛ばすか。

事前にXQuartzの設定で「セキュリティ」の「接続を認証」及び「ネットワーク・クライアントからの接続を許可」しておく必要がある。

その上でX11の情報を共有してUbuntuを起動。

```sh
docker run -it -e DISPLAY=$(hostname):0 -v ~/.Xauthority:/root/.Xauthority ubuntu 
```

その後Xをインストール。

```sh
apt-get update
apt-get -y install xserver-xorg x11-apps
```

```sh
xeyes
```

起動できた。

```sh
apt-get -y install evince poppler-data
```

なんかepsを作ってみるか。

```sh
$ apt-get install -y gnuplot
$ gnuplot
gnuplot> set term eps
gnuplot> set out "test.eps"
gnuplot> p sin(x)
gnuplot> exit
$ evince test.eps
```

なんの問題もなく表示できる。これでローカルをディレクトリをマウントして表示するのが一番楽なんじゃ・・・。

ついでにghostscriptも動かしてみる。

```sh
$ apt-get install -y gv
$ ghostscript
GPL Ghostscript 9.55.0 (2021-09-27)
Copyright (C) 2021 Artifex Software, Inc.  All rights reserved.
This software is supplied under the GNU AGPLv3 and comes with NO WARRANTY:
see the file COPYING for details.
GS>0 0 moveto
GS>100 100 lineto
GS>stroke
GS>
```

問題なく表示できる。

いつか、Ghostscript上で「PostScriptを触ってみる」の記事を書きたい。もう失われた技術だから……

普通に間違えて2月の日記を1月に書いてた。まだ1月であって欲しいという願望の現れか。
