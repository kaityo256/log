# 2024年4月

## [04月12日(金)](#12) <a id="12"></a>

1on1とか。

柔道部の面談。

この一週間何をやってたか忘れたので、Todoistのタスクを見て確認したりとか。

## [04月11日(木)](#11) <a id="11"></a>

研究室ミーティング。

## [04月10日(水)](#10) <a id="10"></a>

お仕事。

サーバがまた「データベース接続エラー」で死んだ。mariadbを再起動したが復活しない。焦ったが、ログインしてたのがウェブサーバではなく計算サーバだった。どうりでログに何もないと思った。前もやったなこれ。

またメモリ不足らしいんだけど、本格的に原因究明＋対策したほうがいいんだろうか？たいしてメモリ使わないはずんだけど、なんか攻撃でもうけたか？

とある会を欠席。大変申し訳無い。

## [04月09日(火)](#09) <a id="09"></a>

いろいろお仕事。1on1とか。

タスクログによると、学生さんの論文を確認していたらしい。

## [04月08日(月)](#08) <a id="08"></a>

sshfsのインストール。WSL

```sh
sudo apt -y update
sudo apt -y install sshfs
```

Mac。

```sh
brew install sshfs
```

マウント。

```sh
sshfs username@watanabe-login.appi.keio.ac.jp:path/to/dir ~/somedir
```

WSLでのアンマウント。

```sh
fusermount -u ~/somedir
```

Macでのアンマウント。

```sh
diskutil unmount somedir
```

なんかVSCodeのMarkdown Previewが変わってて見づらい。元に戻したい。

板書講義の録画用機材メモ。

* 人を追尾するWebカメラ(OBSBOT tinyかそれ系)
* ワイヤレスマイク（RODE wireless go + ピンマイク）

なんか普通に買うと10万以上するなぁ。これをつないでOBS Studioで録画し、編集してアップロードとか？

## [04月08日(日)](#07) <a id="07"></a>

NOP

## [04月06日(土)](#06) <a id="06"></a>

NOP

日記のビルドに失敗したという連絡。どうもタイトルの`# 2024年4月`をつけ忘れたせいで、makefileの

```mk
docs/%.html: log/%.md
  TITLE=$(shell head -1 $< | sed -e '1 s/^# \(.*\)$$/\1/g'); pandoc -s $< -o $@ $(PANDOC_HTMLOPT) --metadata pagetitle=$$TITLE
```

というコマンドが、

```sh
TITLE=## [04月02日(火)](#02) <a id="02"></a>; pandoc -s log/d202404.md -o docs/d202404.html --mathjax -t html --template=template  --metadata pagetitle=$TITLE
/bin/sh: 1: Syntax error: "(" unexpected
```

となり、カッコ対応がおかしくなったせいだった。ローカルではうまくいくのだが、シェルの違いか？

## [04月05日(金)](#05) <a id="05"></a>

サイトに卒業式、学位授与式の情報を追加。ついでにウェブサイトのCocoonの設定をいろいろ変更。

懸案だった「過去のお知らせ一覧」を表示できるようにした。まず、URLとしては`https://www.calc.appi.keio.ac.jp/category/news/`でお知らせ一覧が表示できる。これをサイドバーにいれる。

方法はCocoon設定ではなく「外観」「カスタマイズ」「ウィジェット」「サイドバー」。そこに

```txt
[showwhatsnew]
```

とあるのを、

```txt
[showwhatsnew]
もっと見る
```

にして、「もっと見る」から[https://www.calc.appi.keio.ac.jp/category/news/](https://www.calc.appi.keio.ac.jp/category/news/)にリンクをはった。

latexindentが動かない。

```sh
$ latexindent
Can't locate File/HomeDir.pm in @INC (you may need to install the File::HomeDir module) (@INC contains: /usr/local/texlive/2022/texmf-dist/scripts/latexindent /Library/Perl/5.34/darwin-thread-multi-2level /Library/Perl/5.34 /Network/Library/Perl/5.34/darwin-thread-multi-2level /Network/Library/Perl/5.34 /Library/Perl/Updates/5.34.1 /System/Library/Perl/5.34/darwin-thread-multi-2level /System/Library/Perl/5.34 /System/Library/Perl/Extras/5.34/darwin-thread-multi-2level /System/Library/Perl/Extras/5.34) at /usr/local/texlive/2022/texmf-dist/scripts/latexindent/LatexIndent/GetYamlSettings.pm line 24.
BEGIN failed--compilation aborted at /usr/local/texlive/2022/texmf-dist/scripts/latexindent/LatexIndent/GetYamlSettings.pm line 24.
Compilation failed in require at /usr/local/texlive/2022/texmf-dist/scripts/latexindent/LatexIndent/Verbatim.pm line 23.
BEGIN failed--compilation aborted at /usr/local/texlive/2022/texmf-dist/scripts/latexindent/LatexIndent/Verbatim.pm line 23.
Compilation failed in require at /usr/local/texlive/2022/texmf-dist/scripts/latexindent/LatexIndent/Lines.pm line 23.
BEGIN failed--compilation aborted at /usr/local/texlive/2022/texmf-dist/scripts/latexindent/LatexIndent/Lines.pm line 23.
Compilation failed in require at /usr/local/texlive/2022/texmf-dist/scripts/latexindent/LatexIndent/Document.pm line 30.
BEGIN failed--compilation aborted at /usr/local/texlive/2022/texmf-dist/scripts/latexindent/LatexIndent/Document.pm line 30.
Compilation failed in require at /usr/local/bin/latexindent line 27.
BEGIN failed--compilation aborted at /usr/local/bin/latexindent line 27.
```

[ここ](https://zenn.dev/ganariya/articles/vscode-latex-indent)を参考に設定してみる。

```sh
brew install perl
brew install cpanm
cpanm Log::Log4perl Log::Dispatch::File YAML::Tiny File::HomeDir Unicode::GCString
```

latexindentがエラーを出さなくなった。VSCodeもlatexindentがそのまま通るようになった。

春季安全教育提出した。

就任なんとか計画出した。

今日はタスク9個終わらせたが2個終わらなかった。

## [04月04日(木)](#04) <a id="04"></a>

今日発表の輪講の準備が終わった。直前過ぎる。

自作Pythonパッケージのインストールに失敗。setup.pyに標準パッケージである`logging`を入れたのが原因。無関係の`logging`を入れようとしてバグったらしい。標準パッケージと同じ名前の別のパッケージがあるの、すごく嫌な感じだな。Python2のパッケージがPython3で標準に入ったとか？

ChatGPTに聞いてみた。

> PythonのloggingパッケージはPython2から標準パッケージでしたか？

> PythonのloggingパッケージはPython 2.3で標準ライブラリとして導入されました。これは2003年にリリースされたバージョンです。その前は、loggingモジュールは外部ライブラリとして利用可能でしたが、Pythonの標準ライブラリには含まれていませんでした。したがって、Python 2.3以降、loggingはPythonの標準パッケージとなっています。

なるほど。

シミュレーション工学のページ作った。

## [04月03日(水)](#03) <a id="03"></a>

会議。yaml_cvを使っている人に挨拶された。自分のコードが人の役に立つとうれしい。

## [04月02日(火)](#02) <a id="02"></a>

疲れが残っている。

僕の学位取得年月日は2004年3月25日。なんか必要だったので学位記を引っ張り出した。この情報、10年に一度くらい必要になるんだけど、researchmapとかORC-IDとかで公開できないもんかな。

久しぶりにresearchmapにログインしたら、英語所属が名古屋大学になってた。久しぶりすぎた。

指導委託の書類送付。

研究室所属学生＋利用室提出。

昨日の疲れが残っている中作業しているのでミスが目立つし、そもそも効率が非常に悪い。

ImageMagickのコマンド群の一つ`identify`を初めて知った。こんな感じに使う。

```sh
$ identify test.jpg 
test.jpg JPEG 3840x2160 3840x2160+0+0 8-bit sRGB 388362B 0.000u 0:00.002
```

format文字列が指定できる。いろいろ自動処理に使えそう。Awkと組み合わせるとか。

```sh
$ identify -format "%w %h\n" test.jpg
3840 2160
```

気になってちゃんと調べたら、ImageMagickのコマンドはconvert, mogrity, indentify, montage, composite, displayの6つらしい。思ったより少なかった。

今調べたら、全部`magick`というコマンドから呼び出せる形になってる。magickは2016年にリリースされたバージョン7から導入され、`convert`は後方互換性のために残されてるとか、そういう位置づけっぽい。知らなかった。

8年も前の変更を知らずに生きていたのか。どんどん世界に取り残されているなぁ・・・

物性研スパコンのジョブ投入権更新＋新規追加。

輪講の準備。一節できなかった。明日か明後日できるか？

## [04月01日(月)](#01) <a id="01"></a>

NOP

新年度が始まってしまった。
