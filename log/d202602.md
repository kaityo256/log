# 2026年2月

## [02月13日(金)](#13) <a id="13"></a>

卒論と修論を製本に出した。こういうのが研究室に溜まっていくとうれしいですね。

輪講用の本を注文。

```txt
** WARNING: connection is not using a post-quantum key exchange algorithm.
** This session may be vulnerable to "store now, decrypt later" attacks.
** The server may need to be upgraded. See https://openssh.com/pq.html
```

マジか。もう耐量子アルゴリズムの時代なのか。

サーバを更新しないといけない。まずはWordpressのwp-contentのバックアップのためにrsyncを走らせる。rsyncはいつも最後の「/」がどっちかわからなくなるので、Makefileに残しておく。後でDockerでなんとかする。

lammpstrj-parserのテスト。

```sh
mkdir lammpstrj-parser-sample 
git init .
git submodule add https://github.com/kaityo256/lammpstrj-parser external/lammpstrj-parser
```

`main.cpp`を作成。

```cpp
#include <lammpstrj/lammpstrj.hpp>

int main() {
}
```

`Makefile`を作成。

```sh
CXX = g++
CXXFLAGS = -std=c++14 -O2 -Iexternal/lammpstrj-parser/include

all: lammpstrj-sample

lammpstrj-sample: main.cpp
	$(CXX) $(CXXFLAGS) main.cpp -o $@

.PHONY: clean

clean:
	rm -f lammpstrj-sample
```

`make`できることを確認。

```sh
$ make 
g++ -std=c++14 -O2 -Iexternal/lammpstrj-parser/include main.cpp -o lammpstrj-sample
```

うまくいっていたら、以下の内容の`.gitignore`を追加。

```txt
lammpstrj-sample
*.lammpstrj
log.lammps
```

後のためにlammpsの出力ファイルも追加しておく。

ここまでで以下のような表示になるはず。

```sh
$ git st
A  .gitmodules
A  external/lammpstrj-parser
?? .gitignore
?? Makefile
?? main.cpp
```

これらを全て追加してコミットする。

```sh
git add .
git commit -am ":tada: initial commit"
```

相分離シミュレーションを実施。以下のようなインプットファイルを`test.input`として作成。

```txt
units       lj
atom_style  atomic
boundary p p p
timestep 0.001

variable rho equal 0.5
variable L equal 10.0

lattice fcc ${rho}
region box block 0 ${L} 0 ${L} 0 ${L}
create_box 2 box
create_atoms 1 box
set type 1 type/fraction 2 0.5 98765

mass 1 1.0
mass 2 1.0

pair_style lj/cut 2.5
pair_coeff 1 1 1.0 1.0 2.5
pair_coeff 1 2 1.0 1.0 1.12246
pair_coeff 2 2 1.0 1.0 2.5

velocity all create 1.0 12345 mom yes rot yes dist gaussian

fix 1 all nvt temp 0.7 0.7 1.0

dump 1 all custom 500 test.lammpstrj id type x y z vx vy vz
thermo 500

run 25000
```

密度0.5、同種原子はLJ、異種原子はWCAとして温度0.7に固定する。後のために速度も出力しておく。

実行。

```sh
$ lmp_serial -i test.input
LAMMPS (22 Jul 2025)
Lattice spacing in x,y,z = 2 2 2
Created orthogonal box = (0 0 0) to (20 20 20)
  1 by 1 by 1 MPI processor grid
Created 4000 atoms
(snip)
   Step          Temp          E_pair         E_mol          TotEng         Press 
         0   1             -1.505224       0             -0.005599034   -0.81748395   
       500   1.0379285     -1.9071175      0             -0.350614       0.89774455   
      1000   1.0320452     -1.9831115      0             -0.4354307      0.83759061   
      1500   1.0048542     -2.0875114      0             -0.58060687     0.68268169   
      2000   0.95389438    -2.1579864      0             -0.72750253     0.7033103    
      2500   0.92615458    -2.2477533      0             -0.85886878     0.64168551   
      3000   0.90328012    -2.3386703      0             -0.98408884     0.50502435   
      3500   0.86221052    -2.4125228      0             -1.1195303      0.51427453   
      4000   0.83401226    -2.485898       0             -1.2351923      0.41993354   
(snip)
```

まずはこのサイズと原子数を取得する。`main.cpp`を以下のように書き換える。

```cpp
#include <cstdio>
#include <lammpstrj/lammpstrj.hpp>
#include <string>

int main() {
  const auto filename = "test.lammpstrj";
  auto si = lammpstrj::read_info(filename);
  printf("(LX, LY, LZ) = (%f, %f, %f)\n", si->LX, si->LY, si->LZ);
  printf("N = %d\n", si->atoms);
}
```

コンパイル、実行する。

```sh
$ make
$ ./lammpstrj-sample 
(LX, LY, LZ) = (20.000000, 20.000000, 20.000000)
N = 4000
```

情報が正しく取れている。

温度の取得。以下のようなクラスを作成。

```cpp
class LammpsAnalyzer {
private:
  const std::string filename_;
  int frame_;

public:
  LammpsAnalyzer(const std::string filename) : filename_(filename) {
    frame_ = 0;
  }

  void calc_temperature(const std::unique_ptr<lammpstrj::SystemInfo> &si, const std::vector<lammpstrj::Atom> &atoms) {
    double e = 0.0;
    for (auto &a : atoms) {
      e += a.vx * a.vx + a.vy * a.vy + a.vz * a.vz;
    }
    e /= static_cast<double>(si->atoms);
    e /= 3.0;
    printf("%d %f\n", frame_ * 500, e);
    frame_++;
  }
  void calculate(void) {
    lammpstrj::for_each_frame(filename_,
                              [this](const std::unique_ptr<lammpstrj::SystemInfo> &si, std::vector<lammpstrj::Atom> &atoms) {
                                this->calc_temperature(si, atoms);
                              });
  }
};
```

`main`関数を以下のように書き換え。

```cpp
int main() {
  const auto filename = "test.lammpstrj";
  auto si = lammpstrj::read_info(filename);
  printf("(LX, LY, LZ) = (%f, %f, %f)\n", si->LX, si->LY, si->LZ);
  printf("N = %d\n", si->atoms);

  LammpsAnalyzer la(filename);
  la.calculate();
}
```

コンパイル、実行する。

```sh
$ make
$ ./lammpstrj-sample 
(LX, LY, LZ) = (20.000000, 20.000000, 20.000000)
N = 4000
0 0.999750
500 1.037669
1000 1.031787
1500 1.004603
2000 0.953656
2500 0.925923
3000 0.903054
3500 0.861995
4000 0.833804
(snip)
```

温度が取れている＝原子の情報を全て取得できているので、あとは好き勝手できる(密度場の計算とVTKの出力までサンプルを作成すること)。

## [02月12日(木)](#12) <a id="12"></a>

卒論、修論の論文と要旨をesaにアップロードした。

日本物理学会の予稿の提出が明日までだった。慌てて作成して投稿。

仕事の合間に仕事している、みたいな。

## [02月11日(水)](#11) <a id="11"></a>

修士論文のタイトル承認した。

Dev.toにもRBMの記事ポストした。

[A Hands-On Introduction to Restricted Boltzmann Machines with a Minimal NumPy Implementation](https://dev.to/kaityo256/a-hands-on-introduction-to-restricted-boltzmann-machines-with-a-minimal-numpy-implementation-1inp)

## [02月10日(火)](#10) <a id="10"></a>

Grammerlyのサブスクリプションを解除。ChatGPTで代替可能。

製本用修論を全て印刷。金曜日に製本に出す予定。

ブログ更新した。

[制限ボルツマンマシンを触ってみる](https://kaityo256.github.io/simple_rbm_introduction)

## [02月09日(月)](#09) <a id="09"></a>

というわけで金曜日の分をマージ。

ブログにSNSシェアボタンをつけた。こんなのは不要だと思ってたんだけど、自分で新しいポストを作った時にシェアするのに必要だった。

[LAMMPS Cluster Analyzer](https://github.com/kaityo256/lammps-cluster-analyzer)をcxxoptを使うように修正。

某インタビュー動画をチェック。字幕について修正コメントをつけて返す。結構時間かかった。あと、自分の声はかなり聞き取りづらいな。字幕がないと何いっているかわからない。プロレスラーか？

製本用卒論を全て印刷。昨年動き出しが遅かったので今年は早めに動く。

## [02月08日(日)](#08) <a id="08"></a>

息子と国立科学博物館の「大絶滅展」へ。前から約束していた。

大絶滅展なんて人気出そうなのに、チケットの予約時に時間指定がなかったので、「あれ？空いているのかな」と思っていたが、案の定大混雑。わりと開館してすぐついたのだが、整理券を配布しており、中でも人が大量にいた。しかし、いろいろ貴重な化石の実物が大量に見られたので満足。自分が知らないことも結構あった。特に恐竜の前に繁栄していたワニの仲間とか知らなかった。

その後選挙に行ってきた。なんかネットが荒れそうだからしばらく近寄らんとこ。

ある契約の更新書類が来ており、契約したのが5年前、しかも記憶にない代理店から手紙。仕方ないので5年前の契約書類を探したら、ちゃんとその代理店と契約していたので、更新のために振込・・・をしようとしたら、銀行アプリが「電話による本人確認では最大振込金額が足りない」と言ってきて、仕方なくワンタイムパスワードをマイナンバーカードで登録しなおして、で、セキュリティコードってなんだっけみたいなことをやってバタバタ。しかし、スマホがマイナンバーカードを読めるようになったので、家で完結したのはありがたい。前のスマホはカード読めなかったからなぁ・・・

家の書類を大量にシュレッダー。いままで手がつけられなかった片付けをどんどん進めていく。

## [02月07日(土)](#07) <a id="07"></a>

金曜日の日記がない。おそらくpush忘れだな。後でマージ。

家の片付け。だいぶ不要な書類を捨ててやった。

RBMの動作デモウェブサイトを修正中。もはやJavaScriptやCSSは完全にAIの方が詳しいので、ほとんどAIに生成させて、デバッグして、という感じ。プログラミングが変わっているのを感じる。しかし、この状態で若い人はプログラミングができるようになるんだろうか？僕にとってのアセンブリとコンパイラみたいに、フルアセンブリでコードは組めなくても、必要な時に必要なところだけ解読できれば良い感じになるとか？

## [02月06日(金)](#06) <a id="06"></a>

修士論文発表会。皆さん無事に発表終了。

プログラミング基礎同演習採点確定。

春の学校の旅費手続き。

残予算の整理。

## [02月05日(木)](#05) <a id="05"></a>

菊地さんの論文が無事出版された。めでたい。

[S. Kikuchi and H. Watanabe, Phys. Rev. Fluids 11, 023901 (2026)](https://doi.org/10.1103/1m7q-lfwy)

学科のメール、転送＋ローカル保存していたが、大丈夫そうなので転送オンリーに修正。

頼まれ原稿修正。

[RBMライブラリ](https://github.com/watanabe-appi/simple_rbm)に、Google Colabでそのまま実行できるボタンを追加。

プログラミング基礎同演習のレポートをすべて採点。成績をつけた(まだ未提出)。明日最終確認して確定処理。

出張申請の不備を修正。

輪講用の本、見本を注文してみた。良ければ人数分頼もう。

## [02月04日(水)](#04) <a id="04"></a>

一日おしごと。

## [02月03日(火)](#03) <a id="03"></a>

疲れた。ここしばらく本当に忙しかったが、ようやく落ち着いた。これからは研究ガンガン進めるぞ。

遅くなったが、プログラミング基礎同演習第14回のレポートを採点した。成績もつけないと。

## [02月02日(月)](#02) <a id="02"></a>

卒論発表会。皆さん全く危なげなく、安心して見ていられた。お疲れさまでした。

もうひとつの「2月」終了。長かった。本当に長かった。疲れた。しかし、いい形で終わって良かった。

## [02月01日(日)](#01) <a id="01"></a>

なんか最近、Googleで「kaityo256」で検索するとこの日記が出てくるんだけど、なんでだ？おそらくどこからもリンクはないと思うのだが、僕のGitHubのページのページランクが高いとか？

原稿を修正。「紙面の制約」とするか「誌面の制約」とするか。どうやら「紙面」は新聞でよく使うらしく、雑誌は「誌面」らしい。また「紙幅」の場合は「制約」ではなく「都合」を使うっぽいな。
