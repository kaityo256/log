# 2022年11月

[ログ一覧](index.html)

## [11月28日(月)](#28) <a id="28"></a>

なんかやることがいっぱいありすぎて、予定がめちゃくちゃにバッティングし始めた。全く異なるタスクが複数走っており、全てをきちんと忘れずにこなせる自信がない。すでにいくつか会議を失念している(１つはすっぽかして、もう一つは事前に気づいたが認識してなかった)。ヤバい。

論文改訂に手をつけられないどころか、来季の講義の準備が全くできてない。やばたにえん。

[PyYAMLのサンプル](https://github.com/kaityo256/pyyaml_sample)書いた。

## [11月27日(日)](#27) <a id="27"></a>

よく寝た。体調は悪くないのだが・・・

TODOをいくつかつぶした。

## [11月26日(土)](#26) <a id="26"></a>

引き続き、体調は悪くないが頭が回らない状態が続いている。

GitHub演習のレポート、ようやくすべて採点が完了し、レポートコメントの返事も終わった。ものすごい時間かかった。

っていうかなんか今年は細かい仕事が多くて時間が細切れになり、それによってうまくタスクをこなせない状態が続いた。毎週のように土日に何かしら用事が入るのがきつい。

## [11月25日(金)](#25) <a id="25"></a>

体調は悪くないが、頭の回転が遅いなぁ。

レポートだいぶ採点した。後20枚。全部ゲームプレイがついてるので、えらく時間かかる。

## [11月24日(木)](#24) <a id="24"></a>

会議一つすっぽかした。大変申し訳ありません。

あと、メール返す締切を一つ忘れていた。

懇親会の精算とかも抜かりがあった。いろいろダメだ。

学習指導と学科分けの仕事とか。いろいろごっちゃになってきている。

研究室ミーティングと1on1たくさん。

課題研究発表会のアナウンス出した。

発表会が12月24日なので、プログラムのアナウンスは11月28日で十分余裕があると思っていたが、要旨の提出が12月6日。要旨の提出のためには事前に会場がわかっている必要があるので、プログラムのアナウンスと同時に要旨提出のアナウンスをすると、提出まで一週間になってしまう。提出の二週間前にアナウンスするためには、プログラムが11月22日には決まっていないとならず、そのためには11月15日にはプログラム案を作らないといけなかった。うーむ。

いろいろ後手に回っている。

## [11月23日(水)](#23) <a id="23"></a>

祝日(勤労感謝の日)。

レポート採点。1/3くらいしかできなかった。

ワールドカップ、日本 vs. ドイツ。前半1点ビハインドで折り返し、さすがに勝ちはないだろうと思って後半は見なかった。まさかあそこから逆転するとは。

## [11月22日(火)](#22) <a id="22"></a>

傷は癒えた！（ラオウ風に）

いや、ようやく鼻の調子がよくなった。鼻が通るだけでだいぶ気持ちがアガる。

なんか変な夢を見た。選挙で泡沫候補が当選、議員の集まる会議で、古参議員からバカにされるのを見て、僕が「彼らは国民によって選ばれたのだ。あなたがたは国民をバカにするのか」みたいに怒る、というもの。ただし、その泡沫候補の主張には同意しない、みたいな。不思議な夢だった。

今日、三田祭で講義ないわ。直前で気づいた。

[大学における数学教育の問題点と工夫](https://www.ms.u-tokyo.ac.jp/~oshima/paper/rims1802.pdf)

これ、前も読んだな。その時も暗い気持ちになった。もちろん理学部数学科の学生のレベルが低い、というのも悲しいけれど、このようなことを先生に書かれる学生の気持ちはどうなのか。

講義がなくて空いた時間に、一つだけ足りなかった講義動画(プログラミング基礎同演習の第10回)を録画した。なんかBoxの共有リンクに時計マークがついてて何かと思ったら、共有リンクの有効期限らしい。いつのまにか、デフォルトで期間指定がついちゃってる。ギリギリ講義期間内に視聴できなくなってしまうようなので、視聴期限制限をすべて解除した。

もう、講義動画全部YouTubeに上げちゃってもいいんだけど、どうなんだろうね？

GitHub演習の追加レポートの案内を出した。演習第四回、1/3ほど採点した。全部ゲームをプレイするのでめっちゃ時間かかる。

## [11月21日(月)](#21) <a id="21"></a>

だいぶ復活。

鼻水の元栓が壊れる問題、原因がわかった。授業参観だ。

どうも小学校とかそういう「人がたくさん出入りする場所」に行くと鼻がやられてしまうっぽいな。

課題研究発表会のプログラム案作った。毎回わりと時間かかるんだよなこれ・・・

大学院科目の科目概要(コースディスクリプション)を取りまとめて学事に送った。

冬季安全点検した。

Todoistの今日予定されていたTODOと、Slackのブックマークすべてに返事をしたはず。

論文改訂と来年度の講義の準備の時間が取れてない。あとGitHub演習の第4回のレポート採点もまだ。

娘の体調が悪く、なかなか寝なかったので、GitHubで講義ノートを書くノウハウをまとめてみた。

[GitHubで講義ノートを書く](https://zenn.dev/kaityo256/articles/github_lecture_note)

講義ノートにプルリク出せるって、良いやん？

## [11月20日(日)](#20) <a id="20"></a>

よく寝た・・・のだが、まだ体調が悪い。なんか起きた時にめまいがする。

また鼻水の元栓が壊れてしまった。うーん。なんかずっと体調悪いなぁ。

プログラミング基礎同演習第7回のレポート採点した。レポートの採点の合間に生きてる気がする。

明日からもやることがいっぱいある……

## [11月19日(土)](#19) <a id="19"></a>

今週は忙しかったので、すごく寝た。

GitHub演習第三回演習のレポート採点。あと第四回のレポートと、プログラミング基礎同演習のレポートもあってしんどい。

いや、毎回レポート出さなきゃいいだけの話なんだけど、毎回レポート出すと(そして毎回返事をすると)、学生の集中力が全然違う気がするんだよね・・・

## [11月18日(金)](#18) <a id="18"></a>

研究室分け説明会。半分くらいオンラインとなるかと思ったが、三年生はほぼ全員が対面で矢上に来ていた。研究室の説明会がオンラインだったのうちだけかな。来年はちょっと考えよう。

そのあと学科の懇親会。お店の雰囲気が良かった。がんばって探した甲斐があった。

この日記の読者がいることに驚いた。ずっと独り言のつもりだった。

## [11月17日(木)](#17) <a id="17"></a>

研究室ミーティング。卒論、修論の日程確認。

TODOをめっちゃ潰した。

logで`--shift-heading-level-by=-1`をやると、日付がすべてH1になってしまう。アドホックだが、結局こうした。

```make
docs/%.html: log/%.md
 TITLE=$(shell head -1 $< | sed -e '1 s/^# \(.*\)$$/\1/g'); pandoc -s $< -o $@ $(PANDOC_HTMLOPT) --metadata pagetitle=$$TITLE
```

もうちょっとスマートな方法がある気がするが・・・

というわけで、HTMLのタイトルがちゃんと「2022年11月」とかになるようにした。

しかし、pushするたびに、いちいちPandocをインストールしてmakeが走るんだよなぁ。GitHub Actionsの練習としてやってみたんだけど、なんか若干もったいない気もする。まぁ、ビルド一回あたり1分かかってないから良しとするか・・・

```sh
pandoc -s vcs/README.md -o vcs/index.html --mathjax -t html --shift-heading-level-by=-1 --template=template
pandoc: unrecognized option `--shift-heading-level-by=-1'
Try pandoc --help for more information.
```

うぉ、WSLのPandocが古い。

```sh
$ pandoc -v
pandoc 1.19.2.1
Compiled with pandoc-types 1.17.0.4, texmath 0.9, skylighting 0.1.1.4
Default user data directory: /home/watanabe/.pandoc
Copyright (C) 2006-2016 John MacFarlane
Web:  http://pandoc.org
This is free software; see the source for copying conditions.
There is no warranty, not even for merchantability or fitness
for a particular purpose.
```

```sh
$ which pandoc
/home/watanabe/.pyenv/shims/pandoc
```

ん？なんでここにあるんだ？Anacondaが入れたらしい。削除。

```sh
conda uninstall pandoc
```

最新版を入れる。

```sh
wget https://github.com/jgm/pandoc/releases/download/2.19.2/pandoc-2.19.2-1-amd64.deb
sudo dpkg -i pandoc-2.19.2-1-amd64.deb
```

```sh
$ pandoc -v
pandoc 2.19.2
Compiled with pandoc-types 1.22.2.1, texmath 0.12.5.2, skylighting 0.13,
citeproc 0.8.0.1, ipynb 0.2, hslua 2.2.1
Scripting engine: Lua 5.4
User data directory: /home/watanabe/.local/share/pandoc
Copyright (C) 2006-2022 John MacFarlane. Web:  https://pandoc.org
This is free software; see the source for copying conditions. There is no
warranty, not even for merchantability or fitness for a particular purpose.
```

入った。これで`--shift-heading-level-by=-1'が使えた。よしよし。

## [11月16日(水)](#16) <a id="16"></a>

会議その1。

TODOをばしばし潰していった。懇親会の確認とかコースディスクリプションとか。

なんか「ゼロから学ぶPython」のmakeが走らないなぁ、と思って、もう一度エラーをよく見てみた。

```sh
$ make
sed '2a [[Up]](../index.html)' about/README.md > about/index.md
sed: 1: "2a [[Up]](../index.html)": command a expects \ followed by text
make: *** [about/index.md] Error 1
rm about/index.md
```

あー、これはMacのsedがBSD系でgsedじゃないからだわ。

```sh
brew install gnu-sed
```

さて、makeが参照するsedをgsedにしたい。まともにやるなら、make内で判定するようにするのが妥当。しかし、そんなことで変な判定いれたくないし、そもそもMacでBSDのsedは使わない。

sedが`/usr/bin/`に、gsedが`/usr/local/bin/`に入っている。パスは`/usr/local/bin`を先に見るので、`/usr/local/bin/sed`として`gsed`にシンボリックリンクをはってしまえば良い。

```sh
$ cd /usr/local/bin/
$ sudo ln -s gsed sed
$ which sed
/usr/local/bin/sed
$ sed --version
sed (GNU sed) 4.9
Copyright (C) 2022 Free Software Foundation, Inc.
(snip)
```

pandocでmarkdownからHTMLにするときに「タイトルがないよ」という警告が出るやつ、これまでは`--metadata pagetitle=`で直接指定していたが、`--shift-heading-level-by=-1`を使うことでMarkdownのトップレベルのタイトル`# title`を自動取得してくれるらしい。便利。さっそく[ゼロから学ぶPython](https://kaityo256.github.io/python_zero)と[GitHub演習](https://kaityo256.github.io/github/)のHTMLを修正した。ちゃんとタイトルが反映されている。素晴らしい。

なんだ？GitHub Pagesが変なエラー出して死んだぞ。

```text
sudo apt-get install -y make pandoc
```

で死んでる。エラーメッセージはこんな感じ。

```txt
Reading package lists...
Building dependency tree...
Reading state information...
make is already the newest version (4.2.1-1.2).
make set to manually installed.
Suggested packages:
  texlive-latex-recommended texlive-xetex texlive-luatex pandoc-citeproc
  texlive-latex-extra context wkhtmltopdf librsvg2-bin groff ghc nodejs python
  libjs-mathjax node-katex
The following NEW packages will be installed:
  pandoc pandoc-data
0 upgraded, 2 newly installed, 0 to remove and 29 not upgraded.
Need to get 15.5 MB of archives.
After this operation, 125 MB of additional disk space will be used.
Err:1 http://azure.archive.ubuntu.com/ubuntu focal/universe amd64 pandoc-data all 2.5-3build2
  Could not connect to azure.archive.ubuntu.com:80 (52.252.75.106), connection timed out
Err:2 http://azure.archive.ubuntu.com/ubuntu focal/universe amd64 pandoc amd64 2.5-3build2
  Unable to connect to azure.archive.ubuntu.com:http:
E: Failed to fetch http://azure.archive.ubuntu.com/ubuntu/pool/universe/p/pandoc/pandoc-data_2.5-3build2_all.deb  Could not connect to azure.archive.ubuntu.com:80 (52.252.75.106), connection timed out
E: Failed to fetch http://azure.archive.ubuntu.com/ubuntu/pool/universe/p/pandoc/pandoc_2.5-3build2_amd64.deb  Unable to connect to azure.archive.ubuntu.com:http:
E: Unable to fetch some archives, maybe run apt-get update or try with --fix-missing?
```

Dockerで試してみたが、Dockerのubuntu:latestでは`archive.ubuntu.com`にデータを取りに行ってるのに、Actionsでは`azure.archive.ubuntu.com`に取りに行ってタイムアウトしてるな。

もう一度実行したら通ったっぽい。

logのPandocのオプションが古いな。あとで修正しておかないと。

会議その2。

## [11月15日(火)](#15) <a id="15"></a>

朝、ひどいめまいがした。先週後半は体調が良かったのに、また微妙な感じに。うーむ。

プログラミング基礎同演習。

卒論執筆ガイダンス。

[ゼロから学ぶPython](https://github.com/kaityo256/python_zero)のissueをすべて潰した。

学生さんが「バグってる並列プログラム、print文をいれるとプログラムが正常終了するんですが」とか言い出して、「並列計算の研究室になってきたなぁ」と思うなど。

## [11月14日(月)](#14) <a id="14"></a>

しまった、請求書類を一つ提出忘れてた・申し訳ないことをした。

来年度のプログラミング基礎同演習の出講希望出した。昨年とシステムが変わったので戸惑ってしまった。試験の形式の奴も戸惑ってしまった。

懇親会のリマインダ流した。

## [11月13日(日)](#13) <a id="13"></a>

疲れた。毎週土日に予定はいるのしんどい。

GitHub演習、Twitterで宣伝したらいっぱい星がついた。みなさんありがとうございます。

![GitHub Star History](images/221113_star_historypng)

プログラミング基礎同演習のレポート採点した。GitHub演習はまだ。

e-Taxの通知確認。便利だけど、なんかUIがいまいちだなぁ・・・

## [11月12日(土)](#12) <a id="12"></a>

学生さんの論文、英文校閲に出した。

講義ノートとスライドを更新。GitHub演習で出たissueをあらかた潰した。

## [11月11日(金)](#11) <a id="11"></a>

なんか疲れた。忙しかったし、一週間日記を書く余裕もなかった。金曜日に一週間分振り返って書いている。

学生さんの論文チェック。これで投稿できるかな。その前に英文校閲出す。

しまった、会議の時間が変わってて、別のミーティングとぶつかってしまった。

GitHub演習、無事に終わった。全員BANされてなかった。GitHubから「直しておく」という連絡が来ていたが、ちゃんとやっておいてくれたらしい。良かった。GitHub Supportのチケットを閉じておく。

とにかく今年もGitHub演習が終わった。二回やってみて、学生が詰まるところがわかってきた気がするので、忘れないうちに修正してしまおう。来年あたりはかなりスムーズに行くはず？

Macをupdateしたらmakeが使えなくなった。

```sh
$ make
xcrun: error: invalid active developer path (/Library/Developer/CommandLineTools), missing xcrun at: /Library/Developer/CommandLineTools/usr/bin/xcrun
```

例によってXcodeがらみらしい。

```sh
xcode-select --install
```

でインストール。なんか残り30分とか出るんだけど・・・

なんか5分で終わった。make使えるようになった。

## [11月10日(木)](#10) <a id="10"></a>

研究室ミーティング。僕の発表は[Kullback-Leibler 距離のあれこれ](https://speakerdeck.com/kaityo256/kl-divergence)。

しかし、発表資料をアップロードすると、必ず上から目線でコメントしてくる人がいるんだけど、なぜそんなに自信があるんだろう？

## [11月09日(水)](#09) <a id="09"></a>

会議 x 3。後、なんかえらい人たちと会談したりとか。なんで僕はこの場にいるんだろう的な。

WindowsがUpdateしてからWSLのアイコンがPowerShellになってしまい、タスクバーへの固定ができなくなった。PowerShell経由でWSLが実行されるようになった？タブがあったので増やしてみたらそっちはPowerShellになっちゃうし。

## [11月08日(火)](#08) <a id="08"></a>

GitHubから連絡が来た。講義内容に問題ないとお墨付き。良かった。

プログラミング基礎同演習の講義。

## [11月07日(月)](#07) <a id="07"></a>

GitHub演習、大量BANが出てしまった。同じIPアドレスから作成した大量のアカウントが、同じリポジトリをForkしたからかなぁ。GitHubに連絡してみないと。

GitHubに連絡した。ネットでは「コンタクトフォームから連絡するより、support_at_github.comに直接メールを投げたほうが対応が早い」と書いてあったのでそっちにメールを投げたのだが、すぐにGitHubから「今はメールでサポートを受け付けてないよ。ウェブからアクセスしな」と連絡。ウェブでチケットを切るシステムになったらしい。とりあえず新しいチケットを作成してみた。「講義内容に問題があったら知らせてくれ」と書いたが、一般にはBan基準は明らかにされないことが多いので、どうなるかな。

GitHub演習の演習第二回レポート採点して、返事をアップロードした。

## [11月06日(日)](#06) <a id="06"></a>

体調が悪い。鼻水の元栓が壊れてしまった。

## [11月05日(土)](#05) <a id="05"></a>

解析力学の講義の準備を始める。

プログラミング基礎同演習のレポートの採点した。ワードクラウド。毎年、人気作家にゆらぎが出るのが面白い。

## [11月04日(金)](#04) <a id="04"></a>

学生さんの論文チェックした。

GitHub演習。時間ギリギリ。

忙しかったが、ようやくヤマを超えそう。

今週はだいぶ調子が良かった。わりとTODOをつぶせた。

## [11月03日(木)](#03) <a id="03"></a>

生協アプリにログインできなくて困っていたのだが、メールトラブルだったらしい。今日、無事にログインできた。

GitHubのプルリクから学籍番号を逆算するスクリプト修正。

1on1。研究室ミーティング。

家のヘッドセットの調子が悪いので、学校で購入して持ち帰ったヘッドセットがかばんから出てくる。家に変えるまでに持ち帰ったことを忘れてたらしい。

昨日は家に帰るときに、ポケットにある財布を10分くらい探してしまった。だいぶ疲れている。

## [11月02日(水)](#02) <a id="02"></a>

柔道部の振り込みした。最近ATMが近くになく、日吉まで歩かないといけないのがしんどい。

ようやく生協に加入した。生協アプリを入れたが、即時登録ではないらしい。後ろが手作業なのかな？

久しぶりに生協食堂で食べた。コロナになってからずっとコンビニ弁当だったのだが、どうもそれが体調が悪い原因な気がしてきたので。

柔道部のお仕事その2。体育館利用申請。早く申請なしで活動できるようになると良いですね。

`ps`のオプションがよくわからなかったので調べた。以下はユーザごとに使ってるプロセス数を表示するスクリプト。

```sh
ps h -Led -o user | sort | uniq -c | sort -n
```

* h No header
* L Show threads, possibly with LWP and NLWP columns.
* e Show the environment after the command.
* d Select all processes except session leaders.
* o Display information associated with the space or comma separated list of keywords specified. 

なるほど。

GitHub演習、来週の分の動作をすべて確認。課題とスライドを修正してアップロード。さほど修正がなくて安心。しかし、いつもギリギリでござるなぁ。

今日はたくさんTODOを潰した。

## [11月01日(火)](#01) <a id="01"></a>

物性研システムCのgnuplotがpdfもpngも出力できないので、gnuplotをビルドしてインストールしてみた。しかし、cairo-develが見つからないためにpdf出力できない。システムBは問題ない。

講義。今日はワードクラウド。

GitHub演習のIssueをいくつか潰した。書こうと思っていた「CEOからのメッセージ」を余談に追加。
