# 2019年3月

## 3月29日(金)

2年生ガイダンス。研究室コンストラクタ。マウス忘れた・・・。

スパコンの共同利用審査委員と、もうひとつスパコン関係の委嘱書類提出。

とりえあずネットにはつながったぞ、と。

## 3月13日(水)

健康診断で三田へ。

引き続き金曜日のスライド作成。

## 3月12日(火)

理論系メーリングリストの引き継ぎをした。

金曜日のスライド作成。

## 3月11日(月)

git clone --recursiveしたら、" Server does not allow request for unadvertised object "と言われて失敗した。
家で修正したsubmoduleのpushを忘れてしまったらしい。うげぇ。

再現方法と対策を[Qiitaにまとめておいた](https://qiita.com/kaityo256/items/c269b8f2cc47b4799e9f)。
要するにsubmoduleでgit co masterしてから、main moduleでgit add;commitすればよろしい。
あとでマージすることになる。

## 3月10日(日)

NOP

引っ越しの準備とか。疲れた。

## 3月9日(土)

NOP

## 3月8日(金)

重い腰を上げて理論系メーリングリストの引き継ぎ資料作成。えらく時間がかかった。

予算使い切った。2月に使い切ると言ってたのだが、遅くなってしまった。申し訳ありません＞事務方面

書籍を整理してて、「萌えるシリーズ 萌え萌えうにっくす! UNIXネットワーク管理ガイド — PC UNIXネットワーク管理日々の疑問に萌えの一手」を捨てるかどうか迷ってしまった。

集中講義の委嘱についての手続きも進めたぞ。えらい。

そして今日もコードを全く書けなかった・・・。

## 3月7日(木)

GitHubの[分子動力学法・ステップ・バイ・ステップ](https://github.com/kaityo256/mdstep)に星がついたのをきっかけに、
少しだけREADMEを修正した。こういう、自分でも書いたのを忘れたようなものに「いいね」がつくとうれしい。

```sh
git clone https://github.com/gperftools/gperftools.git
cd gperftools
./autogen.sh
./configure --prefix=$HOME/local
make install
export LD_LIBRARY_PATH=$HOME/local/lib:$LD_LIBRARY_PATH
g++ -std=c++11 -L$HOME/local/lib -ltcmalloc -g test.cpp
```

K

```sh
git clone https://github.com/gperftools/gperftools.git
cd gperftools
./autogen.sh
./configure --prefix=$HOME/local --with-CC=fccpx --with-CXX=FCCpx --with-CFLAGS=-Xg --with-CPPFLAGS=-Xg
```

ダメだ。tcmallocのクロスコンパイルが面倒すぎる。諦めよう・・・。

## 3月6日(水)

SIMDを使うとクロックが下がる奴を調べてたのだが、Skylakeはきれいにxmm→ymm→zmmと下がるものの、
Haswellは下がらない。調べてみると、HaswellまではIntel Speedstep Technology、
SkylakeからIntel Speed Shift Technologyで、動作クロック変更の振る舞いが違うらしい。

とりあえずテストコード書いた。

[https://github.com/kaityo256/simd_clock](https://github.com/kaityo256/simd_clock)

[ここ](https://en.wikichip.org/wiki/intel/frequency_behavior)の記述が詳しいが、まだ理解しきれていない。

## 3月5日(火)

打ち合わせ。

資産確認。

mallocのTunable parameterについて調べて[Qiitaの記事](https://qiita.com/kaityo256/items/fc9a27d0df1371246951)にした。
これでもうmallocは忘れる。

## 3月4日(月)

mallocの振る舞いについてだいぶわかってきた。
多分向こうがチャンクとアリーナをごっちゃにしている。
あと、環境変数変えたら10倍遅くなるってなんなの？

所長賞授与式。ストックルームシステムの開発で、予算・決算係と情報技術室の合同チームでの受賞。
ISSP学術奨励賞と、ISSP柏賞を両方受賞したのは初だとのこと。ありがたいことです。

## 3月3日(日)

NOP

## 3月2日(土)

NOP

引っ越しの手続き。

## 3月1日(金)

コードを書いてスパコンに投げた。
最初、あわててRankで種を変えるのを忘れてた。

結果はいまいちっぽいなぁ。

mallocの振る舞いについて調べている。沼。