# 2025年8月

## [08月01日(金)](#01) <a id="01"></a>

LAMMPS最新版のクローンとビルド。

```sh
cd github
git clone -b release --depth 1  https://github.com/lammps/lammps.git
cd lammps
cd src
module purge
module load aocc/4.0.0 openmpi/4.1.5-aocc-4.0
make mpi CC=mpicxx LINK=mpicxx CCFLAGS="-g -O3 -std=c++11 -fopenmp" LINKFLAGS="-g -O3 -std=c++11 -fopenmp" -j 4
```

これのcmake版を作る。

```sh
cd github
git clone -b release --depth 1  https://github.com/lammps/lammps.git
cd lammps
mkdir build
cd build
module purge
module load aocc/4.0.0 openmpi/4.1.5-aocc-4.0
cmake ../cmake \
  -D CMAKE_C_COMPILER=mpicc \
  -D CMAKE_CXX_COMPILER=mpicxx \
  -D CMAKE_INSTALL_PREFIX=~/usr/local \
  -D CMAKE_CXX_FLAGS="-O3 -std=c++11 -fopenmp" \
  -D BUILD_MPI=yes
  -D BUILD_OMP=yes   
  -D CMAKE_EXE_LINKER_FLAGS="-O3 -std=c++11 -fopenmp" \
  -D PKG_MOLECULE=on
make -j 4
make install
```

これでいったかな？できたっぽい。

しかし、なんで令和にもなって僕はパッケージのビルドで苦労しているのか。

シミュレーション工学の評語確定。

いろいろ偉そうに話したりノウハウとか公開してるんだけど、いつも心の中の自分が「なんでお前が偉そうに話してるんだ？」と問いかける。でも、いつか見た「ロールモデルは手が届かないと意味がない」という言葉を旨に、できる限りこういうのを公開するようにしてる。

すごすぎる人のノウハウってあんまり参考にならんのよね。ちょうどいい人のノウハウがちょうどいい。
