# 2025年8月

## [08月29日(金)](#29) <a id="29"></a>

夜、RTA動画とか見てるんだけど、7分で終わるゲームを3000時間プレイしてるとか、ファミコンのロマンシアを25年やってるとか、いろいろすごすぎる。

予算関係を事務の人に相談。ちゃんとできそうで良かった。

というわけで学会の出張申請を全員分済ませたぞ。次からはスムーズにいけるはず。ただ、途中でシステムがバグって、「添付」をクリックすると、添付画面と送信終了ダイアログが同時にでるようになって難儀した。

全塾授業評価(KSEI)入力した。

## [08月28日(木)](#28) <a id="28"></a>

我々のRBMのライブラリを書くのに参考にしたコードがあったのだが、開発中にそのリポジトリが消えてしまった。しかし、我々のコードを公開する際、Ackには書きたいなと思ってその人に連絡したら、すごく丁寧なメールが来た。なんかうれしい。というわけでAckにちゃんと書いた。

研究室ミーティング。KPIの話とかした。

## [08月27日(水)](#27) <a id="27"></a>

直接の知り合い以外でこの日記を読んでいる人がいるらしい！まじか。読者なんて全部で5人もいないんじゃないか。東大〜名古屋時代はたぶん100人くらいはいた気がするが。

ImageMagickで幅192ピクセル、高さ72ピクセルの背景黒のPNGファイル作成。

```sh
$ magick -size 192x72 xc:black output.png
$ file output.png
output.png: PNG image data, 192 x 72, 1-bit grayscale, non-interlaced
```

ふむ。

テンポとして120BPMを採用したとする。1分に120拍なので、1拍0.5秒。4/4拍子なら1小節が4拍なので2秒。8小節で16秒ですね。

ピアノロール画像とwavが与えられ、再生するシステムをChatGPTにJavaScriptで書いてもらう。ついでに、MarkdownからHTMLを生成するため、Hugeの必要ファイルも全部作ってもらった。JavaScriptはショートコードという形に埋め込むと良いらしい。いくつか不満があったが、数往復もしたら完成。楽ちんだ。GitHubのworkflowも作ってもらったのでpushするだけでデプロイできるように。こりゃ楽だけど、いろいろ加速して大変だな。

論文投稿最終調整。来週には投稿したい。

メールたくさんかいた。留学生をSlackに招待した。

## [08月26日(火)](#26) <a id="26"></a>

ずっと目がかゆいし赤い。アレルギーではなく、アデノウイルスだっただろうか？

MacにJuliaをインストール。

```sh
brew update
brew upgrade
brew install julia
```

しようかと思ったが、upgradeに時間がかかりすぎてる。次。

また、TeXのformattingに失敗。

```sh
$ latexindent manuscript.tex
Can't locate YAML/Tiny.pm in @INC (you may need to install the YAML::Tiny module) (@INC entries checked: /usr/local/texlive/2025/texmf-dist/scripts/latexindent /usr/local/opt/perl/lib/perl5/site_perl/5.40/darwin-thread-multi-2level /usr/local/opt/perl/lib/perl5/site_perl/5.40 /usr/local/opt/perl/lib/perl5/5.40/darwin-thread-multi-2level /usr/local/opt/perl/lib/perl5/5.40 /usr/local/lib/perl5/site_perl/5.40/darwin-thread-multi-2level /usr/local/lib/perl5/site_perl/5.40) at /usr/local/texlive/2025/texmf-dist/scripts/latexindent/LatexIndent/UTF8CmdLineArgsFileOperation.pm line 107.
BEGIN failed--compilation aborted at /usr/local/texlive/2025/texmf-dist/scripts/latexindent/LatexIndent/UTF8CmdLineArgsFileOperation.pm line 107.
Compilation failed in require at /usr/local/texlive/2025/texmf-dist/scripts/latexindent/LatexIndent/LogFile.pm line 34.
BEGIN failed--compilation aborted at /usr/local/texlive/2025/texmf-dist/scripts/latexindent/LatexIndent/LogFile.pm line 34.
Compilation failed in require at /usr/local/texlive/2025/texmf-dist/scripts/latexindent/LatexIndent/Document.pm line 29.
BEGIN failed--compilation aborted at /usr/local/texlive/2025/texmf-dist/scripts/latexindent/LatexIndent/Document.pm line 29.
Compilation failed in require at /usr/local/bin/latexindent line 28.
BEGIN failed--compilation aborted at /usr/local/bin/latexindent line 28.
```

```sh
$ brew install perl
Warning: perl 5.40.2 is already installed and up-to-date.
To reinstall 5.40.2, run:
  brew reinstall perl

$ brew install cpanminus
Warning: cpanminus 1.7048 is already installed and up-to-date.
To reinstall 1.7048, run:
  brew reinstall cpanminus
```

両方入ってるな。

```sh
cpanm YAML::Tiny File::HomeDir File::Find::Rule Unicode::GCString
```

なんかVSCodeのLaTeXがDockerを要求するようになった。

```json
    "latex-workshop.docker.enabled": true,
```

なんだこりゃ？Docker関連の拡張機能を全て削除。Docker DXとDocker、Dev Containersが入ってた。その上で、

```json
    "latex-workshop.docker.enabled": false,
```

にしたらうまくいった。

あと、Formatterがうまく動かなかった件も解決。こちらはPerlの問題っぽいな。

なんか本質的ではないところで疲弊する・・・

論文のイントロまで完成。あとは細かいところのチェック。

## [08月25日(月)](#25) <a id="25"></a>

RBMの重み初期化について。

* Lecun初期化
    * 古典的な初期化
    * 平均ゼロ、分散1の正規分布で初期化
    * LeCun et al., 1998
* Xavier初期化
    * 正規化初期化。勾配消失、爆発や局所解収束を防ぐために行われる。Sigmoid活性化のために導入された。
    * 原著はXavier Glorot and Yoshua Bengio, "Understanding the difficulty of training deep feedforward neural networks," In Proceedings of the Thirteenth International Conference on Artificial Intelligence and Statistics (AISTATS 2010)*, vol. 9, pp. 249–256, 2010.のようだ。
* He初期化
    * Xavier初期化と相性が悪いReLU活性化関数のために提案された？
    * RBMには不要かな？

僕の解析コードにバグがあったので修正。

学生さんの研究計画を作って送る。

完全オンライン化された予算システムを使って、初めて学生の出張申請・・・をしたら、早速間違えた。異なる予算をクリックして始めてしまった。送信したらもう修正できないらしい。慌てて修正依頼を出す。駄目だなぁ・・・

しかし、やり方はわかった。次はいけるはず。

## [08月24日(日)](#24) <a id="24"></a>

NOP

## [08月23日(土)](#23) <a id="23"></a>

NOP

## [08月22日(金)](#22) <a id="22"></a>

論文公開に向けたRBMのコード整理。

## [08月21日(木)](#21) <a id="21"></a>

昨日からずっとひどいアレルギー反応。鼻水と目がひどく仕事にならない。

一昨日の夜片付けた、車のエアベッドを畳んだ時にホコリが舞ったせいでは、との指摘。そうかも。久しぶりに使うものに関してはいろいろ気をつけないとな・・・

プログラミング基礎同演習とGitHub演習の予定をカレンダーに書き込んだ。実験はまだ。

「担当教員からの一言」に生成AIの利用について書け、というので「学生諸君の良識に任せる」とだけ書いた。大学生なんだから自分で判断して欲しい。

実験の日程も確定した。全部カレンダーに書き込んだ。

## [08月20日(水)](#20) <a id="20"></a>

Pythonが必要。

```sh
git clone https://github.com/pyenv/pyenv.git ~/.pyenv
export PYENV_ROOT="$HOME/.pyenv"
export PATH="$PYENV_ROOT/bin:$PATH"
eval "$(pyenv init -)"
pyenv install 3.11.9
pyenv global 3.11.9
python3 -m pip install --user meson ninja
pip install --upgrade pip
```

物性研にgnuplot+png+pngcairoをインストール。

```sh
cd build
```

zlib。

```sh
wget https://zlib.net/zlib-1.3.1.tar.gz
tar xvf zlib-1.3.1.tar.gz
cd zlib-1.3.1
./configure --prefix=$HOME/usr/local
make && make install
cd ..
```

libpng。

```sh
wget https://download.sourceforge.net/libpng/libpng-1.6.44.tar.gz
tar xvf libpng-1.6.44.tar.gz
cd libpng-1.6.44
./configure --prefix=$HOME/usr/local --with-zlib-prefix=$HOME/usr/local
make && make install
cd ..
```

freetype

```sh
wget https://download.savannah.gnu.org/releases/freetype/freetype-2.13.3.tar.gz
tar xvf freetype-2.13.3.tar.gz
cd freetype-2.13.3
./configure --prefix=$HOME/usr/local
make && make install
cd ..
export PKG_CONFIG_PATH=$HOME/usr/local/lib/pkgconfig:$PKG_CONFIG_PATH
export LD_LIBRARY_PATH=$HOME/usr/local/lib:$LD_LIBRARY_PATH
export CPPFLAGS="-I$HOME/usr/local/include $CPPFLAGS"
export LDFLAGS="-L$HOME/usr/local/lib $LDFLAGS"
```

expat

```sh
wget https://github.com/libexpat/libexpat/releases/download/R_2_6_3/expat-2.6.3.tar.xz
tar xvf expat-2.6.3.tar.xz
cd expat-2.6.3
./configure --prefix=$HOME/usr/local
make && make install
export PKG_CONFIG_PATH=$HOME/usr/local/lib/pkgconfig:$PKG_CONFIG_PATH
export LD_LIBRARY_PATH=$HOME/usr/local/lib:$LD_LIBRARY_PATH
```

fontconfig

```sh
wget https://www.freedesktop.org/software/fontconfig/release/fontconfig-2.15.0.tar.gz
tar xvf fontconfig-2.15.0.tar.gz
cd fontconfig-2.15.0
./configure --prefix=$HOME/usr/local --with-add-fonts=$HOME/.fonts
make && make install
cd ..
```

pixman

```sh
wget https://cairographics.org/releases/pixman-0.43.4.tar.gz
tar xvf pixman-0.43.4.tar.gz
cd pixman-0.43.4
meson setup build --prefix=$HOME/usr/local
ninja -C build
ninja -C build install
cd ..
```



```sh
wget https://cairographics.org/releases/cairo-1.18.0.tar.xz
tar xvf cairo-1.18.0.tar.xz
cd cairo-1.18.0
meson setup build --prefix=$HOME/usr/local --libdir=lib
ninja -C build
ninja -C build install
```

できない。glibcの新しいバージョンが必要っぽい。

gnuplotをPNGのみでインストール。

```sh
wget https://sourceforge.net/projects/gnuplot/files/gnuplot/6.0.1/gnuplot-6.0.1.tar.gz
tar xvf gnuplot-6.0.1.tar.gz
cd gnuplot-6.0.1
export PKG_CONFIG_PATH=$HOME/usr/local/lib/pkgconfig:$PKG_CONFIG_PATH
export LD_LIBRARY_PATH=$HOME/usr/local/lib:$LD_LIBRARY_PATH
export CPPFLAGS="-I$HOME/usr/local/include"
export LDFLAGS="-L$HOME/usr/local/lib"
./configure --prefix=$HOME/usr/local --without-qt
```

だめだ。libgdが必要。

```sh
wget https://github.com/libgd/libgd/releases/download/gd-2.3.3/libgd-2.3.3.tar.gz
tar xvf libgd-2.3.3.tar.gz
cd libgd-2.3.3
./configure --prefix=$HOME/usr/local \
  --with-png=$HOME/usr/local \
  --without-xpm --without-freetype --without-jpeg --without-fontconfig
make
make install
```

できた。結局、pngcairoは駄目だった。もう一度まとめなおす。


ビルド場所とインストール先を作成。

```sh
mkdir -p ~/build ~/usr/local
```

ビルド場所に移動。

```sh
cd build
```

zlibのインストール。

```sh
wget https://zlib.net/zlib-1.3.1.tar.gz
tar xvf zlib-1.3.1.tar.gz
cd zlib-1.3.1
./configure --prefix=$HOME/usr/local
make
make install
cd ..
```

libpngのインストール。

```sh
wget https://download.sourceforge.net/libpng/libpng-1.6.44.tar.gz
tar xvf libpng-1.6.44.tar.gz
cd libpng-1.6.44
./configure --prefix=$HOME/usr/local --with-zlib-prefix=$HOME/usr/local
make
make install
cd ..
```

libgdのインストール。

```sh
wget https://github.com/libgd/libgd/releases/download/gd-2.3.3/libgd-2.3.3.tar.gz
tar xf libgd-2.3.3.tar.gz
cd libgd-2.3.3
./configure --prefix=$HOME/usr/local \
  --with-png=$HOME/usr/local \
  --without-freetype --without-fontconfig --without-xpm --without-jpeg
make
make install
cd ..
```

gnuplotのインストール。

```sh
wget https://sourceforge.net/projects/gnuplot/files/gnuplot/6.0.1/gnuplot-6.0.1.tar.gz
tar xf gnuplot-6.0.1.tar.gz
cd gnuplot-6.0.1
export PKG_CONFIG_PATH=$HOME/usr/local/lib/pkgconfig:$PKG_CONFIG_PATH
export LD_LIBRARY_PATH=$HOME/usr/local/lib:$LD_LIBRARY_PATH
export CPPFLAGS="-I$HOME/usr/local/include"
export LDFLAGS="-L$HOME/usr/local/lib"
./configure --prefix=$HOME/usr/local --without-qt
make
make install
```

あとは、

```sh
~/usr/local/bin/gnuplot
```

を使うことで、計算ノードでgnuplotが利用可能。物性研システムB, Cともにいけた。


## [08月19日(火)](#19) <a id="19"></a>

というわけで夏季休暇終了。

国際オンライン会議すっぽかした・・・反省。大変申し訳ありません。

1on1たくさん。

特に録画もしていないZoomの1on1のあとで「Hiroshi Watanabeのパーソナルミーティングルーム のミーティングアセットの準備ができました！」というのが届くのがよくわからなかったのだけれど、これはホワイトボードを使ったあと、そのボードが保存されてあとからアクセスできるようになっていたらしい。いらん。いらんけど、たまに「あ、ホワイトボード保存する前に消しちゃった」ってあったんだろうなぁ。

## [08月18日(月)](#18) <a id="18"></a>

NOP

## [08月17日(日)](#17) <a id="17"></a>

TDSへ。暑かった。

## [08月16日(土)](#16) <a id="16"></a>

論文少しアップデート。

## [08月15日(金)](#15) <a id="15"></a>

論文少しアップデート。

## [08月14日(木)](#14) <a id="14"></a>

論文少しアップデート。

## [08月13日(水)](#13) <a id="13"></a>

ずっとNOPなのは悲しいので、無理やり時間を作って記事を書いた。

[最速降下曲線の話](https://zenn.dev/kaityo256/articles/brachistochrone_curve)

あと、表の階段の掃除をした。えらい。

## [08月12日(火)](#12) <a id="12"></a>

NOP

## [08月11日(月)](#11) <a id="11"></a>

NOP

## [08月10日(日)](#10) <a id="10"></a>

NOP

## [08月09日(土)](#09) <a id="09"></a>

査読レポートを返したりしたはず。

## [08月08日(金)](#08) <a id="08"></a>

自分が何をしていたか、Todoistのアクティビティログを調べたが、ろくになにもしていない。

で、Google Calendarみたら、長時間のオンライン会議があった。ふー。

せっかく社会人博士の学生さんが来てたので、もう少し議論とかしたかったのだが。

明日から夏季休暇。長い・・・

## [08月07日(木)](#07) <a id="07"></a>

夏休み前の研究室ミーティング。どちらも面白い。

物理学会の予定。

* 16aSK306-13 伊藤悠生
* 16aSK110-2 ローランド
* 18aSK304-13 小林睦巳
* 18aSK304-12 細田 昌景
* 19aSK305-13 竹内奏人

さくらのVPS代、請求書しか提出してなくて返ってきた。領収書(さくらの場合は受領書)を追加で添付。

数理物理の期末試験と解答をアップロード。難易度は例年並みにしたつもりだったが、満点が結構して、全体的な成績もかなり良かった。素晴らしい。

## [08月06日(水)](#06) <a id="06"></a>

Docker + CrowdWalkを試してみる。

```sh
export LANG=ja_JP.UTF-8
export JAVA_OPTS='-Dgroovy.source.encoding=UTF-8 -Dfile.encoding=UTF-8'
git clone https://github.com/crest-cassia/CrowdWalk.git
cd ~/CrowdWalk/crowdwalk
./gradlew
```

```sh
docker build -t crowdwalk-docker .
```

Ubuntuにxeyesをインストール。

```sh
sudo apt install -y x11-apps
```

```sh
xhost + localhost
docker run --rm -e DISPLAY=host.docker.internal:0 crowdwalk-docker
```

これでうまくいった。

Rockeyにxclockをインストール。

```sh
sudo dnf install -y xclock
```

サーバ側で`/etc/ssh/sshd_config`で以下を設定してからsshd再起動。

```sh
X11Forwarding yes
X11UseLocalhost yes 
```

```sh
sudo systemctl restart sshd
```

xauthをインストール。

```sh
sudo dnf install -y xauth
```

xclockで動作確認。

```sh
xclock
```

OK。

Rockeyにxauthをインストール。

```sh
sudo dnf install xorg-x11-server-utils
```

駄目だ。どうしてもSSH+Docker+X11ができない。後回し。

## [08月05日(火)](#05) <a id="05"></a>

全く頭が回っていない。

論文を少しだけ進めた。

```sh
$ npm install -g npm@11.5.2
npm error code EBADENGINE
npm error engine Unsupported engine
npm error engine Not compatible with your version of node/npm: npm@11.5.2
npm error notsup Not compatible with your version of node/npm: npm@11.5.2
npm error notsup Required: {"node":"^20.17.0 || >=22.9.0"}
npm error notsup Actual:   {"npm":"10.9.0","node":"v20.9.0"}
npm error A complete log of this run can be found in: /home/watanabe/.npm/_logs/2025-08-05T13_33_39_019Z-debug-0.log
```

ありゃ。Node.jsが古い。

```sh
nvm install 22.9.0
nvm use 22.9.0
npm install -g npm@11.5.2
```

## [08月04日(月)](#04) <a id="04"></a>

なんか忙しすぎて、いろいろ全く回ってない。

1on1たくさん。

数理物理の成績確定。

「行間が・・・」のネガティブな書評を見て凹む。まぁ、わかってたけどね・・・。見なきゃいいのに見ちゃうんだよな。

あと、僕のZennの記事の批判も見つけてしまった。

なんか今書こうと思ってた記事も、書くの億劫になったなぁ。

## [08月03日(日)](#03) <a id="03"></a>

NOP

## [08月02日(土)](#02) <a id="02"></a>

NOP

なんか侍魂が復活したとかなんとか。懐かしい。リアルタイム世代。

## [08月01日(金)](#01) <a id="01"></a>

LAMMPS最新版のクローンとビルド。

```sh
cd github
git clone -b release --depth 1  https://github.com/lammps/lammps.git
cd lammps
cd src
module purge
module load aocc/4.0.0 openmpi/4.1.5-aocc-4.0
make mpi CC=mpicxx LINK=mpicxx CCFLAGS="-g -O3 -std=c++11 -fopenmp" LINKFLAGS="-g -O3 -std=c++11 -fopenmp" -j 4
```

これのcmake版を作る。

```sh
cd github
git clone -b release --depth 1  https://github.com/lammps/lammps.git
cd lammps
mkdir build
cd build
module purge
module load aocc/4.0.0 openmpi/4.1.5-aocc-4.0
cmake ../cmake \
  -D CMAKE_C_COMPILER=mpicc \
  -D CMAKE_CXX_COMPILER=mpicxx \
  -D CMAKE_INSTALL_PREFIX=~/usr/local \
  -D CMAKE_CXX_FLAGS="-O3 -std=c++11 -fopenmp" \
  -D BUILD_MPI=yes
  -D BUILD_OMP=yes   
  -D CMAKE_EXE_LINKER_FLAGS="-O3 -std=c++11 -fopenmp" \
  -D PKG_MOLECULE=on
make -j 4
make install
```

これでいったかな？できたっぽい。

しかし、なんで令和にもなって僕はパッケージのビルドで苦労しているのか。

シミュレーション工学の評語確定。

いろいろ偉そうに話したりノウハウとか公開してるんだけど、いつも心の中の自分が「なんでお前が偉そうに話してるんだ？」と問いかける。でも、いつか見た「ロールモデルは手が届かないと意味がない」という言葉を旨に、できる限りこういうのを公開するようにしてる。

すごすぎる人のノウハウってあんまり参考にならんのよね。ちょうどいい人のノウハウがちょうどいい。
