# ログ

[ログ一覧](index.html)

## [03月09日(水)](#09) <a id="09"></a>

そういえばMacにgsが無い。前回はMacTexを入れたが、今回はTeXLiveを入れたので入っていないようだ。MacTexでは独自のgsを入れるのでいろいろ面倒だという話があったが、TeXLiveではgsは入らない(?)ので、brewで入れてよかろう。

```sh
brew install ghostscript
```

うーん、ウィンドウが出ない。どうするんだっけ？

研究打ち合わせ。とても参考になった。やっぱりプロに聞くのが早い。多謝。

## [03月08日(火)](#08) <a id="08"></a>

Macではターミナルからデスクトップやダウンロードフォルダにアクセスする場合、許可が必要になっている。おそらく意図しない情報ぶっこぬきに対応するためだろう。で、例えばデスクトップにあるPDFをリポジトリに持ってこようとして、

```sh
cp ~/Desktop/hoge.pdf .
```

とした時、最初に「"ターミナル"から"デスクトップ"フォルダ内のファイルにアクセスしようとしています。」というシステムダイアログが出てくる。これで一度許可すれば次から聞かれないのだが、うっかり「許可しない」をクリックすると、二度と許可されずに

```sh
$ ls
ls: .: Operation not permitted
```

みたいになってしまう。これはTCC (Transparency Consent and Control)というユーザ保護の仕組みで、デスクトップフォルダ、ダウンロードフォルダ、写真フォルダなど細かく制御されている。で、当該制御項目をリセットすればよいのだが、例えばデスクトップフォルダへのアクセスを制御するには、

```sh
tccutil reset サービス名
```

とすれば良いのだが、サービス名を調べるのが面倒。というわけで全部リセットしてしまい、必要に応じてまた許可すれば良い。

```sh
tccutil reset All
```

必要なのはわかるが、いろいろ面倒だ・・・

学生さん論文、少し進めた。

## [03月07日(月)](#07) <a id="07"></a>

製本した卒論、郵送した。

卒論テーマ案と「最初の論文」案、ようやくできた。本当は金曜日には作るはずだったのだが。

自然科学実験の会議。

gnuplotハンズオン。いろいろ不手際があった。事前にXを飛ばすのをちゃんと確認しておかないといけない。特にWSLが鬼門。

## [03月06日(日)](#06) <a id="06"></a>

NOP

体が全く動かない。

## [03月05日(土)](#05) <a id="05"></a>

NOP

体が全く動かない。

## [03月04日(金)](#04) <a id="04"></a>

来客対応。

卒論の郵送準備した。

Zoomの参加者取得方法メモ。

* [【GAS×ZOOM API】ミーティングの参加者をリアルタイムで取得する方法](https://qiita.com/coticoticotty/items/d247e1fe39a010c588c5)
* [招待済みミーティング参加者の出席ステータスの表示](https://support.zoom.us/hc/ja/articles/4409428659725-%E6%8B%9B%E5%BE%85%E6%B8%88%E3%81%BF%E3%83%9F%E3%83%BC%E3%83%86%E3%82%A3%E3%83%B3%E3%82%B0%E5%8F%82%E5%8A%A0%E8%80%85%E3%81%AE%E5%87%BA%E5%B8%AD%E3%82%B9%E3%83%86%E3%83%BC%E3%82%BF%E3%82%B9%E3%81%AE%E8%A1%A8%E7%A4%BA)

## [03月03日(木)](#03) <a id="03"></a>

研究室ミーティング。中野さんのアクティブマターの話。面白い。LatticeでZ4はrelevantだけど、Z6がirrelevantだってやつ、ちょっと探した範囲では見つからなかった。どの論文だったかなぁ。

僕の話は[マルコフ連鎖モンテカルロ法の気持ち](https://speakerdeck.com/kaityo256/markov-chain-monte-carlo)。講義の準備を兼ねた話だが、まだこなれて無い気がする。

研究打ち合わせを依頼。

## [03月02日(水)](#02) <a id="02"></a>

次回ハンズオン(gnuplot)のためにX Windowの設定の確認。たまたままっさらに近いiMacがあったので試す。

[https://www.xquartz.org/](https://www.xquartz.org/)から、最新版のXQuartz(2021年4月25日時点では`XQuartz-2.8.1.dmg`)をダウンロードし、dmgファイルを開いてXQuartz.pkgを実行してインストールする。

ローカルですぐにxeyesは動くようになったが、研究室サーバからXが飛ばない。エラーはこれ。

```txt
X11 forwarding request failed on channel 0
```

あれ、Ubuntuからもだめだ。サーバ側の問題かな。

`/etc/ssh/sshd_config`に`X11Forwarding yes`はある。

`/etc/ssh/sshd_config`に`X11UseLocalhost no`を設定して

```sh
sudo service sshd restart
```

してから再度接続したら通った。

とりあえずローカルにbrewでgnuplotを入れたら以下のメッセージが出た。あとで確認。

```txt
Disable this behaviour by setting HOMEBREW_NO_INSTALL_CLEANUP.
Hide these hints with HOMEBREW_NO_ENV_HINTS (see `man brew`).
```

調べた。[brew 2.0.0からcleanupが自動で走るようになったらしい](https://brew.sh/2019/02/02/homebrew-2.0.0/)。cleanup、reinstall、install、upgradeをトリガーとして、30日間走っていなければcleanupが勝手に走るとのこと。それが嫌なら`HOMEBREW_NO_INSTALL_CLEANUP`を設定してね。とのこと。cleanupして欲しいし、このヒントは不要なので、`HOMEBREW_NO_ENV_HINTS`を設定しておく。

環境変数について何も知らなかった。[setとenvの違い](https://stackoverflow.com/a/65141342)。

単に値を入れるだけだと、setではひっかかるが、envにはひっかからない。

```sh
$ ABC=xyz
$ set | grep ABC
ABC=xyz
$ env | grep ABC
```

exportすると、「それが定義されたときにexportされる」という情報が付与される。

```sh
$ export ABC  # この時点ではなにも値が設定されない
$ set | grep ABC
ABC=''
$ env | grep ABC
$ ABC = xyz # 値を設定
$ set | grep ABC
ABC=xyz
$ env | grep ABC
ABC=xyz
```

う、Macではexportした時点で空文字列が設定されるな。

Linux+Bash

```sh
$ export ABC
$ set | grep ABC
_=ABC
```

やっぱり空文字列か。

Ubuntu + Zsh

```sh
$ export ABC
$ set | grep ABC
ABC=''
```

これはOSというよりシェルの違いか。`export`した時点で空文字列が設定されるんだな。

シェル変数と環境変数の違いをちゃんと認識していなかった。シェル変数は現在のシェルのみで有効、環境変数は子プロセスにも受け継がれる。

`env`は環境変数の一覧、`set`はシェル変数と環境変数の一覧を表示。`export`も環境変数一覧。

時間割の確認。とりあえず自分の担当講義は「教育支援システム」→「出講カレンダー」で確認できる。また、学事日程は同画面の「資料ダウンロード」からダウンロード可能(これが欲しかった)。大学院のまだかな？

学生さん論文、少し修正。

## [03月01日(火)](#01) <a id="01"></a>

3月になってしまった。月が変わるたびに進捗のなさに絶望してしまう。

ディスプレイが大きくなったので、VSCodeのフォントも大きくしてみる。っていうか老眼・・・

木曜日の発表の準備。2時間でできるかな？→3時間半かかった。

学習指導のお仕事。VS CodeにMarkdown PDFが入ってなかったので入れたが、なぜかうまくいかなかった。後で原因究明すること。