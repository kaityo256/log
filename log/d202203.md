# ログ

[ログ一覧](index.html)

## [03月02日(水)](#02) <a id="02"></a>

次回ハンズオン(gnuplot)のためにX Windowの設定の確認。たまたままっさらに近いiMacがあったので試す。

[https://www.xquartz.org/](https://www.xquartz.org/)から、最新版のXQuartz(2021年4月25日時点では`XQuartz-2.8.1.dmg`)をダウンロードし、dmgファイルを開いてXQuartz.pkgを実行してインストールする。

ローカルですぐにxeyesは動くようになったが、研究室サーバからXが飛ばない。エラーはこれ。

```txt
X11 forwarding request failed on channel 0
```

あれ、Ubuntuからもだめだ。サーバ側の問題かな。

`/etc/ssh/sshd_config`に`X11Forwarding yes`はある。

`/etc/ssh/sshd_config`に`X11UseLocalhost no`を設定して

```sh
sudo service sshd restart
```

してから再度接続したら通った。

とりあえずローカルにbrewでgnuplotを入れたら以下のメッセージが出た。あとで確認。

```txt
Disable this behaviour by setting HOMEBREW_NO_INSTALL_CLEANUP.
Hide these hints with HOMEBREW_NO_ENV_HINTS (see `man brew`).
```

調べた。[brew 2.0.0からcleanupが自動で走るようになったらしい](https://brew.sh/2019/02/02/homebrew-2.0.0/)。cleanup、reinstall、install、upgradeをトリガーとして、30日間走っていなければcleanupが勝手に走るとのこと。それが嫌なら`HOMEBREW_NO_INSTALL_CLEANUP`を設定してね。とのこと。cleanupして欲しいし、このヒントは不要なので、`HOMEBREW_NO_ENV_HINTS`を設定しておく。

環境変数について何も知らなかった。[setとenvの違い](https://stackoverflow.com/a/65141342)。

単に値を入れるだけだと、setではひっかかるが、envにはひっかからない。

```sh
$ ABC=xyz
$ set | grep ABC
ABC=xyz
$ env | grep ABC
```

exportすると、「それが定義されたときにexportされる」という情報が付与される。

```sh
$ export ABC  # この時点ではなにも値が設定されない
$ set | grep ABC
ABC=''
$ env | grep ABC
$ ABC = xyz # 値を設定
$ set | grep ABC
ABC=xyz
$ env | grep ABC
ABC=xyz
```

う、Macではexportした時点で空文字列が設定されるな。

Linux+Bash

```sh
$ export ABC
$ set | grep ABC
_=ABC
```

やっぱり空文字列か。

Ubuntu + Zsh

```sh
$ export ABC
$ set | grep ABC
ABC=''
```

これはOSというよりシェルの違いか。`export`した時点で空文字列が設定されるんだな。

シェル変数と環境変数の違いをちゃんと認識していなかった。シェル変数は現在のシェルのみで有効、環境変数は子プロセスにも受け継がれる。

`env`は環境変数の一覧、`set`はシェル変数と環境変数の一覧を表示。`export`も環境変数一覧。

時間割の確認。とりあえず自分の担当講義は「教育支援システム」→「出講カレンダー」で確認できる。また、学事日程は同画面の「資料ダウンロード」からダウンロード可能(これが欲しかった)。大学院のまだかな？

## [03月01日(火)](#01) <a id="01"></a>

3月になってしまった。月が変わるたびに進捗のなさに絶望してしまう。

ディスプレイが大きくなったので、VSCodeのフォントも大きくしてみる。っていうか老眼・・・

木曜日の発表の準備。2時間でできるかな？→3時間半かかった。

学習指導のお仕事。VS CodeにMarkdown PDFが入ってなかったので入れたが、なぜかうまくいかなかった。後で原因究明すること。