<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="generator" content="pandoc">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
                <title>d202111</title>
    <style type="text/css">
      code {
        white-space: pre;
      }
    </style>
        <style type="text/css"></style>

    <link rel="stylesheet" href="style.css" type="text/css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- link rel="stylesheet" href="github-markdown.css" type="text/css" / -->
          </head>

  <body>
    <article class="markdown-body">
                        <h1 id="ログ">ログ</h1>
<p><a href="index.html">ログ一覧</a></p>
<h2 id="月18日木"><a href="#18">11月18日(木)</a> <a id="18"></a></h2>
<p>Dockerでarchlinuxでpacmanでqemuを落としているときにビルドが失敗する。通信がおそすぎてタイムアウトしているらしい。ミラーを変えるべきだな。</p>
<p>JAISTに変えたら圧倒的に高速化された。素晴らしい。JAISTは日本の宝。</p>
<p>またWSL2のUbuntuの時計がずれた・・・</p>
<p>GitHubのPATを取得して、Dockerからpushできるようにしたぞ。</p>
<p>Xbyakハンズオン、とりあえず<a href="https://github.com/kaityo256/xbyak_aarch64_handson">リポジトリ作った</a>ぞ、と。</p>
<h2 id="月17日水"><a href="#17">11月17日(水)</a> <a id="17"></a></h2>
<p>会議その1。</p>
<p>会議その2。</p>
<p>イラストレータハンズオン。</p>
<p>論文修正して返した。</p>
<h2 id="月16日火"><a href="#16">11月16日(火)</a> <a id="16"></a></h2>
<p>いろいろお仕事。</p>
<p>プログラミング基礎同演習。</p>
<p>明日のイラストレータハンズオンの資料(というか台本)作った。</p>
<p>あー駄目だ。論文まで手がまわらんかった。</p>
<h2 id="月15日月"><a href="#15">11月15日(月)</a> <a id="15"></a></h2>
<p>いろいろとバタバタして、面接の予定を一個すっぽかしてしまった。申し訳ない。反省。</p>
<p>Macで<code>latexindent</code>が動かない。</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode txt"><code class="sourceCode default"><a class="sourceLine" id="cb1-1" title="1">$ latexindent</a>
<a class="sourceLine" id="cb1-2" title="2">Can&#39;t locate YAML/Tiny.pm in @INC (you may need to install the YAML::Tiny module) (@INC contains: /usr/local/texlive/2020/texmf-dist/scripts/latexindent /usr/local/Cellar/perl/5.34.0/lib/perl5/site_perl/5.34.0/darwin-thread-multi-2level /usr/local/Cellar/perl/5.34.0/lib/perl5/site_perl/5.34.0 /usr/local/Cellar/perl/5.34.0/lib/perl5/5.34.0/darwin-thread-multi-2level /usr/local/Cellar/perl/5.34.0/lib/perl5/5.34.0 /usr/local/lib/perl5/site_perl/5.34.0) at /usr/local/texlive/2020/texmf-dist/scripts/latexindent/LatexIndent/GetYamlSettings.pm line 20.</a>
<a class="sourceLine" id="cb1-3" title="3">BEGIN failed--compilation aborted at /usr/local/texlive/2020/texmf-dist/scripts/latexindent/LatexIndent/GetYamlSettings.pm line 20.</a>
<a class="sourceLine" id="cb1-4" title="4">Compilation failed in require at /usr/local/texlive/2020/texmf-dist/scripts/latexindent/LatexIndent/LogFile.pm line 25.</a>
<a class="sourceLine" id="cb1-5" title="5">BEGIN failed--compilation aborted at /usr/local/texlive/2020/texmf-dist/scripts/latexindent/LatexIndent/LogFile.pm line 25.</a>
<a class="sourceLine" id="cb1-6" title="6">Compilation failed in require at /usr/local/texlive/2020/texmf-dist/scripts/latexindent/LatexIndent/Document.pm line 25.</a>
<a class="sourceLine" id="cb1-7" title="7">BEGIN failed--compilation aborted at /usr/local/texlive/2020/texmf-dist/scripts/latexindent/LatexIndent/Document.pm line 25.</a>
<a class="sourceLine" id="cb1-8" title="8">Compilation failed in require at /usr/local/bin/latexindent line 27.</a>
<a class="sourceLine" id="cb1-9" title="9">BEGIN failed--compilation aborted at /usr/local/bin/latexindent line 27.</a></code></pre></div>
<p>cpanでYAML::Tinyを入れてやる。</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb2-1" title="1"><span class="fu">sudo</span> cpan YAML::Tiny </a></code></pre></div>
<p>今度は<code>File/Homedir.pm</code>が無い。</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb3-1" title="1"><span class="fu">sudo</span> cpan File::HomeDir </a></code></pre></div>
<p>これで動くようになった。Macだとlatexindentが自動で走るけど、Windowsでは走らないのなぜだ？</p>
<p>今度はWindowsのWSL2でビルドできない。epstopdfがなかったせいらしい。</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb4-1" title="1"><span class="fu">sudo</span> apt-get install texlive-font-utils</a></code></pre></div>
<p>で入った。</p>
<p>WSL2でlatexindentが走らなかったのはeditor.formatOnSaveがfalseだったかららしい。とにかくこれでフォーマッタが走るようになった。なんかビルド環境を構築するのに一苦労だ。</p>
<p>Subversionの.svnignoreの反映の仕方、毎回ググってる。</p>
<h2 id="月14日日"><a href="#14">11月14日(日)</a> <a id="14"></a></h2>
<p>体が重くて全く動かない・・・</p>
<p>ネットで「いかに日本が駄目か」を力説する人、わりと「海外でこんなに評価されている自分を評価しなかった日本は駄目だ」が透けて見える感じがしてイヤな感じ。。。</p>
<h2 id="月13日土"><a href="#13">11月13日(土)</a> <a id="13"></a></h2>
<p>プログラミング基礎同演習のレポート採点した。</p>
<h2 id="月12日金"><a href="#12">11月12日(金)</a> <a id="12"></a></h2>
<p>Macでlatexdiffが走らず、WSL2で動く問題、TeXLiveのバージョンの問題だった。</p>
<p><a href="https://tex.stackexchange.com/questions/574280/latexdiff-with-cite-commands-gives-output-with-apparently-mismatched-braces">latexdiff with \cite commands gives output with apparently mismatched braces</a></p>
<p>これはLaTeXが2020年からいくつかのパッケージに互換性のない修正を入れたから。その一つが<code>ulem.sty</code>。latexdiffは<code>ulem.sty</code>を使う。</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode tex"><code class="sourceCode latex"><a class="sourceLine" id="cb5-1" title="1"><span class="fu">\RequirePackage</span>[normalem]{ulem} <span class="co">%DIF PREAMBLE</span></a></code></pre></div>
<p>この状態で、打ち消し線<code>\sout</code>を使うとまずいらしい。回避策はいくつかあるが、簡単なのは<code>latexdiff</code>に<code>-t CFONT</code>オプションをつけること。しかし、これだとstrikeout(打ち消し線)が使えない。うーむ。</p>
<p>非常にad-hocだが、結局<code>uname</code>でホスト判別して、<code>Darwin</code>ならオプションをつける、という形にした。</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb6-1" title="1"><span class="va">HOST=$(</span><span class="ex">shell</span> uname<span class="va">)</span></a>
<a class="sourceLine" id="cb6-2" title="2"><span class="va">DIFFPARAM=</span></a>
<a class="sourceLine" id="cb6-3" title="3"><span class="ex">ifeq</span> (<span class="va">$(</span><span class="ex">HOST</span><span class="va">)</span>,Darwin)</a>
<a class="sourceLine" id="cb6-4" title="4">    <span class="va">DIFFPARAM=</span>-t <span class="ex">CFONT</span></a>
<a class="sourceLine" id="cb6-5" title="5"><span class="ex">endif</span></a>
<a class="sourceLine" id="cb6-6" title="6"></a>
<a class="sourceLine" id="cb6-7" title="7"><span class="ex">diff.tex</span>: <span class="va">$(</span><span class="ex">SRC</span><span class="va">)</span></a>
<a class="sourceLine" id="cb6-8" title="8">    <span class="ex">latexdiff</span> <span class="va">$(</span><span class="ex">DIFFPARAM</span><span class="va">)</span> <span class="va">$(</span><span class="ex">DIFFDIR</span><span class="va">)</span>/<span class="va">$(</span><span class="ex">SRC</span><span class="va">)</span> <span class="va">$(</span><span class="ex">SRC</span><span class="va">)</span> <span class="op">&gt;</span> diff.tex</a></code></pre></div>
<p>とりあえず自分用だからこれで良いや。</p>
<p>Xbyakハンズオンを僕がやることに。とりあえずDockerで動作確認しようとしたらビルドに失敗する。直さないと。</p>
<p>塩漬け論文修正して共著者に送ったぞ！</p>
<p>WSL2のUbuntuが恐ろしく遅い問題、Xにつなごうとしてタイムアウトしているっぽい。VcXsrcを起動するか、DISPLAY環境変数を消せば早くなる。なんじゃらほい。</p>
<p>学科分け用ビデオ作った。Zoomで緑背景にしてそれをOBS Studioで受け取ってクロマキーした。</p>
<p>だいぶTODOつぶしたぞコノヤロー。</p>
<h2 id="月11日木"><a href="#11">11月11日(木)</a> <a id="11"></a></h2>
<p>研究室ミーティング。三人発表。</p>
<p>なぜか急にプリンタがネットワークに繋がらなくなった。無線経由だとどうしても駄目。仕方なく有線でつないだ。このせいで必要な書類が印刷できずにしばらく困った。</p>
<p>いろいろと予定がやばい。論文に手をつけることができない。</p>
<p>論文を更新しようとlatexdiffを使ってみたが、なぜか通らない。別のやつなら通る。何が問題なんだ？</p>
<p>まず、latexindentが動かない。VSCodeの「出力」の「LaTeX Workshop」を見ると、<code>Log::Log4perl</code>が無いせいっぽい。<a href="https://qiita.com/khys/items/332c3a3f34a82acf7a7a">この記事</a>に従ってインストール。</p>
<p>駄目だ。Macだと動かないが、WSLだと普通に動く。そっちで続きをやるか。</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb7-1" title="1"><span class="fu">sudo</span> apt update</a>
<a class="sourceLine" id="cb7-2" title="2"><span class="fu">sudo</span> apt upgrade</a>
<a class="sourceLine" id="cb7-3" title="3"><span class="fu">sudo</span> apt install latexdiff</a></code></pre></div>
<p>WindowsもMacもアップデートにすげー時間がかかってる。非本質的なところで時間がかかって非常にイヤな感じ。</p>
<p>WSL2ではうまくlatexdiffできた。まずはMacを諦める。</p>
<p>WSL2のUbuntuにlatexindentを入れる。</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb8-1" title="1"><span class="fu">sudo</span> apt install texlive-extra-utils</a></code></pre></div>
<p>これでインデントはできるようになった。なぜかon saveでフォーマッタが走らないけど、まぁいいや。WSL2ではlatexdiffも問題なく動いた。よしよし。</p>
<h2 id="月10日水"><a href="#10">11月10日(水)</a> <a id="10"></a></h2>
<p>なんか、「初学者はネットで学び始めるのではなく、まずは良書と呼ばれる本を読んだほうが良い」という意見に対して「このネットのご時世に本とかwww」みたいなコメントがついていて悲しい。そういう人を生み出さないためにしっかり教育をがんばりたい。</p>
<p>Windows 11、再起動がかかるときのメッセージ「あなたはそこに100%です」がひどい。緊急パッチ<a href="https://support.microsoft.com/ja-jp/topic/2021-%E5%B9%B4-11-%E6%9C%88-5-%E6%97%A5-kb5008295-%E5%B8%AF%E5%9F%9F%E5%A4%96-5540f171-846c-4af0-b363-29b6f02a8935">KB5008295</a>の説明が機械翻訳なのは良いとして、再起動メッセージくらいちゃんとローカライズしても良いのでは・・・。</p>
<p>別にそんなところの翻訳がきっちりしていなくてもなんの問題もないけれど、それを見ると「他の場所もちゃんとできてないだろうな」という気にはなる。</p>
<p>物理情報工学ソフトウェア演習、最後のコメントを返し、ここまでに提出されたすべてのレポートを採点し、追加レポートも出した。</p>
<p><a href="https://www.calc.appi.keio.ac.jp/forstudents/">研究室分け説明会の案内</a>を準備した。わりと時間かかったな。</p>
<p>うーん、なかなか研究に手をつけられないぞ。</p>
<h2 id="月09日火"><a href="#09">11月09日(火)</a> <a id="09"></a></h2>
<p>プログラミング基礎同演習。今日はファイル操作。</p>
<p>プログラミング基礎同演習、第8回のビデオ録画した。</p>
<h2 id="月08日月"><a href="#08">11月08日(月)</a> <a id="08"></a></h2>
<p>学習指導の仕事、一つ片付けたぞ。</p>
<p>物理情報工学ソフトウェア開発演習、終わった！</p>
<h2 id="月07日日"><a href="#07">11月07日(日)</a> <a id="07"></a></h2>
<p>Windows 11になって、Win+Shift+Sによるスクリーンショットがとれなくなり、IMEが2回以上変換できなくなり、さらに旧バージョンに戻しても変換にタイムラグがある問題、<a href="https://docs.microsoft.com/en-us/windows/release-health/status-windows-11-21h2#november-2021">証明書の期限切れ</a>が原因だったらしい。これは緊急パッチ<a href="https://support.microsoft.com/ja-jp/topic/2021-%E5%B9%B4-11-%E6%9C%88-5-%E6%97%A5-kb5008295-%E5%B8%AF%E5%9F%9F%E5%A4%96-5540f171-846c-4af0-b363-29b6f02a8935">KB5008295</a>の適用により修正される。実際に適用したら、Win+Shift+Sが使えるようになり、IMEもストレスない程度のレスポンスに改善。</p>
<p>証明書の期限は10月31日だったそうで、それならデバッグ中は問題が表面化せず、11月になってからアップデートしたユーザで不具合が出て気づく、というのは納得がいく。納得はいくが、わりと初歩的なミスなのでは・・・</p>
<p>それはそれとして、Windows 10でできて11でできないことは<a href="https://answers.microsoft.com/en-us/windows/forum/all/list-of-changed-or-removed-featuresfunctionalities/1151c688-462a-4579-9164-8d11c78652c8">結構あるようだ</a>。</p>
<p>特にタスクバーは<a href="https://docs.microsoft.com/ja-jp/windows/uwp/get-started/universal-application-platform-guide">UWP (Universal Windows Platform)</a>という基盤でスクラッチから書き直されたため、以下のようにかなり機能が減っている。</p>
<ul>
<li>2つ目のディスプレイに時計が出ない</li>
<li>タスクバーを動かせない</li>
<li>スタートメニューにフォルダを作れない</li>
<li>タスクバーにドラッグアンドドロップできない</li>
</ul>
<p>Vistaと比較してしまったが、ガタガタだったVistaよりはまとまっており、障害対応もはやかった印象。それにしても、もう少し作り込んでからリリースしても良かったのでは、という気がしないでもない。</p>
<h2 id="月06日土"><a href="#06">11月06日(土)</a> <a id="06"></a></h2>
<p>コンパイラいじめ記事更新。</p>
<p><a href="https://zenn.dev/kaityo256/articles/nesting_functions">GCCに27958段ネストした関数を食わせると死ぬ</a></p>
<h2 id="月05日金"><a href="#05">11月05日(金)</a> <a id="05"></a></h2>
<p><a href="https://jp.quora.com/%E5%9C%B0%E7%90%83%E5%B9%B3%E9%9D%A2%E8%AA%AC%E8%80%85%E3%81%9F%E3%81%A1%E3%82%92%E5%AE%87%E5%AE%99%E3%81%AB%E9%80%81%E3%81%A3%E3%81%A6-%E5%BD%BC%E3%82%89%E3%81%AB%E5%9C%B0%E7%90%83%E3%81%AE%E5%BD%A2%E3%82%92">地球平面説者たちを宇宙に送って、彼らに地球の形を見せることはできないのですか？</a></p>
<p>これ面白い。陰暴論を信じるのは知識がないせいではなく、知識と自尊心のアンバランスが問題なのだ、という指摘。</p>
<p>物理情報工学ソフトウェア開発演習。既存リポジトリをforkしてcloneしてローカルで修正、ローカルにWebサーバ立てて動作確認の上で、pushしてGitHub Pagesにデプロイまで。なんかそれっぽくない？</p>
<h2 id="月04日木"><a href="#04">11月04日(木)</a> <a id="04"></a></h2>
<p>体が重い(最近それしか言っていない)。</p>
<p>駄目だ。学校のPCもWin+Shift+Sが使えなくなってる。めちゃくちゃ不便。</p>
<p>研究室ミーティング。学習指導の仕事。メール処理。</p>
<h2 id="月03日水"><a href="#03">11月03日(水)</a> <a id="03"></a></h2>
<p><a href="https://jr.mitou.org/final">未踏ジュニア 2021年最終成果報告会</a>。すごい。</p>
<p><a href="https://pokemon.originalstitch.com/">ポケモンシャツ</a>。YouTubeで久しぶりに良さげなCMが。</p>
<h2 id="月02日火"><a href="#02">11月02日(火)</a> <a id="02"></a></h2>
<p>プログラミング基礎同演習。文字の話。対面講義が学生が10人しか来なくて悲しい。あー、「漢数字のソート」の話をしようと思ってて忘れてた。</p>
<p>Macのg++10、omp parallel のscheduleを無視する？インテルコンパイラはちゃんとやってくれるんだけど。</p>
<p>おお、このログ、あとちょっとで丸一年だ。絶対続かないと思ってたわ。</p>
<h2 id="月01日月"><a href="#01">11月01日(月)</a> <a id="01"></a></h2>
<p>物理情報工学ソフトウェア開発演習。二度目はわりとスムーズかな。</p>
<p>レポートの採点とか。</p>
          </article>
  </body>

  </html>