<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="generator" content="pandoc">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
                <title>d202302</title>
    <style type="text/css">
      code {
        white-space: pre;
      }
    </style>
        <style type="text/css"></style>

    <link rel="stylesheet" href="style.css" type="text/css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- link rel="stylesheet" href="github-markdown.css" type="text/css" / -->
          </head>

  <body>
    <article class="markdown-body">
                        <h1 id="年1月">2023年1月</h1>
                        <p><a href="index.html">ログ一覧</a></p>
                        <h2 id="月25日土"><a href="#25">02月25日(土)</a> <a id="25"></a></h2>
                        <p>また日記のpush忘れだ。後でマージしよう。</p>
                        <p>まぁほとんど誰も読んでないだろうが。</p>
                        <p>体が重い。とりあえず論文の査読レポートの返事案を作った。これで通るだろう。</p>
                        <h2 id="月22日水"><a href="#22">02月22日(水)</a> <a id="22"></a></h2>
                        <p>投稿中の論文、査読レポートが返ってきた。ほぼほぼacceptでめでたい。</p>
                        <p>このまま論文の量産体制に入るぞ。書きかけの論文の整理と、次の論文の準備もしないと。</p>
                        <p>講義準備もしないと……</p>
                        <p>FD授業アンケート、コメントを返した。</p>
                        <p>学生相談室カウンセラーとの面談会。</p>
                        <p>製本用に修論印刷した。表紙データを作ったり。データが大きくてWindowsから印刷できず、Macから印刷したり。</p>
                        <p>渡辺研究室初の修士論文ということで感慨深い。これからどんどん増えていくとうれしい。</p>
                        <p>学生向けにサンプルコード書いて渡した。</p>
                        <h2 id="月21日火"><a href="#21">02月21日(火)</a> <a id="21"></a></h2>
                        <p>1on1たくさん。</p>
                        <p>健康センターから電話がかかってきてしまった。診断結果聞きに行かないと。</p>
                        <p>雲T師(雲孝夫先生)の<a href="https://twitter.com/kumo_takao">Twitterアカウント</a>を見つけてしまった。懐かしい。っていうか全然老けてない。授業を受けたの、もう20年近く前なのに。当時はSEGだったけど、今は駿台なのね。</p>
                        <p>Wikiも見つけた。雲K師も懐かしい。僕がSEGに通ってたのは高3だから、1994〜1995年かな。うわ、30年前じゃん……</p>
                        <ul>
                        <li><a href="https://pchira.wicurio.com/index.php?%E9%9B%B2%E5%AD%9D%E5%A4%AB">雲孝夫</a></li>
                        <li><a href="https://pchira.wicurio.com/index.php?%E9%9B%B2%E5%B9%B8%E4%B8%80%E9%83%8E">雲幸一郎</a></li>
                        </ul>
                        <p>しかし、30年も前の授業を覚えてるんだから、やっぱり印象に残る授業をしてたんだよね。雲T師の「類題を作れ」も覚えてるし、雲K師の「磁場は仕事をしない」とかエネルギー保存則をいちいち導くところとか、声と一緒に覚えている。</p>
                        <p>あとは化学の先生(名前が出てこない)も記憶にある。当時駒場の院生だったはずで、情報棟でお会いしたので(端末のtalkで)挨拶した。</p>
                        <h2 id="月20日月"><a href="#20">02月20日(月)</a> <a id="20"></a></h2>
                        <p>MusikaをGoogle Colabで動かそうとすると、WAVファイルはできるのだが、<code>IPython.display.Audio</code>で読み込もうとするとランタイムが切断されてしまう。 SciPiでWAVを一度NumPy配列にすればOKだが、SciPyのreadだと左右2チャンネルが(length, 2)の形になるが、Audioで読み込ませるためには(2, length)でなければならないのでtransposeが必要。また、ファイル名が毎回変わるのにも対応しないといけない。</p>
                        <p>最終的にこうなった。</p>
                        <div class="sourceCode" id="cb1"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true"></a><span class="im">import</span> IPython</span>
                        <span id="cb1-2"><a href="#cb1-2" aria-hidden="true"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
                        <span id="cb1-3"><a href="#cb1-3" aria-hidden="true"></a><span class="im">from</span> scipy.io.wavfile <span class="im">import</span> read</span>
                        <span id="cb1-4"><a href="#cb1-4" aria-hidden="true"></a><span class="im">import</span> glob</span>
                        <span id="cb1-5"><a href="#cb1-5" aria-hidden="true"></a><span class="op">!</span>git clone https:<span class="op">//</span>github.com<span class="op">/</span>marcoppasini<span class="op">/</span>musika</span>
                        <span id="cb1-6"><a href="#cb1-6" aria-hidden="true"></a><span class="op">%</span>cd musika</span>
                        <span id="cb1-7"><a href="#cb1-7" aria-hidden="true"></a><span class="op">!</span>pip install <span class="op">-</span>r requirements.txt</span>
                        <span id="cb1-8"><a href="#cb1-8" aria-hidden="true"></a><span class="op">!</span>python musika_generate.py <span class="op">--</span>load_path checkpoints<span class="op">/</span>techno <span class="op">--</span>num_samples <span class="dv">1</span> <span class="op">--</span>seconds <span class="dv">10</span> <span class="op">--</span>save_path .<span class="op">/</span>generate</span>
                        <span id="cb1-9"><a href="#cb1-9" aria-hidden="true"></a><span class="bu">file</span> <span class="op">=</span> glob.glob(<span class="st">&quot;/content/musika/generate/*.wav&quot;</span>)[<span class="dv">0</span>]</span>
                        <span id="cb1-10"><a href="#cb1-10" aria-hidden="true"></a>rate, data <span class="op">=</span> read(<span class="bu">file</span>)</span>
                        <span id="cb1-11"><a href="#cb1-11" aria-hidden="true"></a>IPython.display.Audio(data.transpose(), rate<span class="op">=</span>rate)</span></code></pre></div>
                        <p>Comp. Phys. Commun.に論文投稿準備する。RevTeXでいけそうな気もするが、公式はelsarticle.clsを推奨している。</p>
                        <p><a href="https://ctan.org/tex-archive/macros/latex/contrib/elsarticle">https://ctan.org/tex-archive/macros/latex/contrib/elsarticle</a>からzipをダウンロード。</p>
                        <div class="sourceCode" id="cb2"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true"></a><span class="bu">cd</span> build</span>
                        <span id="cb2-2"><a href="#cb2-2" aria-hidden="true"></a><span class="fu">wget</span> http://mirrors.ctan.org/macros/latex/contrib/elsarticle.zip</span>
                        <span id="cb2-3"><a href="#cb2-3" aria-hidden="true"></a><span class="fu">unzip</span> elsarticle.zip </span>
                        <span id="cb2-4"><a href="#cb2-4" aria-hidden="true"></a><span class="bu">cd</span> elsarticle  </span>
                        <span id="cb2-5"><a href="#cb2-5" aria-hidden="true"></a><span class="ex">latex</span> elsarticle.ins</span>
                        <span id="cb2-6"><a href="#cb2-6" aria-hidden="true"></a><span class="ex">latexmk</span> elsarticle-template-harv</span></code></pre></div>
                        <p>insファイルのコンパイルによりclsファイルができる。とりあえずclsファイルとテンプレートtexだけでコンパイルできることを確認。GitHubに学生さん論文用のリポジトリを作成。もう少し中身を書いたら学生さんを招待する。</p>
                        <h2 id="月29日日"><a href="#19">02月29日(日)</a> <a id="19"></a></h2>
                        <p>講義ノートの進捗が悪くて気が滅入るので、GhostscriptでPostScriptをいじる記事を書いた。</p>
                        <p><a href="https://zenn.dev/kaityo256/articles/ghostscript_sample">PostScript言語を触ってみる</a></p>
                        <h2 id="月18日土"><a href="#18">02月18日(土)</a> <a id="18"></a></h2>
                        <p>NOP</p>
                        <h2 id="月17日金"><a href="#17">02月17日(金)</a> <a id="17"></a></h2>
                        <p>1on1 x2。</p>
                        <h2 id="月16日木"><a href="#16">02月16日(木)</a> <a id="16"></a></h2>
                        <p>新メンバーの1on1が始まった。これからテーマ決め。</p>
                        <p>研究室ミーティング。今日は論文紹介のやり方＋模範演技。</p>
                        <p>ハンズオン。「論文の読み方、探し方」。</p>
                        <h2 id="月15日水"><a href="#15">02月15日(水)</a> <a id="15"></a></h2>
                        <p>卒論を製本に出した。2冊だと単価4700円、合計9400円。5人分で47000円。</p>
                        <p>しばらく忙しかったこともあって集中力を欠く。研究活動はこれからなのだが。</p>
                        <p>参加した覚えのないGoogleグループからメール。調べたら、デフォルトで任意のグループに追加できる状態になっていた。</p>
                        <p>明日から本格的に新年度の研究室ミーティング開始。まずは論文紹介のやり方と論文の読み方から。</p>
                        <p>明日の研究室ミーティングの準備。論文を探して論文紹介スライドを作った。</p>
                        <ul>
                        <li><a href="https://speakerdeck.com/kaityo256/how-to-review">論文紹介のやり方</a></li>
                        <li><a href="https://speakerdeck.com/kaityo256/how-to-survey">論文の読み方</a></li>
                        </ul>
                        <p>「模範演技」の準備もしなくては。</p>
                        <p><a href="https://support.google.com/groups/answer/10566756?hl=ja">参加した覚えのないグループのメンバーになっている</a>の記述の通りに設定することで拒否が可能。</p>
                        <h2 id="月14日火"><a href="#14">02月14日(火)</a> <a id="14"></a></h2>
                        <p>仕事中、鼻の元栓が決壊。ティッシュも切れて大変な目にあった。 普段行きなれないところに行く時には鼻炎薬と箱ティッシュの補充を忘れずに。</p>
                        <h2 id="月13日月"><a href="#13">02月13日(月)</a> <a id="13"></a></h2>
                        <p>疲れた。</p>
                        <h2 id="月12日日"><a href="#12">02月12日(日)</a> <a id="12"></a></h2>
                        <p>疲れた。</p>
                        <h2 id="月11日土"><a href="#11">02月11日(土)</a> <a id="11"></a></h2>
                        <p>記憶喪失。</p>
                        <h2 id="月10日金"><a href="#10">02月10日(金)</a> <a id="10"></a></h2>
                        <p>引き続き解析力学のノート書き。</p>
                        <p>Subversionの時からCUI派だったんだけど、VSCodeでノート書いてる時に、いちいちターミナルを出してフォーカスを移すのが面倒になってきた。もうGUIでコミット、プッシュするか。変なこだわりを持っても仕方ないし。</p>
                        <p><a href="https://zenn.dev/quiver/articles/7aa6deb2d77e44">『リンカー moldをいろんなターゲットに移植した話』を視聴してCPUやpsABIの世界を覗き見してみた #kernelvm</a></p>
                        <p>DEC Alphaとか出てきて懐かしい。っていうかARM64(AArch64)の項目でサンクという概念を初めて知った。関数呼び出し命令のオフセットの問題でプログラムカウンタから+-128MiBの位置にしか飛べない。なので大きな実行ファイルで128MiB以上のジャンプをするためには、一度で飛べないからホップ・ステップ・ジャンプみたいにジャンプを複数回に分ける必要があり、その挿入もリンカのお仕事。マジか。</p>
                        <p>卒論、製本用に印刷した。来週水曜日に出す予定。</p>
                        <p>なんかメールをたくさん書いてたらあっという間に時間が過ぎていく。タスクを積んでは崩し、積んでは崩し。</p>
                        <p>学生さんの学会の立て替え払い請求出した。秘書さんが欲しい。</p>
                        <p>PukiwikiからGitHubに移項計画。とりあえず過去の卒論を移行した。これだけで結構時間かかったな。</p>
                        <p>科研費の支払請求書（F-2-1)を作成した。今日はうまくいった。</p>
                        <h2 id="月09日木"><a href="#09">02月09日(木)</a> <a id="09"></a></h2>
                        <p><a href="https://doi.org/10.1093/ptep/ptad022">ビンダー比論文</a>が出版された。長かった。本当に長かった。途中、なんども心が折れそうになりながらも歯を食いしばって踏みとどまった。</p>
                        <p>学習指導として、学事イベントをもう一度復習。覚書をまとめておく。</p>
                        <p>科研費の支払請求書（F-2-1)を作成しようとしたが、科研費電子申請システムが調子悪く「接続中にエラーが発生しました。しばらくたってから再度ログインを行ってください。」と言われてしまう。また明日チャレンジ。</p>
                        <p>研究室ミーティング。卒論、修論お疲れ様でした。</p>
                        <p>これで渡辺研も本格的に次年度スタート。</p>
                        <p>久しぶりに解析力学の講義ノートを触れた。一ヶ月ぶり。忙しかったもんな。とにかく4月に間に合わせないといけない。クォーター制なので自転車操業ができないので。</p>
                        <h2 id="月08日水"><a href="#08">02月08日(水)</a> <a id="08"></a></h2>
                        <p>修士論文発表会。みなさんよく頑張りました。</p>
                        <p>その後、学習指導の事後処理にものすごく時間がかかった。</p>
                        <h2 id="月07日火"><a href="#07">02月07日(火)</a> <a id="07"></a></h2>
                        <p>gitでsubmoduleがおかしくなり、git pullとかしようとしても</p>
                        <div class="sourceCode" id="cb3"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true"></a><span class="ex">fatal</span>: no submodule mapping found in .gitmodules for path <span class="st">&#39;submodule&#39;</span></span></code></pre></div>
                        <p>とか言われてしまうようになった。Gitとしてはsubmobuleがあると認識しているのに、<code>.gitsubmodule</code>もないし、<code>.git/config</code>にも情報がない。</p>
                        <p>これを直すには、まずファイルパーミッションがSubmoduleになっているものを探す。</p>
                        <div class="sourceCode" id="cb4"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true"></a>$ <span class="fu">git</span> ls-files --stage <span class="kw">|</span> <span class="fu">grep</span> 160000</span>
                        <span id="cb4-2"><a href="#cb4-2" aria-hidden="true"></a><span class="ex">160000</span> 71de7d435da4887140e445a5caf1cdf0e1a3119b 0 submodule</span></code></pre></div>
                        <p>これを削除する。</p>
                        <div class="sourceCode" id="cb5"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true"></a><span class="fu">git</span> rm --cached submodule</span></code></pre></div>
                        <p>これで後はコミットすればOK。</p>
                        <p>VSCode上でdiffを見ようと思ってGit Lensを導入……したが、使い方がよくわからなかった。以前もインストールしたような気がしたが、と思ったが、これ、Git管理されているファイルの変更されたすべての行にいちいちアノテーションがつくのが鬱陶しくてやめたんだ。とりあえずアンインストール。</p>
                        <p>研究室Wiki(Pukiwikiで運用)が使いづらくて仕方ないので、GitHubのプライベートリポジトリへ移行する。とりあえずリポジトリを作って、2020年度の卒論だけ追加しておいた。</p>
                        <p>Gitの日本語diff、なかなかうまくいかなかったんだけど、多分これでできた。</p>
                        <div class="sourceCode" id="cb6"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true"></a><span class="fu">git</span> diff --word-diff-regex=. main thesis.tex</span></code></pre></div>
                        <p>プログラミング基礎同演習、採点確定した。</p>
                        <p>修士論文発表会の準備した。発表セットに会場案内図、プログラムを印刷して配る。今回からレーザーポインタとType-Cコネクタが追加。</p>
                        <p>特異値分解論文のProof返した。</p>
                        <h2 id="月06日月"><a href="#06">02月06日(月)</a> <a id="06"></a></h2>
                        <p>学生さんの論文再投稿。</p>
                        <p>卒論の修正。</p>
                        <p>学習指導のお仕事。</p>
                        <p>プログラミング基礎同演習の採点確定、一日だけ待ってみることにした。</p>
                        <p>PTEP、OxfordUniversity Press (OUP)からライセンスの問い合わせが来たので返した。なんかPTEP advance articlesという、校正前の原稿を先に公開する仕組みがあるらしい。</p>
                        <h2 id="月05日日"><a href="#05">02月05日(日)</a> <a id="05"></a></h2>
                        <p>追加レポートの採点完了。評語案作成。明日最終確認の上で提出。</p>
                        <p>うーん、レポートの未提出が多かったなぁ。かつ救済措置である追加レポートも未提出。残念。</p>
                        <h2 id="月04日土"><a href="#04">02月04日(土)</a> <a id="04"></a></h2>
                        <p>レポートの採点。「異なり、」と書く文脈で「違く、」と書く人が多いんだけど、指導した方がよいのかな。</p>
                        <p>実験レポートなどでレポートの書き方を学んでいると思うんだけど、学生に文章を書かせると「口語的」と指摘することが多い。このあたりどういう文章が口語的であるかのデータを蓄積しておくと、教育上良いのかも。</p>
                        <h2 id="月03日金"><a href="#03">02月03日(金)</a> <a id="03"></a></h2>
                        <p>卒論発表会。皆さんお疲れさまでした。</p>
                        <p>Acceptされた論文、最終版を提出。最初の構想から10年ちかくかかった。長かったな……</p>
                        <p>査読レポートに対する論文修正。これで完成かな？来週再投稿しよう。</p>
                        <p>卒業してしまう学生さんの研究も早いところ論文にしてしまいたいが、講義の準備が……</p>
                        <h2 id="月02日木"><a href="#02">02月02日(木)</a> <a id="02"></a></h2>
                        <p>卒論発表会。査読レポートへの返事作成。</p>
                        <h2 id="月01日水"><a href="#01">02月01日(水)</a> <a id="01"></a></h2>
                        <p>Macでepsを見る手段がない。いろいろ調べたが、一番楽なのはX立ち上げてevinceで見ることか？</p>
                        <div class="sourceCode" id="cb7"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true"></a><span class="ex">brew</span> install evince</span></code></pre></div>
                        <p>だめだ。Macのevinceはepsが表示できない。「ファイルタイプ text(text/*)はサポートしていません」になってしまう。</p>
                        <p>Inkscapeとかで見る方法も無いことはないが、多分Docker上のUbuntuでX飛ばしてevinceで見た方が楽だわ。もしくは研究室サーバでX飛ばすか。</p>
                        <p>事前にXQuartzの設定で「セキュリティ」の「接続を認証」及び「ネットワーク・クライアントからの接続を許可」しておく必要がある。</p>
                        <p>その上でX11の情報を共有してUbuntuを起動。</p>
                        <div class="sourceCode" id="cb8"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true"></a><span class="ex">docker</span> run -it -e DISPLAY=<span class="va">$(</span><span class="fu">hostname</span><span class="va">)</span>:0 -v ~/.Xauthority:/root/.Xauthority ubuntu </span></code></pre></div>
                        <p>その後Xをインストール。</p>
                        <div class="sourceCode" id="cb9"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true"></a><span class="ex">apt-get</span> update</span>
                        <span id="cb9-2"><a href="#cb9-2" aria-hidden="true"></a><span class="ex">apt-get</span> -y install xserver-xorg x11-apps</span></code></pre></div>
                        <div class="sourceCode" id="cb10"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true"></a><span class="ex">xeyes</span></span></code></pre></div>
                        <p>起動できた。</p>
                        <div class="sourceCode" id="cb11"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true"></a><span class="ex">apt-get</span> -y install evince poppler-data</span></code></pre></div>
                        <p>なんかepsを作ってみるか。</p>
                        <div class="sourceCode" id="cb12"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true"></a>$ <span class="ex">apt-get</span> install -y gnuplot</span>
                        <span id="cb12-2"><a href="#cb12-2" aria-hidden="true"></a>$ <span class="ex">gnuplot</span></span>
                        <span id="cb12-3"><a href="#cb12-3" aria-hidden="true"></a><span class="ex">gnuplot</span><span class="op">&gt;</span> set term eps</span>
                        <span id="cb12-4"><a href="#cb12-4" aria-hidden="true"></a><span class="ex">gnuplot</span><span class="op">&gt;</span> set out <span class="st">&quot;test.eps&quot;</span></span>
                        <span id="cb12-5"><a href="#cb12-5" aria-hidden="true"></a><span class="ex">gnuplot</span><span class="op">&gt;</span> p sin(x)</span>
                        <span id="cb12-6"><a href="#cb12-6" aria-hidden="true"></a><span class="ex">gnuplot</span><span class="op">&gt;</span> exit</span>
                        <span id="cb12-7"><a href="#cb12-7" aria-hidden="true"></a>$ <span class="ex">evince</span> test.eps</span></code></pre></div>
                        <p>なんの問題もなく表示できる。これでローカルをディレクトリをマウントして表示するのが一番楽なんじゃ・・・。</p>
                        <p>ついでにghostscriptも動かしてみる。</p>
                        <div class="sourceCode" id="cb13"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true"></a>$ <span class="ex">apt-get</span> install -y gv</span>
                        <span id="cb13-2"><a href="#cb13-2" aria-hidden="true"></a>$ <span class="ex">ghostscript</span></span>
                        <span id="cb13-3"><a href="#cb13-3" aria-hidden="true"></a><span class="ex">GPL</span> Ghostscript 9.55.0 (2021-09-27)</span>
                        <span id="cb13-4"><a href="#cb13-4" aria-hidden="true"></a><span class="ex">Copyright</span> (C) <span class="ex">2021</span> Artifex Software, Inc.  All rights reserved.</span>
                        <span id="cb13-5"><a href="#cb13-5" aria-hidden="true"></a><span class="ex">This</span> software is supplied under the GNU AGPLv3 and comes with NO WARRANTY:</span>
                        <span id="cb13-6"><a href="#cb13-6" aria-hidden="true"></a><span class="ex">see</span> the file COPYING for details.</span>
                        <span id="cb13-7"><a href="#cb13-7" aria-hidden="true"></a><span class="ex">GS</span><span class="op">&gt;</span>0 0 moveto</span>
                        <span id="cb13-8"><a href="#cb13-8" aria-hidden="true"></a><span class="ex">GS</span><span class="op">&gt;</span>100 100 lineto</span>
                        <span id="cb13-9"><a href="#cb13-9" aria-hidden="true"></a><span class="ex">GS</span><span class="op">&gt;</span>stroke</span>
                        <span id="cb13-10"><a href="#cb13-10" aria-hidden="true"></a><span class="ex">GS</span><span class="op">&gt;</span></span></code></pre></div>
                        <p>問題なく表示できる。</p>
                        <p>いつか、Ghostscript上で「PostScriptを触ってみる」の記事を書きたい。もう失われた技術だから……</p>
                        <p>普通に間違えて2月の日記を1月に書いてた。まだ1月であって欲しいという願望の現れか。</p>
          </article>
  </body>

  </html>