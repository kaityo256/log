<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="generator" content="pandoc">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
                <title>d202206</title>
    <style type="text/css">
      code {
        white-space: pre;
      }
    </style>
        <style type="text/css"></style>

    <link rel="stylesheet" href="style.css" type="text/css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- link rel="stylesheet" href="github-markdown.css" type="text/css" / -->
          </head>

  <body>
    <article class="markdown-body">
                        <h1 id="ログ">ログ</h1>
<p><a href="index.html">ログ一覧</a></p>
<h2 id="月17日金"><a href="#17">06月17日(金)</a> <a id="17"></a></h2>
<p>感情分析のためにhuggingfaceのbert-base-japanese-sentiment使ってみた。楽ちん。</p>
<p>Canvasに予定書いてアナウンスした。</p>
<h2 id="月16日木"><a href="#16">06月16日(木)</a> <a id="16"></a></h2>
<p>学生さんからgnuplotのfitについて質問をうけて、そういえばフィッティングアルゴリズム何を使ってるんだろと思って調べたら<a href="https://en.wikipedia.org/wiki/Levenberg%E2%80%93Marquardt_algorithm">Levenberg–Marquardt algorithm</a>らしい。ガウス・ニュートン法と最急勾配法を組み合わせたアルゴリズムとのこと。なるほど。</p>
<p>あー、そういえば以前質問を受けた、gnuplotでのフィッティングはデータに対して一度しか行っていないのに、なぜ誤差が推定できるのか、の説明をZennかどこかに書こうと思ってて忘れてたな。</p>
<p>今日の研究室ミーティング。ボルツマンマシン、結構面白いと思う。</p>
<h2 id="月15日水"><a href="#15">06月15日(水)</a> <a id="15"></a></h2>
<p>サーバの保守提出。今後どうするか考えないと。</p>
<p>サーバルームの電源増設、メールした。</p>
<p>共著論文、もう一つ返した。</p>
<p>事務仕事が滞っている(でもそっちをやると論文書けないし・・・)。</p>
<h2 id="月14日火"><a href="#14">06月14日(火)</a> <a id="14"></a></h2>
<p>最近WindowsのChromeがすごく不安定だ。なぜだろう。Macは特に問題がおきていないので、拡張機能とかのせいじゃないと思うんだけど。</p>
<p>実験。今日は比較的スムーズ。学生さんの慣れもあるのかなぁ。</p>
<p>ずっと積んでた論文。最後までチェック終了。あとは細かいところをチェックしたら投稿しよう。</p>
<p>子供寝かしつけてから論文修正。ようやくほぼ完成までこぎつけたぞ。</p>
<h2 id="月13日月"><a href="#13">06月13日(月)</a> <a id="13"></a></h2>
<p>うーん、集中力が切れてるなぁ。</p>
<p>ハンズオンの準備。WSLから使うのがちょっとだけ面倒だった。事前に確認しておいてよかった。</p>
<p>ハンズオン無事終了。これで今年度の４年生向けハンズオン全工程終了。</p>
<p>来年に向けての反省。SSHの公開鍵の作成と、認証の説明、特にSSHエージェントフォワードの説明が必要だな。で、SSHエージェントフォワードのテストには研究室サーバからGitHubにアクセスするのが一番わかりやすいんだけど、Gitのハンズオンやる前にGitHubのアカウント作ってもな、という気がする。うーむむ。</p>
<p>あと、「カレントディレクトリ」の概念や、「エラーメッセージ」の概念がいまいち浸透してなかった気がする。CLIでなにかコマンドを入力して、なにかメッセージが出たら、それをちゃんと読む癖をつけさせたい。CLIのハンズオンも必要だろうか？これはGitHub演習に入れたいんだよなぁ。</p>
<h2 id="月12日日"><a href="#12">06月12日(日)</a> <a id="12"></a></h2>
<p>なんか疲れがとれないし、悪夢も見るし、頭いたいしお腹いたいし老眼だし。</p>
<p>っつーかそろそろ老眼鏡が必要だなぁ。</p>
<p>重いメールを送ったら疲れた。</p>
<p>田崎さんの動画<a href="https://www.youtube.com/watch?v=GxH7cD6I1zo">【理系一般向け講義】田崎晴明『相転移と臨界現象の統計物理学：小さくてあまり面白くないものがすごくたくさん集まると勝手にびっくりするような面白いことをやり始めるという話』</a>。おお。</p>
<h2 id="月11日土"><a href="#11">06月11日(土)</a> <a id="11"></a></h2>
<p>なにしてたっけ？あ、共著論文読んでコメント書いてた。</p>
<h2 id="月10日金"><a href="#12">06月10日(金)</a> <a id="10"></a></h2>
<p>メール書いたり、ミーティングしたり。</p>
<h2 id="月09日木"><a href="#09">06月09日(木)</a> <a id="09"></a></h2>
<p>研究室ミーティング。中野さんの話。面白かった。</p>
<p>輪講。つい喋りすぎてしまった。良くない。</p>
<p>模擬講義のスライド案作って送った。</p>
<h2 id="月08日水"><a href="#08">06月08日(水)</a> <a id="08"></a></h2>
<p>会議。レポートの採点。会議。レポートの採点。</p>
<p>滅茶苦茶時間がかかったが、なんとかレポート採点できたぞ。</p>
<p>「世の中の高待遇の奴らを妬む奴らは、ゲームだのネットだのに費やす時間を勉強やスキルアップに使ったのか」という言説、自分が高待遇だという自負が透けて見えて気持ち悪いし、そもそもそういう言説をネットに垂れ流してる時点で同類だと思うんだけど。</p>
<p>その人、「世界的な企業に高待遇で採用された自分を見抜けなかった日本企業はダメ」みたいなことをよく言うんだけど、その人の言葉を借りるなら、日本企業に採用されたかったら日本企業に採用されるように努力すべきだったのでは。</p>
<h2 id="月07日火"><a href="#07">06月07日(火)</a> <a id="07"></a></h2>
<p>実験。みんな苦戦しているなぁ。うーん。</p>
<p>レポートの採点。2割くらい。</p>
<p>浅野さんの音波＋相転移論文が<a href="https://doi.org/10.1103/PhysRevFluids.7.064302">オンライン出版</a>された。なんか慶応に来てから出版された論文、全部浅野さんが書いたものだな。自分でもちゃんと書かないと。</p>
<p>Wordpressの不使用テーマ、予備に一つだけ残して削除。使ってないのに更新が来るのが鬱陶しかったので。</p>
<h2 id="月06日月"><a href="#06">06月06日(月)</a> <a id="06"></a></h2>
<p>体調不良。念のために在宅勤務。</p>
<p>ハンズオン。qsubで失敗。NISの更新を忘れてた。</p>
<p>論文のサンプル実装、論文をよく読んだら、勘違いに気づいた。実行するたびに結果が変わるのか。その一つの実行結果が論文に表示されている、ということね。とりあえず完成したので学生さんに投げた。</p>
<p>なんかミーティングでボケっと口開けてたら、気がついたら大きめの仕事が降ってきた。なんでだ？</p>
<h2 id="月05日日"><a href="#05">06月05日(日)</a> <a id="05"></a></h2>
<p>久しぶりにイラストレータいじった。</p>
<p>柔道部の体育館利用申請出した。</p>
<p>YouTubeのよくある詐欺CM、明らかに怪しい奴をちゃんと調べてみた。「私はアメリカの大手ドローン会社に務めていたが、会社が買収されて利益を追求するようになったため、仲間と独立して新しい技術で安くて高性能なドローンを作った。25000円の価値はあるが、いまなら50%オフの12500円で売ります」というもの。</p>
<p>調べてみると、中国製のトイドローン、マイクロドローンで有名な会社の、5000円程度(現在の実売価格2〜3000円)の商品をそのまま別名で売っているものらしい。</p>
<p>こういう手口、クラウドファンディングで見たな。「こういう商品を開発します！」と既存の商品を紹介し、ファンディングが成立したら、それを購入して投資者に売る、というもの。</p>
<p>まだクラウドファンディングという名前がなかった時代、みんなからお金集めてものを作りますといって失敗した事件あったな、と思ったが、思い出した。<a href="https://ja.wikipedia.org/wiki/Morphy_One">Morphy One</a>だ。1999年末から2003年までのできごとで、僕はリアルタイム世代だった。</p>
<p>ある論文のシミュレーションのサンプル実装、Pythonで100行程度なので簡単だと思ったのに、なかなかうまくいかない。なぜだ。</p>
<h2 id="月04日土"><a href="#04">06月04日(土)</a> <a id="04"></a></h2>
<p>ミーティング。</p>
<h2 id="月03日金"><a href="#03">06月03日(金)</a> <a id="03"></a></h2>
<p>ウェブサイトを更新しようとして、自分がslimを使っていることを思い出した。ついでにgemとbundlerの違いも理解。gemだとグローバルインストールだが、bundlerならプロジェクトごと。つまりPythonの仮想環境みたいな奴だな。</p>
<p>とりあえずinitする。</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb1-1" title="1"><span class="ex">bundle</span> init</a></code></pre></div>
<p>こんな<code>Gemfile</code>ができる。</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode rb"><code class="sourceCode ruby"><a class="sourceLine" id="cb2-1" title="1"><span class="co"># frozen_string_literal: true</span></a>
<a class="sourceLine" id="cb2-2" title="2"></a>
<a class="sourceLine" id="cb2-3" title="3">source <span class="st">&quot;https://rubygems.org&quot;</span></a>
<a class="sourceLine" id="cb2-4" title="4"></a>
<a class="sourceLine" id="cb2-5" title="5">git_source(<span class="st">:github</span>) {|repo_name| <span class="st">&quot;https://github.com/</span><span class="ot">#{</span>repo_name<span class="ot">}</span><span class="st">&quot;</span> }</a>
<a class="sourceLine" id="cb2-6" title="6"></a>
<a class="sourceLine" id="cb2-7" title="7"><span class="co"># gem &quot;rails&quot;</span></a></code></pre></div>
<p>最後を書き換える。</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode rb"><code class="sourceCode ruby"><a class="sourceLine" id="cb3-1" title="1">gem <span class="st">&quot;slim&quot;</span></a></code></pre></div>
<p>インストール。</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb4-1" title="1"><span class="ex">bundle</span> install --path vender/bundle</a></code></pre></div>
<p>インストールされたか確認。</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb5-1" title="1">$ <span class="ex">bundle</span> exec gem list</a>
<a class="sourceLine" id="cb5-2" title="2"></a>
<a class="sourceLine" id="cb5-3" title="3"><span class="ex">***</span> LOCAL GEMS ***</a>
<a class="sourceLine" id="cb5-4" title="4"></a>
<a class="sourceLine" id="cb5-5" title="5"><span class="ex">bundler</span> (default: 1.17.2)</a>
<a class="sourceLine" id="cb5-6" title="6"><span class="ex">slim</span> (4.1.0)</a>
<a class="sourceLine" id="cb5-7" title="7"><span class="ex">temple</span> (0.8.2)</a>
<a class="sourceLine" id="cb5-8" title="8"><span class="ex">tilt</span> (2.0.10)</a></code></pre></div>
<p>実行は<code>bundle exec slimrb</code>でできる。</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb6-1" title="1">$ <span class="ex">bundle</span> exec slimrb -v </a>
<a class="sourceLine" id="cb6-2" title="2"><span class="ex">Slim</span> 4.1.0</a></code></pre></div>
<p>Pythonのようにactivate/deactivateで仮想環境に出入りするのが良いのか、Bundlerのように毎回bundle execを実行するのが良いのかは微妙だな。</p>
<p>あとはGemfileとGemfile.lockはリポジトリに追加したほうが良いらしい。<code>.bundle</code>と<code>vender/bundle</code>は<code>.gitignore</code>に追加。</p>
<p>makefileで</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode makefile"><code class="sourceCode makefile"><a class="sourceLine" id="cb7-1" title="1"><span class="dv">%.html:</span><span class="dt"> %.slim</span></a>
<a class="sourceLine" id="cb7-2" title="2">    slimrb <span class="ch">$&lt;</span> -p -r slim/include &gt; <span class="ch">$@</span></a></code></pre></div>
<p>と書いていたのを、</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode makefile"><code class="sourceCode makefile"><a class="sourceLine" id="cb8-1" title="1"><span class="dv">%.html:</span><span class="dt"> %.slim</span></a>
<a class="sourceLine" id="cb8-2" title="2">    bundle exec slimrb <span class="ch">$&lt;</span> -p -r slim/include &gt; <span class="ch">$@</span></a></code></pre></div>
<p>に修正。</p>
<p>というわけで死ぬほど久しぶりにウェブの更新。VPSのgitが古い。IUSからインストールする前に、とりあえず<code>sudo yum update</code>だけ。</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb9-1" title="1"><span class="fu">sudo</span> yum update</a>
<a class="sourceLine" id="cb9-2" title="2"><span class="fu">sudo</span> yum -y install https://repo.ius.io/ius-release-el7.rpm</a></code></pre></div>
<div class="sourceCode" id="cb10"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb10-1" title="1">$ <span class="fu">sudo</span> yum list  <span class="kw">|</span><span class="fu">grep</span> git2</a>
<a class="sourceLine" id="cb10-2" title="2"><span class="ex">git236.x86_64</span>                            2.36.1-2.el7.ius              ius  </a></code></pre></div>
<p>Gitの2.36が入れられそうだな。</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb11-1" title="1"><span class="fu">sudo</span> yum -y remove git</a>
<a class="sourceLine" id="cb11-2" title="2"><span class="fu">sudo</span> yum install git236</a></code></pre></div>
<div class="sourceCode" id="cb12"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb12-1" title="1">$ <span class="fu">git</span> --version  </a>
<a class="sourceLine" id="cb12-2" title="2"><span class="fu">git</span> version 2.36.1</a></code></pre></div>
<p>よろしい。</p>
<p>CentOSでbundler使おうとしたらRubyが古いと怒られた。入れるにはrbenv+ruby-buildを使う必要があるらしい。面倒なのでcentos-release-sclを使う。</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb13-1" title="1"><span class="fu">sudo</span> yum -y install centos-release-scl </a>
<a class="sourceLine" id="cb13-2" title="2"><span class="fu">sudo</span> yum -y install rh-ruby27</a></code></pre></div>
<p>以下のコマンドで一時的に有効に。</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb14-1" title="1"><span class="ex">scl</span> enable rh-ruby27 zsh </a></code></pre></div>
<p>以下でずっと有効になるはずが、コマンドがないと言われる。</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb15-1" title="1">$ <span class="bu">source</span> scl_source enable rh-ruby27 </a>
<a class="sourceLine" id="cb15-2" title="2"><span class="ex">/usr/bin</span>/scl_source:<span class="ex">source</span>:63: no such file or directory: //enable</a>
<a class="sourceLine" id="cb15-3" title="3"><span class="ex">Can</span><span class="st">&#39;t source enable, skipping.</span></a></code></pre></div>
<p>仕方ないので、直接パスを指定して実行。</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb16-1" title="1"><span class="bu">source</span> /opt/rh/rh-ruby27/enable </a></code></pre></div>
<p>これを<code>.zshrc_mine.zsh</code>に追加。ようやくGitとRubyの新しい奴が入った。</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb17-1" title="1">$ <span class="ex">bundler</span> install</a>
<a class="sourceLine" id="cb17-2" title="2"><span class="ex">Traceback</span> (most recent call last)<span class="bu">:</span></a>
<a class="sourceLine" id="cb17-3" title="3"> <span class="ex">2</span>: from /opt/rh/rh-ruby27/root/usr/bin/bundler:23:in <span class="kw">`</span><span class="op">&lt;</span><span class="ex">main</span><span class="op">&gt;</span><span class="st">&#39;</span></a>
<a class="sourceLine" id="cb17-4" title="4"><span class="st"> 1: from /opt/rh/rh-ruby27/root/usr/share/rubygems/rubygems.rb:296:in `activate_bin_path&#39;</span></a>
<a class="sourceLine" id="cb17-5" title="5"><span class="ex">/opt/rh/rh-ruby27/root/usr/share/rubygems</span>/rubygems.rb:<span class="ex">277</span>:in <span class="kw">`</span>find_spec_for_exe<span class="st">&#39;: Could not find &#39;</span>bundler<span class="st">&#39; (1.17.2) required by your /home/watanabe/public_html/Gemfile.lock. (Gem::GemNotFoundException)</span></a>
<a class="sourceLine" id="cb17-6" title="6"><span class="st">To update to the latest version installed on your system, run `bundle update --bundler`.</span></a>
<a class="sourceLine" id="cb17-7" title="7"><span class="st">To install the missing version, run `gem install bundler:1.17.2`</span></a></code></pre></div>
<p>古いのか。アップデートしてもう一度。</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb18-1" title="1"><span class="ex">bundle</span> update --bundler     </a>
<a class="sourceLine" id="cb18-2" title="2"><span class="ex">bundler</span> install</a></code></pre></div>
<p>できた。</p>
<p>というわけで、<a href="https://www.calc.appi.keio.ac.jp/watanabe/funding.html">外部資金や計算資源のページ</a>ができた。YAMLのデータをslimで読み込んでHTMLに変換している。書類仕事がいっぱいある時のサーバ設定楽しい(逃避)。</p>
<p>物性研スパコン後期出した。</p>
<p>査読締め切り確認。まだ大丈夫そうだな。</p>
<h2 id="月02日木"><a href="#02">06月02日(木)</a> <a id="02"></a></h2>
<p>研究室ミーティング。輪講。</p>
<p>ミルククラウン研究の現状。博士課程の時にやりたかったが計算能力が足りなかった。いまならギリいけるか？</p>
<h2 id="月01日水"><a href="#01">06月01日(水)</a> <a id="01"></a></h2>
<p>5月が終わってしまった。</p>
<p>今日は久しぶりに予定がほとんど無い日だったので、論文の準備ができたぞ。</p>
<p>Macの再インストールがどうしてもうまくいかない。データ削除は早まったか・・・</p>
          </article>
  </body>

  </html>