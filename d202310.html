<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="generator" content="pandoc">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
                <title>2023年10月</title>
    <style type="text/css">
      code {
        white-space: pre;
      }
    </style>
        <style type="text/css"></style>

    <link rel="stylesheet" href="style.css" type="text/css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- link rel="stylesheet" href="github-markdown.css" type="text/css" / -->
          </head>

  <body>
    <article class="markdown-body">
                        <h1 id="年10月">2023年10月</h1>
                        <h2 id="月25日水"><a href="#25">10月25日(水)</a> <a id="25"></a></h2>
                        <p>健康診断。20分で終わった。矯正視力が落ちているのでメガネを新調しなくてはいけない。</p>
                        <p><a href="https://ja.wikipedia.org/wiki/%E6%A0%B8%E3%82%AC%E3%83%B3%E3%82%B8%E3%83%BC">核ガンジー</a>の話、都市伝説で確定らしい。とりあえずpython_zeroの余談は修正しておいた。</p>
                        <p>MariaDBのログをもう一度調べる。</p>
                        <div class="sourceCode" id="cb1"><pre class="sourceCode txt"><code class="sourceCode default"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true"></a>231021  1:01:04 [ERROR] mysqld: Out of memory (Needed 128917504 bytes)</span></code></pre></div>
                        <p>これがサーバが落ちた原因。落ちたというか、落ちてから再起動しようとしてメモリ不足で落ちている。おそらく攻撃だと思われるが、同時期のhttpdのログやsslのログを見たが、怪しいログが残っていない。ログを残す間もなく死んだ？落ちたあとにapacheがなんとかしようとしているログが残るのみ。詳細な原因不明。なんか嫌な感じ。</p>
                        <h2 id="月24日火"><a href="#24">10月24日(火)</a> <a id="24"></a></h2>
                        <p>プログラミング基礎同演習。今日はフラクタル図形。毎年見ているので、だんだんこちらも目が肥えてくる。果たしてすごいのは出てくるかな。</p>
                        <h2 id="月23日月"><a href="#23">10月23日(月)</a> <a id="23"></a></h2>
                        <p>1on1 x 3。</p>
                        <p>会議。</p>
                        <p>物理情報工学ソフトウェア開発演習第二回。</p>
                        <p>ChatGPTの更新ができなかったのだが、今日もう一度トライしたらなぜかできた。Grammarlyのカードの更新が拒否される。なぜだ。</p>
                        <p>研究室のWordPressが落ちてる。「データベース接続確立エラー」と表示される。</p>
                        <p>ChatGPTに質問しながら問題を確認する。MySQLの接続確認。</p>
                        <div class="sourceCode" id="cb2"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true"></a>$ <span class="ex">mysql</span> -h ホスト名 -u ユーザ名 -p</span>
                        <span id="cb2-2"><a href="#cb2-2" aria-hidden="true"></a><span class="ex">ERROR</span> 2002 (HY000)<span class="bu">:</span> Can<span class="st">&#39;t connect to local MySQL server through socket &#39;</span>/var/lib/mysql/mysql.sock<span class="st">&#39; (111)</span></span></code></pre></div>
                        <p>MySQLサーバが動いていないっぽい。<code>/etc/my.cnf</code>を調べる。</p>
                        <div class="sourceCode" id="cb3"><pre class="sourceCode txt"><code class="sourceCode default"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true"></a>[mysqld_safe]</span>
                        <span id="cb3-2"><a href="#cb3-2" aria-hidden="true"></a>log-error=/var/log/mariadb/mariadb.log</span>
                        <span id="cb3-3"><a href="#cb3-3" aria-hidden="true"></a>pid-file=/var/run/mariadb/mariadb.pid</span></code></pre></div>
                        <p>MySQLではなくMariaDBを使っている。調べたらMySQLからMariaDBが派生したらしい。</p>
                        <p>エラーログを調べる。</p>
                        <div class="sourceCode" id="cb4"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true"></a><span class="ex">231021</span>  1:01:03 Percona XtraDB (http://www.percona.com) <span class="ex">5.5.61-MariaDB-38.13</span> started<span class="kw">;</span> <span class="ex">log</span> sequence number 2160461709</span>
                        <span id="cb4-2"><a href="#cb4-2" aria-hidden="true"></a><span class="ex">231021</span>  1:01:04 [ERROR] mysqld: Out of memory (Needed 128917504 bytes)</span>
                        <span id="cb4-3"><a href="#cb4-3" aria-hidden="true"></a><span class="ex">231021</span>  1:01:05 [Note] Plugin <span class="st">&#39;FEEDBACK&#39;</span> is disabled.</span>
                        <span id="cb4-4"><a href="#cb4-4" aria-hidden="true"></a><span class="ex">231021</span>  1:01:08 [Note] Server socket created on IP: <span class="st">&#39;0.0.0.0&#39;</span>.</span>
                        <span id="cb4-5"><a href="#cb4-5" aria-hidden="true"></a><span class="ex">231021</span> 01:01:11 mysqld_safe mysqld from pid file /var/run/mariadb/mariadb.pid ended</span></code></pre></div>
                        <p>メモリ不足で落ちてる。その前に執拗な攻撃を受けていたので、それだろうか。</p>
                        <p>再起動する。</p>
                        <div class="sourceCode" id="cb5"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true"></a><span class="fu">sudo</span> service mariadb restart</span></code></pre></div>
                        <p>復活した。焦った。</p>
                        <p>定期的なバックアップを取らなければ・・・(と思いつつまた何もしない)</p>
                        <p>うごわ！明日までのレポートの採点忘れてる！</p>
                        <ul>
                        <li>21:33 採点開始</li>
                        <li>22:25 採点終了</li>
                        </ul>
                        <h2 id="月20日日"><a href="#20">10月20日(日)</a> <a id="20"></a></h2>
                        <p>体がめちゃくちゃ重い。ひたすら寝ていた。</p>
                        <p>重い仕事を済ませた。</p>
                        <h2 id="月21日土"><a href="#21">10月21日(土)</a> <a id="21"></a></h2>
                        <p>物理情報工学ソフトウェア開発演習レポート、第四回まで採点完了。</p>
                        <h2 id="月20日金"><a href="#20">10月20日(金)</a> <a id="20"></a></h2>
                        <p>1on1 x 4</p>
                        <p>メール処理。</p>
                        <p>GitHub演習。</p>
                        <p>物理情報工学ソフトウェア開発演習レポート、第三回まで完了。</p>
                        <p>年末調整。多分できた。</p>
                        <p>金融機関から送られてくる残高証明書の他に、税務署からの申請書が必要で、それは電子データでの送付を希望したので「令和X年分住宅借入金等特別控除証明書_yymmdd.xml」というファイルをe-taxからダウンロード、簡単年調でアップロードすることで完了。ふぅ。</p>
                        <p>昨年は自分で確定申告したのだが、おそらく特別控除証明書はe-taxの連携で自動で確認してくれたのだろう。やれやれだ。</p>
                        <p>来年まで覚えている自信がない。</p>
                        <p>nodeのバージョンが古い?</p>
                        <div class="sourceCode" id="cb6"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true"></a>$ <span class="fu">sudo</span> npm install -g npm@10.2.1</span>
                        <span id="cb6-2"><a href="#cb6-2" aria-hidden="true"></a><span class="ex">npm</span> ERR! code EBADENGINE</span>
                        <span id="cb6-3"><a href="#cb6-3" aria-hidden="true"></a><span class="ex">npm</span> ERR! engine Unsupported engine</span>
                        <span id="cb6-4"><a href="#cb6-4" aria-hidden="true"></a><span class="ex">npm</span> ERR! engine Not compatible with your version of node/npm: npm@10.2.1</span>
                        <span id="cb6-5"><a href="#cb6-5" aria-hidden="true"></a><span class="ex">npm</span> ERR! notsup Not compatible with your version of node/npm: npm@10.2.1</span>
                        <span id="cb6-6"><a href="#cb6-6" aria-hidden="true"></a><span class="ex">npm</span> ERR! notsup Required: {<span class="st">&quot;node&quot;</span>:<span class="st">&quot;^18.17.0 || &gt;=20.5.0&quot;</span>}</span>
                        <span id="cb6-7"><a href="#cb6-7" aria-hidden="true"></a><span class="ex">npm</span> ERR! notsup Actual:   <span class="dt">{&quot;npm&quot;:&quot;8.13.2&quot;,&quot;node&quot;:&quot;v14.15.4&quot;}</span></span></code></pre></div>
                        <div class="sourceCode" id="cb7"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true"></a><span class="fu">sudo</span> npm install n -g </span>
                        <span id="cb7-2"><a href="#cb7-2" aria-hidden="true"></a><span class="fu">sudo</span> n stable  </span>
                        <span id="cb7-3"><a href="#cb7-3" aria-hidden="true"></a><span class="fu">sudo</span> apt purge -y nodejs npm</span></code></pre></div>
                        <h2 id="月19日木"><a href="#19">10月19日(木)</a> <a id="19"></a></h2>
                        <p>1on1。研究室ミーティング。輪講。</p>
                        <p>物理情報工学ソフトウェア開発演習レポート採点。第三回を2/3まで。</p>
                        <p>自転車操業。</p>
                        <h2 id="月18日水"><a href="#18">10月18日(水)</a> <a id="18"></a></h2>
                        <p>またVSCodeの言語が変だった。「Configure Display Languate」で日本語にして修正。メニューが日本語化されているのに、言語設定が英語のままだったので、スニペットで曜日を出したら「Wed」と出てきて「？？？」となっていた。メニューの日本語化と表示の言語は別扱いなんだな。</p>
                        <p>学習指導のお仕事。イレギュラーな学事スケジュールにのる学生の把握が難しい。</p>
                        <p>会議。</p>
                        <p>学習指導のお仕事続き。</p>
                        <p>会議。</p>
                        <p>物理情報工学ソフトウェア開発演習レポート採点。</p>
                        <p>年末調整用のメールアドレス登録した。昨年登録忘れたんだよな・・・</p>
                        <p>保険料控除までやったが、住宅ローン控除の書類がないのでまだ完了できない。</p>
                        <h2 id="月17日火"><a href="#17">10月17日(火)</a> <a id="17"></a></h2>
                        <p>体が重い。</p>
                        <p>なんかSNSでつらいポストばかり回ってきてつらい。もう「おすすめ」見なければいいだけなんだけど、なんで見ちゃうんだろう。封印しないと。</p>
                        <p>Twitterの「おすすめ」のタブを消すGoogle Chrome拡張作れば良いのか。</p>
                        <p>「学歴なんて全く関係ない」と主張しつつ、その人のプライドが「自分が東大卒である」ということに依拠している事例はわりと見かける。ずいぶん昔だけど、やっぱり「学歴なんて関係ない」という論を張っている個人サイトで、そうとは陽には書いてないけれど「自分が東大卒である」という情報を丁寧に散りばめていて、「あー」と思ったことがある。</p>
                        <p>学習指導のお仕事。</p>
                        <p>メモ。<a href="https://arxiv.org/abs/2310.10368">Machine learning in physics: a short guide</a></p>
                        <h2 id="月16日月"><a href="#16">10月16日(月)</a> <a id="16"></a></h2>
                        <p>物理情報工学ソフトウェア開発演習の演習初回。わりと時間かかったな。</p>
                        <h2 id="月15日日"><a href="#15">10月15日(日)</a> <a id="15"></a></h2>
                        <p>物理情報工学ソフトウェア開発演習レポート採点。</p>
                        <p>レポート300枚/週が始まったので厳しい。</p>
                        <h2 id="月14日土"><a href="#14">10月14日(土)</a> <a id="14"></a></h2>
                        <p>プログラミング基礎同演習のレポート採点。</p>
                        <h2 id="月13日金"><a href="#13">10月13日(金)</a> <a id="13"></a></h2>
                        <p>外に出られない問題、Gatewayが192.168.1.1ではなく192.168.1.2だったからだった。アホすぎる。</p>
                        <p>Ubuntuのネットワーク管理、netplanとかいうものになっててよくわからない。</p>
                        <div class="sourceCode" id="cb8"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true"></a><span class="ex">Attaching</span> to webui-docker-auto-1</span>
                        <span id="cb8-2"><a href="#cb8-2" aria-hidden="true"></a><span class="ex">Error</span> response from daemon: failed to create task for container: failed to create shim task: OCI runtime create failed: runc create failed: unable to start container process: error during container init: error running hook #0: error running hook: exit status 1, stdout: , stderr: Auto-detected mode as <span class="st">&#39;legacy&#39;</span></span>
                        <span id="cb8-3"><a href="#cb8-3" aria-hidden="true"></a><span class="ex">nvidia-container-cli</span>: initialization error: nvml error: driver not loaded: unknown</span></code></pre></div>
                        <p><code>/etc/nvidia-container-runtime/config.toml</code>の中の</p>
                        <pre class="toml"><code>no-cgroups = false</code></pre>
                        <p>を有効にしてDocker再起動。</p>
                        <div class="sourceCode" id="cb10"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true"></a><span class="ex">nvidia-container-cli</span>: initialization error: nvml error: driver not loaded: unknown</span></code></pre></div>
                        <p>ダメですね。</p>
                        <div class="sourceCode" id="cb11"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true"></a>$ <span class="ex">nvidia-smi</span></span>
                        <span id="cb11-2"><a href="#cb11-2" aria-hidden="true"></a><span class="ex">NVIDIA-SMI</span> has failed because it couldn<span class="st">&#39;t communicate with the NVIDIA driver. Make sure that the latest NVIDIA driver is installed and running.</span></span></code></pre></div>
                        <p>うげ、そもそもドライバを認識してないぞ。</p>
                        <div class="sourceCode" id="cb12"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true"></a>$ <span class="ex">lsb_release</span> -a</span>
                        <span id="cb12-2"><a href="#cb12-2" aria-hidden="true"></a><span class="ex">No</span> LSB modules are available.</span>
                        <span id="cb12-3"><a href="#cb12-3" aria-hidden="true"></a><span class="ex">Distributor</span> ID: Ubuntu</span>
                        <span id="cb12-4"><a href="#cb12-4" aria-hidden="true"></a><span class="ex">Description</span>: Ubuntu 20.04.6 LTS</span>
                        <span id="cb12-5"><a href="#cb12-5" aria-hidden="true"></a><span class="ex">Release</span>: 20.04</span>
                        <span id="cb12-6"><a href="#cb12-6" aria-hidden="true"></a><span class="ex">Codename</span>: focal</span></code></pre></div>
                        <div class="sourceCode" id="cb13"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true"></a><span class="fu">sudo</span> apt update -y</span>
                        <span id="cb13-2"><a href="#cb13-2" aria-hidden="true"></a><span class="fu">sudo</span> apt upgrade</span>
                        <span id="cb13-3"><a href="#cb13-3" aria-hidden="true"></a><span class="fu">sudo</span> apt install -y ubuntu-drivers-common</span></code></pre></div>
                        <p>ドライバを調べる。</p>
                        <div class="sourceCode" id="cb14"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true"></a>$ <span class="ex">ubuntu-drivers</span> devices <span class="kw">|</span> <span class="fu">grep</span> recommended <span class="kw">|</span> <span class="fu">awk</span> <span class="st">&#39;{print $3}&#39;</span></span>
                        <span id="cb14-2"><a href="#cb14-2" aria-hidden="true"></a><span class="ex">nvidia-driver-535-server-open</span></span></code></pre></div>
                        <div class="sourceCode" id="cb15"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true"></a>$ <span class="ex">lspci</span> <span class="kw">|</span> <span class="fu">grep</span> -i nvidia</span>
                        <span id="cb15-2"><a href="#cb15-2" aria-hidden="true"></a><span class="ex">c1</span>:00.0 VGA compatible controller: NVIDIA Corporation GA106 [RTX A2000 12GB] (rev a1)</span>
                        <span id="cb15-3"><a href="#cb15-3" aria-hidden="true"></a><span class="ex">c1</span>:00.1 Audio device: NVIDIA Corporation GA106 High Definition Audio Controller (rev a1)</span></code></pre></div>
                        <div class="sourceCode" id="cb16"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true"></a><span class="fu">sudo</span> apt --fix-broken install <span class="kw">&amp;&amp;</span> <span class="fu">sudo</span> apt upgrad</span></code></pre></div>
                        <p>ダメ。</p>
                        <div class="sourceCode" id="cb17"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true"></a>$ <span class="fu">sudo</span> apt install nvidia-driver-535</span>
                        <span id="cb17-2"><a href="#cb17-2" aria-hidden="true"></a><span class="ex">Reading</span> package lists... Done</span>
                        <span id="cb17-3"><a href="#cb17-3" aria-hidden="true"></a><span class="ex">Building</span> dependency tree       </span>
                        <span id="cb17-4"><a href="#cb17-4" aria-hidden="true"></a><span class="ex">Reading</span> state information... Done</span>
                        <span id="cb17-5"><a href="#cb17-5" aria-hidden="true"></a><span class="ex">Some</span> packages could not be installed. This may mean that you have</span>
                        <span id="cb17-6"><a href="#cb17-6" aria-hidden="true"></a><span class="ex">requested</span> an impossible situation or if you are using the unstable</span>
                        <span id="cb17-7"><a href="#cb17-7" aria-hidden="true"></a><span class="ex">distribution</span> that some required packages have not yet been created</span>
                        <span id="cb17-8"><a href="#cb17-8" aria-hidden="true"></a><span class="ex">or</span> been moved out of Incoming.</span>
                        <span id="cb17-9"><a href="#cb17-9" aria-hidden="true"></a><span class="ex">The</span> following information may help to resolve the situation:</span>
                        <span id="cb17-10"><a href="#cb17-10" aria-hidden="true"></a></span>
                        <span id="cb17-11"><a href="#cb17-11" aria-hidden="true"></a><span class="ex">The</span> following packages have unmet dependencies:</span>
                        <span id="cb17-12"><a href="#cb17-12" aria-hidden="true"></a> <span class="ex">nvidia-driver-535</span> : Depends: libnvidia-gl-535 (= 535.113.01-0ubuntu0.20.04.1) <span class="ex">but</span> it is not going to be installed</span>
                        <span id="cb17-13"><a href="#cb17-13" aria-hidden="true"></a>                     <span class="ex">Depends</span>: libnvidia-compute-535 (= 535.113.01-0ubuntu0.20.04.1) <span class="ex">but</span> it is not going to be installed</span>
                        <span id="cb17-14"><a href="#cb17-14" aria-hidden="true"></a>                     <span class="ex">Depends</span>: libnvidia-extra-535 (= 535.113.01-0ubuntu0.20.04.1) <span class="ex">but</span> it is not going to be installed</span>
                        <span id="cb17-15"><a href="#cb17-15" aria-hidden="true"></a>                     <span class="ex">Depends</span>: nvidia-compute-utils-535 (= 535.113.01-0ubuntu0.20.04.1) <span class="ex">but</span> it is not going to be installed</span>
                        <span id="cb17-16"><a href="#cb17-16" aria-hidden="true"></a>                     <span class="ex">Depends</span>: libnvidia-decode-535 (= 535.113.01-0ubuntu0.20.04.1) <span class="ex">but</span> it is not going to be installed</span>
                        <span id="cb17-17"><a href="#cb17-17" aria-hidden="true"></a>                     <span class="ex">Depends</span>: libnvidia-encode-535 (= 535.113.01-0ubuntu0.20.04.1) <span class="ex">but</span> it is not going to be installed</span>
                        <span id="cb17-18"><a href="#cb17-18" aria-hidden="true"></a>                     <span class="ex">Depends</span>: nvidia-utils-535 (= 535.113.01-0ubuntu0.20.04.1) <span class="ex">but</span> it is not going to be installed</span>
                        <span id="cb17-19"><a href="#cb17-19" aria-hidden="true"></a>                     <span class="ex">Depends</span>: xserver-xorg-video-nvidia-535 (= 535.113.01-0ubuntu0.20.04.1) <span class="ex">but</span> it is not going to be installed</span>
                        <span id="cb17-20"><a href="#cb17-20" aria-hidden="true"></a>                     <span class="ex">Depends</span>: libnvidia-cfg1-535 (= 535.113.01-0ubuntu0.20.04.1) <span class="ex">but</span> it is not going to be installed</span>
                        <span id="cb17-21"><a href="#cb17-21" aria-hidden="true"></a>                     <span class="ex">Depends</span>: libnvidia-fbc1-535 (= 535.113.01-0ubuntu0.20.04.1) <span class="ex">but</span> it is not going to be installed</span>
                        <span id="cb17-22"><a href="#cb17-22" aria-hidden="true"></a>                     <span class="ex">Recommends</span>: libnvidia-compute-535:i386 (= 535.113.01-0ubuntu0.20.04.1)</span>
                        <span id="cb17-23"><a href="#cb17-23" aria-hidden="true"></a>                     <span class="ex">Recommends</span>: libnvidia-decode-535:i386 (= 535.113.01-0ubuntu0.20.04.1)</span>
                        <span id="cb17-24"><a href="#cb17-24" aria-hidden="true"></a>                     <span class="ex">Recommends</span>: libnvidia-encode-535:i386 (= 535.113.01-0ubuntu0.20.04.1)</span>
                        <span id="cb17-25"><a href="#cb17-25" aria-hidden="true"></a>                     <span class="ex">Recommends</span>: libnvidia-fbc1-535:i386 (= 535.113.01-0ubuntu0.20.04.1)</span>
                        <span id="cb17-26"><a href="#cb17-26" aria-hidden="true"></a>                     <span class="ex">Recommends</span>: libnvidia-gl-535:i386 (= 535.113.01-0ubuntu0.20.04.1)</span>
                        <span id="cb17-27"><a href="#cb17-27" aria-hidden="true"></a><span class="ex">E</span>: Unable to correct problems, you have held broken packages.</span></code></pre></div>
                        <p>Recommendsを一個ずつ入れていくか。</p>
                        <div class="sourceCode" id="cb18"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true"></a><span class="fu">sudo</span> apt install -y libnvidia-compute-535 libnvidia-decode-535 libnvidia-encode-535 libnvidia-fbc1-535 libnvidia-gl-535</span></code></pre></div>
                        <div class="sourceCode" id="cb19"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true"></a>$ <span class="ex">nvidia-smi</span></span>
                        <span id="cb19-2"><a href="#cb19-2" aria-hidden="true"></a><span class="ex">-bash</span>: /usr/bin/nvidia-smi: No such file or directory</span></code></pre></div>
                        <p>状況悪化。</p>
                        <div class="sourceCode" id="cb20"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true"></a>$ <span class="fu">sudo</span> apt install nvidia-driver-535</span>
                        <span id="cb20-2"><a href="#cb20-2" aria-hidden="true"></a><span class="ex">Reading</span> package lists... Done</span>
                        <span id="cb20-3"><a href="#cb20-3" aria-hidden="true"></a><span class="ex">Building</span> dependency tree       </span>
                        <span id="cb20-4"><a href="#cb20-4" aria-hidden="true"></a><span class="ex">Reading</span> state information... Done</span>
                        <span id="cb20-5"><a href="#cb20-5" aria-hidden="true"></a><span class="ex">Some</span> packages could not be installed. This may mean that you have</span>
                        <span id="cb20-6"><a href="#cb20-6" aria-hidden="true"></a><span class="ex">requested</span> an impossible situation or if you are using the unstable</span>
                        <span id="cb20-7"><a href="#cb20-7" aria-hidden="true"></a><span class="ex">distribution</span> that some required packages have not yet been created</span>
                        <span id="cb20-8"><a href="#cb20-8" aria-hidden="true"></a><span class="ex">or</span> been moved out of Incoming.</span>
                        <span id="cb20-9"><a href="#cb20-9" aria-hidden="true"></a><span class="ex">The</span> following information may help to resolve the situation:</span>
                        <span id="cb20-10"><a href="#cb20-10" aria-hidden="true"></a></span>
                        <span id="cb20-11"><a href="#cb20-11" aria-hidden="true"></a><span class="ex">The</span> following packages have unmet dependencies:</span>
                        <span id="cb20-12"><a href="#cb20-12" aria-hidden="true"></a> <span class="ex">nvidia-driver-535</span> : Depends: libnvidia-extra-535 (= 535.113.01-0ubuntu0.20.04.1) <span class="ex">but</span> it is not going to be installed</span>
                        <span id="cb20-13"><a href="#cb20-13" aria-hidden="true"></a>                     <span class="ex">Depends</span>: xserver-xorg-video-nvidia-535 (= 535.113.01-0ubuntu0.20.04.1) <span class="ex">but</span> it is not going to be installed</span>
                        <span id="cb20-14"><a href="#cb20-14" aria-hidden="true"></a>                     <span class="ex">Depends</span>: libnvidia-cfg1-535 (= 535.113.01-0ubuntu0.20.04.1) <span class="ex">but</span> it is not going to be installed</span>
                        <span id="cb20-15"><a href="#cb20-15" aria-hidden="true"></a><span class="ex">E</span>: Unable to correct problems, you have held broken packages.</span></code></pre></div>
                        <div class="sourceCode" id="cb21"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true"></a><span class="fu">sudo</span> apt install -y xserver-xorg-video-nvidia-535  libnvidia-cfg1-535</span></code></pre></div>
                        <p>まだダメ。</p>
                        <div class="sourceCode" id="cb22"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true"></a>$ <span class="fu">sudo</span> ubuntu-drivers autoinstall</span>
                        <span id="cb22-2"><a href="#cb22-2" aria-hidden="true"></a><span class="kw">(</span><span class="ex">snip</span><span class="kw">)</span></span>
                        <span id="cb22-3"><a href="#cb22-3" aria-hidden="true"></a><span class="ex">W</span>: Possible missing firmware /lib/firmware/ast_dp501_fw.bin for module ast</span>
                        <span id="cb22-4"><a href="#cb22-4" aria-hidden="true"></a><span class="ex">Processing</span> triggers for linux-image-5.4.0-164-generic (5.4.0-164.181) <span class="ex">...</span></span>
                        <span id="cb22-5"><a href="#cb22-5" aria-hidden="true"></a><span class="ex">/etc/kernel/postinst.d</span>/dkms:</span>
                        <span id="cb22-6"><a href="#cb22-6" aria-hidden="true"></a> <span class="ex">*</span> dkms: running auto installation service for kernel 5.4.0-164-generic</span>
                        <span id="cb22-7"><a href="#cb22-7" aria-hidden="true"></a>   <span class="ex">...done.</span></span>
                        <span id="cb22-8"><a href="#cb22-8" aria-hidden="true"></a><span class="ex">/etc/kernel/postinst.d</span>/initramfs-tools:</span>
                        <span id="cb22-9"><a href="#cb22-9" aria-hidden="true"></a><span class="ex">update-initramfs</span>: Generating /boot/initrd.img-5.4.0-164-generic</span>
                        <span id="cb22-10"><a href="#cb22-10" aria-hidden="true"></a><span class="ex">W</span>: Possible missing firmware /lib/firmware/ast_dp501_fw.bin for module ast</span>
                        <span id="cb22-11"><a href="#cb22-11" aria-hidden="true"></a><span class="ex">/etc/kernel/postinst.d</span>/zz-update-grub:</span>
                        <span id="cb22-12"><a href="#cb22-12" aria-hidden="true"></a><span class="ex">Sourcing</span> file <span class="kw">`</span><span class="ex">/etc/default/grub</span><span class="st">&#39;</span></span>
                        <span id="cb22-13"><a href="#cb22-13" aria-hidden="true"></a><span class="st">Sourcing file `/etc/default/grub.d/init-select.cfg&#39;</span></span>
                        <span id="cb22-14"><a href="#cb22-14" aria-hidden="true"></a><span class="ex">Generating</span> grub configuration file ...</span>
                        <span id="cb22-15"><a href="#cb22-15" aria-hidden="true"></a><span class="ex">Found</span> linux image: /boot/vmlinuz-5.4.0-164-generic</span>
                        <span id="cb22-16"><a href="#cb22-16" aria-hidden="true"></a><span class="ex">Found</span> initrd image: /boot/initrd.img-5.4.0-164-generic</span>
                        <span id="cb22-17"><a href="#cb22-17" aria-hidden="true"></a><span class="ex">Found</span> linux image: /boot/vmlinuz-5.4.0-128-generic</span>
                        <span id="cb22-18"><a href="#cb22-18" aria-hidden="true"></a><span class="ex">Found</span> initrd image: /boot/initrd.img-5.4.0-128-generic</span>
                        <span id="cb22-19"><a href="#cb22-19" aria-hidden="true"></a><span class="ex">Adding</span> boot menu entry for UEFI Firmware Settings</span>
                        <span id="cb22-20"><a href="#cb22-20" aria-hidden="true"></a><span class="kw">done</span></span></code></pre></div>
                        <div class="sourceCode" id="cb23"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true"></a><span class="fu">sudo</span> apt install -y nvidia-driver-535-server</span></code></pre></div>
                        <div class="sourceCode" id="cb24"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true"></a>$ <span class="ex">nvidia-smi</span></span>
                        <span id="cb24-2"><a href="#cb24-2" aria-hidden="true"></a><span class="ex">Fri</span> Oct 13 11:43:25 2023       </span>
                        <span id="cb24-3"><a href="#cb24-3" aria-hidden="true"></a><span class="ex">+---------------------------------------------------------------------------------------+</span></span>
                        <span id="cb24-4"><a href="#cb24-4" aria-hidden="true"></a><span class="kw">|</span> <span class="ex">NVIDIA-SMI</span> 535.113.01             Driver Version: 535.113.01   CUDA Version: 12.2     <span class="kw">|</span></span>
                        <span id="cb24-5"><a href="#cb24-5" aria-hidden="true"></a><span class="kw">|</span><span class="ex">-----------------------------------------+----------------------+----------------------+</span></span>
                        <span id="cb24-6"><a href="#cb24-6" aria-hidden="true"></a><span class="kw">|</span> <span class="ex">GPU</span>  Name                 Persistence-M <span class="kw">|</span> <span class="ex">Bus-Id</span>        Disp.A <span class="kw">|</span> <span class="ex">Volatile</span> Uncorr. ECC <span class="kw">|</span></span>
                        <span id="cb24-7"><a href="#cb24-7" aria-hidden="true"></a><span class="kw">|</span> <span class="ex">Fan</span>  Temp   Perf          Pwr:Usage/Cap <span class="kw">|</span>         <span class="ex">Memory-Usage</span> <span class="kw">|</span> <span class="ex">GPU-Util</span>  Compute M. <span class="kw">|</span></span>
                        <span id="cb24-8"><a href="#cb24-8" aria-hidden="true"></a><span class="kw">|</span>                                         <span class="kw">|</span>                      <span class="kw">|</span>               <span class="ex">MIG</span> M. <span class="kw">|</span></span>
                        <span id="cb24-9"><a href="#cb24-9" aria-hidden="true"></a><span class="kw">|</span>=========================================<span class="ex">+</span>======================+======================<span class="kw">|</span></span>
                        <span id="cb24-10"><a href="#cb24-10" aria-hidden="true"></a><span class="kw">|</span>   <span class="ex">0</span>  NVIDIA RTX A2000 12GB          Off <span class="kw">|</span> <span class="ex">00000000</span>:C1:00.0 Off <span class="kw">|</span>                  <span class="ex">Off</span> <span class="kw">|</span></span>
                        <span id="cb24-11"><a href="#cb24-11" aria-hidden="true"></a><span class="kw">|</span> <span class="ex">30%</span>   53C    P0              N/A /  70W <span class="kw">|</span>      <span class="ex">1MiB</span> / 12282MiB <span class="kw">|</span>      <span class="ex">0%</span>      Default <span class="kw">|</span></span>
                        <span id="cb24-12"><a href="#cb24-12" aria-hidden="true"></a><span class="kw">|</span>                                         <span class="kw">|</span>                      <span class="kw">|</span>                  <span class="ex">N/A</span> <span class="kw">|</span></span>
                        <span id="cb24-13"><a href="#cb24-13" aria-hidden="true"></a><span class="ex">+-----------------------------------------+----------------------+----------------------+</span></span>
                        <span id="cb24-14"><a href="#cb24-14" aria-hidden="true"></a>                                                                                         </span>
                        <span id="cb24-15"><a href="#cb24-15" aria-hidden="true"></a><span class="ex">+---------------------------------------------------------------------------------------+</span></span>
                        <span id="cb24-16"><a href="#cb24-16" aria-hidden="true"></a><span class="kw">|</span> <span class="ex">Processes</span>:                                                                            <span class="kw">|</span></span>
                        <span id="cb24-17"><a href="#cb24-17" aria-hidden="true"></a><span class="kw">|</span>  <span class="ex">GPU</span>   GI   CI        PID   Type   Process name                            GPU Memory <span class="kw">|</span></span>
                        <span id="cb24-18"><a href="#cb24-18" aria-hidden="true"></a><span class="kw">|</span>        <span class="ex">ID</span>   ID                                                             Usage      <span class="kw">|</span></span>
                        <span id="cb24-19"><a href="#cb24-19" aria-hidden="true"></a><span class="kw">|</span>=======================================================================================<span class="kw">|</span></span>
                        <span id="cb24-20"><a href="#cb24-20" aria-hidden="true"></a><span class="kw">|</span>  <span class="ex">No</span> running processes found                                                           <span class="kw">|</span></span>
                        <span id="cb24-21"><a href="#cb24-21" aria-hidden="true"></a><span class="ex">+---------------------------------------------------------------------------------------+</span></span></code></pre></div>
                        <p>通った！！</p>
                        <p>UbuntuにChromeインストール。</p>
                        <div class="sourceCode" id="cb25"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true"></a><span class="bu">cd</span> build</span>
                        <span id="cb25-2"><a href="#cb25-2" aria-hidden="true"></a><span class="fu">wget</span> https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb</span>
                        <span id="cb25-3"><a href="#cb25-3" aria-hidden="true"></a><span class="fu">sudo</span> apt install ./google-chrome-stable_current_amd64.deb</span></code></pre></div>
                        <p>stable-diffusion-webui-dockerが動いた。</p>
                        <p>後のためにまとめておこう。DHCP配下にあるマシンを、固定IPアドレスにして研究室サーバにぶら下げた。すると、ログインはできるが、git cloneができない。nslookupもできない。そもそも外にpingが通らない。sshはできているから、ネットワークに問題はないと考えた(これが敗因)。</p>
                        <p>まずありそうなのが、ファイアウォール。同じプライベート空間の他のマシンが大丈夫なので、マシン独自のファイアウォールが走っていることを疑うが、動いていない。</p>
                        <p>名前がひけないので、DNSを疑った。いろいろやったが、DNSを明示的に指定してnslookupしても届かない。ここでおかしいと思い始める。</p>
                        <p>最終的に、<code>ping 8.8.8.8</code>が通らないことで、絶対に変だと想う。ゲートウェイも少し疑ったのだが、netstat -rでは他のマシンのGatewayが</p>
                        <div class="sourceCode" id="cb26"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true"></a>$ <span class="fu">netstat</span> -r</span>
                        <span id="cb26-2"><a href="#cb26-2" aria-hidden="true"></a><span class="ex">Kernel</span> IP routing table</span>
                        <span id="cb26-3"><a href="#cb26-3" aria-hidden="true"></a><span class="ex">Destination</span>     Gateway         Genmask         Flags   MSS Window  irtt Iface</span>
                        <span id="cb26-4"><a href="#cb26-4" aria-hidden="true"></a><span class="ex">default</span>         gateway         0.0.0.0         UG        0 0          0 em1</span>
                        <span id="cb26-5"><a href="#cb26-5" aria-hidden="true"></a><span class="ex">192.168.1.0</span>     0.0.0.0         255.255.255.0   U         0 0          0 em1</span></code></pre></div>
                        <p>と、IPアドレスが見えないので、間違いに気づかなかった。</p>
                        <p>最終的に、無事なマシンで</p>
                        <div class="sourceCode" id="cb27"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true"></a>$ <span class="fu">sudo</span> cat /etc/sysconfig/network-scripts/ifcfg-em1</span>
                        <span id="cb27-2"><a href="#cb27-2" aria-hidden="true"></a><span class="kw">(</span><span class="ex">snip</span><span class="kw">)</span></span>
                        <span id="cb27-3"><a href="#cb27-3" aria-hidden="true"></a><span class="va">GATEWAY=</span>192.168.1.2 # ←あっ！</span></code></pre></div>
                        <p>要するに、デフォルトゲートウェイのIPアドレスが間違っていた。プライベートアドレス空間では問題なく通信できて、外に出られないのだから、真っ先にデフォルトゲートウェイを疑うべきだったな。</p>
                        <p>まぁ、今の僕の知識ではこれに最初から気づくのは無理だっただろう。SEは経験ですね。</p>
                        <p>論文紹介用の論文を探す x 2。</p>
                        <p>書籍。5章まで書いた。演習問題はまだ。</p>
                        <h2 id="月12日木"><a href="#12">10月12日(木)</a> <a id="12"></a></h2>
                        <p>輪講。研究室ミーティング。</p>
                        <p>GPGPUマシンを研究室サーバにぶら下げる作業、敗北。っていうか今はUbuntuってnetplanでネットワーク管理するの？なんか見るたびに管理方法が変わってる気がするんだけど。</p>
                        <h2 id="月11日水"><a href="#11">10月11日(水)</a> <a id="11"></a></h2>
                        <p>不足書類提出した。</p>
                        <p>会議 x 2。</p>
                        <p>なんにもしていないのにノートPCがのファンが回りだして、タスクマネージャで調べたらWindows Updateがかかっていた。あぁ、今日は第二水曜日だったか。</p>
                        <p>学習指導のお仕事。まとめようとするとミスに気づく。集中力が低いなぁ。</p>
                        <p>ウェブシステムで、確認の意味でモーダルダイアログを出すのやめて欲しいんだけど、少数派かなぁ。</p>
                        <p><a href="https://dreamscience.miraheze.org/wiki/%E3%83%8A%E3%83%99%E3%82%A2%E3%83%84%E6%96%B9%E7%A8%8B%E5%BC%8F">ナベアツ方程式</a></p>
                        <p>笑ってしまった。これによりn無限大極限で確率1でアホになることが証明される。</p>
                        <p>そう知ってから考えると、大きい数を数える時、その桁数が増えれば増えるほど、どこかに3を含む確率が増えるから、almost surely にアホになりますね。</p>
                        <h2 id="月10日火"><a href="#10">10月10日(火)</a> <a id="10"></a></h2>
                        <p>集中力が極めて低い。風邪ひいたかな？最近気温の上下が激しいし。</p>
                        <p>プログラミング基礎同演習。</p>
                        <p>メール対応。予算の執行で書類不足対応。</p>
                        <p>登録クレカの有効期限が切れてChatGPTのメンバーシップが切れた。なぜか再登録ができない。</p>
                        <h2 id="月09日月"><a href="#09">10月09日(月)</a> <a id="09"></a></h2>
                        <p>ちょっと前までクーラーつけてたのに、今は上着着ないと寒い。なんやねん。</p>
                        <p>スポーツの日だそうだが、慶應義塾大学的には平日。</p>
                        <p>tmux系のターミナルマルチプレクサは必須だと言われ続けて、なんか腰が重くて使えてない。</p>
                        <p>学生さんに「ターミナル」を「端末」と言ったら通じなかった。そもそも「端末」という言葉が前世紀の概念だしな。</p>
                        <p>GitHub演習の班分け表作った。こういうの、地味に時間がかかる。</p>
                        <h2 id="月08日日"><a href="#08">10月08日(日)</a> <a id="08"></a></h2>
                        <p>NOP</p>
                        <h2 id="月07日土"><a href="#07">10月07日(土)</a> <a id="07"></a></h2>
                        <p>プログラミング基礎同演習のレポート採点。</p>
                        <h2 id="月06日金"><a href="#06">10月06日(金)</a> <a id="06"></a></h2>
                        <p>本の執筆。2章まで。</p>
                        <p>プログラミング基礎同演習レポート採点。とりあえず半分採点するのに1時間半近く。スピードを上げていかなくては。</p>
                        <h2 id="月05日木"><a href="#05">10月05日(木)</a> <a id="05"></a></h2>
                        <p>気温が急激に下がった。体調を崩したか？</p>
                        <p>Markdown→Re:VIEW→(LaTeX)→PDFという形で執筆しているのだが、図の参照をして欲しい、という要望。Markdownには図の参照機能がないが、Re:VIEWにはある。Re:VIEWでは、</p>
                        <pre class="re"><code>//image[vcs_history][vcs_history]{}</code></pre>
                        <p>という形で図を読み込み、</p>
                        <pre class="re"><code>@&lt;img&gt;{vcs_history}</code></pre>
                        <p>という形で参照する。面倒なので、Markdown側で</p>
                        <div class="sourceCode" id="cb30"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true"></a><span class="al">![vcs_history](fig/vcs_history.png)</span></span>
                        <span id="cb30-2"><a href="#cb30-2" aria-hidden="true"></a></span>
                        <span id="cb30-3"><a href="#cb30-3" aria-hidden="true"></a>簡単にバージョン管理システムの歴史を見てみよう(@<span class="kw">&lt;img&gt;</span>{vcs_history})。</span></code></pre></div>
                        <p>としてそのまま突っ込んだらうまくいった。とりあえずこれでやって、エラーが出たら考えよう。</p>
                        <p>なんかRe:VIEWの図の参照機能、公式ドキュメント読んでもよくわからず、結局ChatGPTに聞いた。ChatGTPすごい。</p>
                        <p>というわけで書籍の執筆を進める。もともとがわりと無理やり詰め込んだ講義ノートだったので、本にしようと思うといろいろ気になるところが出てくるなぁ。</p>
                        <h2 id="月04日水"><a href="#04">10月04日(水)</a> <a id="04"></a></h2>
                        <p>超絶眠い。</p>
                        <p>メモ。<a href="https://doi.org/10.1103/PhysRevE.106.055306">Lifted directed-worm algorithm</a> イジングにおけるワームアルゴリズムの改良？僕が使いたい系に使えるかもしれない。</p>
                        <p>会議。</p>
                        <p>論文にコメント入れて返した。</p>
                        <p>会議。</p>
                        <h2 id="月03日火"><a href="#03">10月03日(火)</a> <a id="03"></a></h2>
                        <p><a href="https://zenn.dev/">Zenn</a>の開発者が、Zennの開発から手をひくらしい。技術記事の投稿には、当初Qiitaを使っていたが、途中から運営方針に同意できなくなり、別の場所を探していた。そんな時、GitHubと連携が用意なZennが開発され、そちらに移動。Zenn CLIが便利で、気持ちよく記事を書くことができた。これがほぼ個人開発ということに驚く。</p>
                        <p>こういうサービスを作ってみたいものだ。</p>
                        <p>ちなみにQiitaの方針で一番同意できないところは、「いいね」をたくさんもらう記事が良い記事であり、そのような記事を書けるエンジニアが優れたエンジニアである、という思想が透けて見えるところ。ホーム画面のランキングとか、表彰プログラムとかね。科学技術論文でも引用数を誇っている人とかいるけど。</p>
                        <p>ChatGTPに質問しようと、質問内容を整理したら自己解決した。</p>
                        <p>プログラミング基礎同演習。部屋がちょっと狭いなぁ。</p>
                        <p>打ち合わせ。</p>
                        <h2 id="月02日月"><a href="#02">10月02日(月)</a> <a id="02"></a></h2>
                        <p>書籍の執筆。</p>
                        <p>健康診断の予約した。</p>
                        <p>書籍の締め切り間に合わないからごめんなさいメールを送った。</p>
                        <p>スライド修正。</p>
                        <p>GitHub演習、初回ガイダンス。ほぼ全員が出席した。えらい。</p>
                        <p>明日の打ち合わせの準備。メール処理。</p>
                        <p>結構頑張ったのだが、日記にするとこれだけだなぁ。</p>
                        <h2 id="月01日日"><a href="#01">10月01日(日)</a> <a id="01"></a></h2>
                        <p>10月になってしまった。書籍の執筆。</p>
          </article>
  </body>

  </html>