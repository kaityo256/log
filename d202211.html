<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="generator" content="pandoc">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
                <title>2022年11月</title>
    <style type="text/css">
      code {
        white-space: pre;
      }
    </style>
        <style type="text/css"></style>

    <link rel="stylesheet" href="style.css" type="text/css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- link rel="stylesheet" href="github-markdown.css" type="text/css" / -->
          </head>

  <body>
    <article class="markdown-body">
                        <h1 id="年11月">2022年11月</h1>
<p><a href="index.html">ログ一覧</a></p>
<h2 id="月17日木"><a href="#17">11月17日(木)</a> <a id="17"></a></h2>
<p>研究室ミーティング。卒論、修論の日程確認。</p>
<p>TODOをめっちゃ潰した。</p>
<p>logで<code>--shift-heading-level-by=-1</code>をやると、日付がすべてH1になってしまう。アドホックだが、結局こうした。</p>
<pre class="make"><code>docs/%.html: log/%.md
    TITLE=$(shell head -1 $&lt; | sed -e &#39;1 s/^# \(.*\)$$/\1/g&#39;); pandoc -s $&lt; -o $@ $(PANDOC_HTMLOPT) --metadata pagetitle=$$TITLE</code></pre>
<p>もうちょっとスマートな方法がある気がするが・・・</p>
<h2 id="月16日水"><a href="#16">11月16日(水)</a> <a id="16"></a></h2>
<p>会議その1。</p>
<p>TODOをばしばし潰していった。懇親会の確認とかコースディスクリプションとか。</p>
<p>なんか「ゼロから学ぶPython」のmakeが走らないなぁ、と思って、もう一度エラーをよく見てみた。</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb2-1" title="1">$ <span class="fu">make</span></a>
<a class="sourceLine" id="cb2-2" title="2"><span class="fu">sed</span> <span class="st">&#39;2a [[Up]](../index.html)&#39;</span> about/README.md <span class="op">&gt;</span> about/index.md</a>
<a class="sourceLine" id="cb2-3" title="3"><span class="ex">sed</span>: 1: <span class="st">&quot;2a [[Up]](../index.html)&quot;</span>: command a expects <span class="dt">\ </span>followed by text</a>
<a class="sourceLine" id="cb2-4" title="4"><span class="ex">make</span>: *** [about/index.md] Error 1</a>
<a class="sourceLine" id="cb2-5" title="5"><span class="fu">rm</span> about/index.md</a></code></pre></div>
<p>あー、これはMacのsedがBSD系でgsedじゃないからだわ。</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb3-1" title="1">$ <span class="ex">brew</span> install gnu-sed</a></code></pre></div>
<p>さて、makeが参照するsedをgsedにしたい。まともにやるなら、make内で判定するようにするのが妥当。しかし、そんなことで変な判定いれたくないし、そもそもMacでBSDのsedは使わない。</p>
<p>sedが<code>/usr/bin/</code>に、gsedが<code>/usr/local/bin/</code>に入っている。パスは<code>/usr/local/bin</code>を先に見るので、<code>/usr/local/bin/sed</code>として<code>gsed</code>にシンボリックリンクをはってしまえば良い。</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb4-1" title="1">$ <span class="bu">cd</span> /usr/local/bin/</a>
<a class="sourceLine" id="cb4-2" title="2">$ <span class="fu">sudo</span> ln -s gsed sed</a>
<a class="sourceLine" id="cb4-3" title="3">$ <span class="fu">which</span> sed</a>
<a class="sourceLine" id="cb4-4" title="4"><span class="ex">/usr/local/bin/sed</span></a>
<a class="sourceLine" id="cb4-5" title="5">$ <span class="fu">sed</span> --version</a>
<a class="sourceLine" id="cb4-6" title="6"><span class="fu">sed</span> (GNU sed) <span class="ex">4.9</span></a>
<a class="sourceLine" id="cb4-7" title="7"><span class="ex">Copyright</span> (C) <span class="ex">2022</span> Free Software Foundation, Inc.</a>
<a class="sourceLine" id="cb4-8" title="8"><span class="kw">(</span><span class="ex">snip</span><span class="kw">)</span></a></code></pre></div>
<p>pandocでmarkdownからHTMLにするときに「タイトルがないよ」という警告が出るやつ、これまでは<code>--metadata pagetitle=</code>で直接指定していたが、<code>--shift-heading-level-by=-1</code>を使うことでMarkdownのトップレベルのタイトル<code># title</code>を自動取得してくれるらしい。便利。さっそく<a href="https://kaityo256.github.io/python_zero">ゼロから学ぶPython</a>と<a href="https://kaityo256.github.io/github/">GitHub演習</a>のHTMLを修正した。ちゃんとタイトルが反映されている。素晴らしい。</p>
<p>なんだ？GitHub Pagesが変なエラー出して死んだぞ。</p>
<pre class="text"><code>sudo apt-get install -y make pandoc</code></pre>
<p>で死んでる。エラーメッセージはこんな感じ。</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode txt"><code class="sourceCode default"><a class="sourceLine" id="cb6-1" title="1">Reading package lists...</a>
<a class="sourceLine" id="cb6-2" title="2">Building dependency tree...</a>
<a class="sourceLine" id="cb6-3" title="3">Reading state information...</a>
<a class="sourceLine" id="cb6-4" title="4">make is already the newest version (4.2.1-1.2).</a>
<a class="sourceLine" id="cb6-5" title="5">make set to manually installed.</a>
<a class="sourceLine" id="cb6-6" title="6">Suggested packages:</a>
<a class="sourceLine" id="cb6-7" title="7">  texlive-latex-recommended texlive-xetex texlive-luatex pandoc-citeproc</a>
<a class="sourceLine" id="cb6-8" title="8">  texlive-latex-extra context wkhtmltopdf librsvg2-bin groff ghc nodejs python</a>
<a class="sourceLine" id="cb6-9" title="9">  libjs-mathjax node-katex</a>
<a class="sourceLine" id="cb6-10" title="10">The following NEW packages will be installed:</a>
<a class="sourceLine" id="cb6-11" title="11">  pandoc pandoc-data</a>
<a class="sourceLine" id="cb6-12" title="12">0 upgraded, 2 newly installed, 0 to remove and 29 not upgraded.</a>
<a class="sourceLine" id="cb6-13" title="13">Need to get 15.5 MB of archives.</a>
<a class="sourceLine" id="cb6-14" title="14">After this operation, 125 MB of additional disk space will be used.</a>
<a class="sourceLine" id="cb6-15" title="15">Err:1 http://azure.archive.ubuntu.com/ubuntu focal/universe amd64 pandoc-data all 2.5-3build2</a>
<a class="sourceLine" id="cb6-16" title="16">  Could not connect to azure.archive.ubuntu.com:80 (52.252.75.106), connection timed out</a>
<a class="sourceLine" id="cb6-17" title="17">Err:2 http://azure.archive.ubuntu.com/ubuntu focal/universe amd64 pandoc amd64 2.5-3build2</a>
<a class="sourceLine" id="cb6-18" title="18">  Unable to connect to azure.archive.ubuntu.com:http:</a>
<a class="sourceLine" id="cb6-19" title="19">E: Failed to fetch http://azure.archive.ubuntu.com/ubuntu/pool/universe/p/pandoc/pandoc-data_2.5-3build2_all.deb  Could not connect to azure.archive.ubuntu.com:80 (52.252.75.106), connection timed out</a>
<a class="sourceLine" id="cb6-20" title="20">E: Failed to fetch http://azure.archive.ubuntu.com/ubuntu/pool/universe/p/pandoc/pandoc_2.5-3build2_amd64.deb  Unable to connect to azure.archive.ubuntu.com:http:</a>
<a class="sourceLine" id="cb6-21" title="21">E: Unable to fetch some archives, maybe run apt-get update or try with --fix-missing?</a></code></pre></div>
<p>Dockerで試してみたが、Dockerのubuntu:latestでは<code>archive.ubuntu.com</code>にデータを取りに行ってるのに、Actionsでは<code>azure.archive.ubuntu.com</code>に取りに行ってタイムアウトしてるな。</p>
<p>もう一度実行したら通ったっぽい。</p>
<p>logのPandocのオプションが古いな。あとで修正しておかないと。</p>
<p>会議その2。</p>
<h2 id="月15日火"><a href="#15">11月15日(火)</a> <a id="15"></a></h2>
<p>朝、ひどいめまいがした。先週後半は体調が良かったのに、また微妙な感じに。うーむ。</p>
<p>プログラミング基礎同演習。</p>
<p>卒論執筆ガイダンス。</p>
<p><a href="https://github.com/kaityo256/python_zero">ゼロから学ぶPython</a>のissueをすべて潰した。</p>
<p>学生さんが「バグってる並列プログラム、print文をいれるとプログラムが正常終了するんですが」とか言い出して、「並列計算の研究室になってきたなぁ」と思うなど。</p>
<h2 id="月14日月"><a href="#14">11月14日(月)</a> <a id="14"></a></h2>
<p>しまった、請求書類を一つ提出忘れてた・申し訳ないことをした。</p>
<p>来年度のプログラミング基礎同演習の出講希望出した。昨年とシステムが変わったので戸惑ってしまった。試験の形式の奴も戸惑ってしまった。</p>
<p>懇親会のリマインダ流した。</p>
<h2 id="月13日日"><a href="#13">11月13日(日)</a> <a id="13"></a></h2>
<p>疲れた。毎週土日に予定はいるのしんどい。</p>
<p>GitHub演習、Twitterで宣伝したらいっぱい星がついた。みなさんありがとうございます。</p>
<figure>
<img src="images/221113_star_historypng" alt="GitHub Star History" /><figcaption>GitHub Star History</figcaption>
</figure>
<p>プログラミング基礎同演習のレポート採点した。GitHub演習はまだ。</p>
<p>e-Taxの通知確認。便利だけど、なんかUIがいまいちだなぁ・・・</p>
<h2 id="月12日土"><a href="#12">11月12日(土)</a> <a id="12"></a></h2>
<p>学生さんの論文、英文校閲に出した。</p>
<p>講義ノートとスライドを更新。GitHub演習で出たissueをあらかた潰した。</p>
<h2 id="月11日金"><a href="#11">11月11日(金)</a> <a id="11"></a></h2>
<p>なんか疲れた。忙しかったし、一週間日記を書く余裕もなかった。金曜日に一週間分振り返って書いている。</p>
<p>学生さんの論文チェック。これで投稿できるかな。その前に英文校閲出す。</p>
<p>しまった、会議の時間が変わってて、別のミーティングとぶつかってしまった。</p>
<p>GitHub演習、無事に終わった。全員BANされてなかった。GitHubから「直しておく」という連絡が来ていたが、ちゃんとやっておいてくれたらしい。良かった。GitHub Supportのチケットを閉じておく。</p>
<p>とにかく今年もGitHub演習が終わった。二回やってみて、学生が詰まるところがわかってきた気がするので、忘れないうちに修正してしまおう。来年あたりはかなりスムーズに行くはず？</p>
<p>Macをupdateしたらmakeが使えなくなった。</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb7-1" title="1">$ <span class="fu">make</span></a>
<a class="sourceLine" id="cb7-2" title="2"><span class="ex">xcrun</span>: error: invalid active developer path (/Library/Developer/CommandLineTools), <span class="ex">missing</span> xcrun at: /Library/Developer/CommandLineTools/usr/bin/xcrun</a></code></pre></div>
<p>例によってXcodeがらみらしい。</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb8-1" title="1"><span class="ex">xcode-select</span> --install</a></code></pre></div>
<p>でインストール。なんか残り30分とか出るんだけど・・・</p>
<p>なんか5分で終わった。make使えるようになった。</p>
<h2 id="月10日木"><a href="#10">11月10日(木)</a> <a id="10"></a></h2>
<p>研究室ミーティング。僕の発表は<a href="https://speakerdeck.com/kaityo256/kl-divergence">Kullback-Leibler 距離のあれこれ</a>。</p>
<p>しかし、発表資料をアップロードすると、必ず上から目線でコメントしてくる人がいるんだけど、なぜそんなに自信があるんだろう？</p>
<h2 id="月09日水"><a href="#09">11月09日(水)</a> <a id="09"></a></h2>
<p>会議 x 3。後、なんかえらい人たちと会談したりとか。なんで僕はこの場にいるんだろう的な。</p>
<p>WindowsがUpdateしてからWSLのアイコンがPowerShellになってしまい、タスクバーへの固定ができなくなった。PowerShell経由でWSLが実行されるようになった？タブがあったので増やしてみたらそっちはPowerShellになっちゃうし。</p>
<h2 id="月08日火"><a href="#08">11月08日(火)</a> <a id="08"></a></h2>
<p>GitHubから連絡が来た。講義内容に問題ないとお墨付き。良かった。</p>
<p>プログラミング基礎同演習の講義。</p>
<h2 id="月07日月"><a href="#07">11月07日(月)</a> <a id="07"></a></h2>
<p>GitHub演習、大量BANが出てしまった。同じIPアドレスから作成した大量のアカウントが、同じリポジトリをForkしたからかなぁ。GitHubに連絡してみないと。</p>
<p>GitHubに連絡した。ネットでは「コンタクトフォームから連絡するより、support_at_github.comに直接メールを投げたほうが対応が早い」と書いてあったのでそっちにメールを投げたのだが、すぐにGitHubから「今はメールでサポートを受け付けてないよ。ウェブからアクセスしな」と連絡。ウェブでチケットを切るシステムになったらしい。とりあえず新しいチケットを作成してみた。「講義内容に問題があったら知らせてくれ」と書いたが、一般にはBan基準は明らかにされないことが多いので、どうなるかな。</p>
<p>GitHub演習の演習第二回レポート採点して、返事をアップロードした。</p>
<h2 id="月06日日"><a href="#06">11月06日(日)</a> <a id="06"></a></h2>
<p>体調が悪い。鼻水の元栓が壊れてしまった。</p>
<h2 id="月05日土"><a href="#05">11月05日(土)</a> <a id="05"></a></h2>
<p>解析力学の講義の準備を始める。</p>
<p>プログラミング基礎同演習のレポートの採点した。ワードクラウド。毎年、人気作家にゆらぎが出るのが面白い。</p>
<h2 id="月04日金"><a href="#04">11月04日(金)</a> <a id="04"></a></h2>
<p>学生さんの論文チェックした。</p>
<p>GitHub演習。時間ギリギリ。</p>
<p>忙しかったが、ようやくヤマを超えそう。</p>
<p>今週はだいぶ調子が良かった。わりとTODOをつぶせた。</p>
<h2 id="月03日木"><a href="#03">11月03日(木)</a> <a id="03"></a></h2>
<p>生協アプリにログインできなくて困っていたのだが、メールトラブルだったらしい。今日、無事にログインできた。</p>
<p>GitHubのプルリクから学籍番号を逆算するスクリプト修正。</p>
<p>1on1。研究室ミーティング。</p>
<p>家のヘッドセットの調子が悪いので、学校で購入して持ち帰ったヘッドセットがかばんから出てくる。家に変えるまでに持ち帰ったことを忘れてたらしい。</p>
<p>昨日は家に帰るときに、ポケットにある財布を10分くらい探してしまった。だいぶ疲れている。</p>
<h2 id="月02日水"><a href="#02">11月02日(水)</a> <a id="02"></a></h2>
<p>柔道部の振り込みした。最近ATMが近くになく、日吉まで歩かないといけないのがしんどい。</p>
<p>ようやく生協に加入した。生協アプリを入れたが、即時登録ではないらしい。後ろが手作業なのかな？</p>
<p>久しぶりに生協食堂で食べた。コロナになってからずっとコンビニ弁当だったのだが、どうもそれが体調が悪い原因な気がしてきたので。</p>
<p>柔道部のお仕事その2。体育館利用申請。早く申請なしで活動できるようになると良いですね。</p>
<p><code>ps</code>のオプションがよくわからなかったので調べた。以下はユーザごとに使ってるプロセス数を表示するスクリプト。</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb9-1" title="1"><span class="fu">ps</span> h -Led -o user <span class="kw">|</span> <span class="fu">sort</span> <span class="kw">|</span> <span class="fu">uniq</span> -c <span class="kw">|</span> <span class="fu">sort</span> -n</a></code></pre></div>
<ul>
<li>h No header</li>
<li>L Show threads, possibly with LWP and NLWP columns.</li>
<li>e Show the environment after the command.</li>
<li>d Select all processes except session leaders.</li>
<li>o Display information associated with the space or comma separated list of keywords specified.</li>
</ul>
<p>なるほど。</p>
<p>GitHub演習、来週の分の動作をすべて確認。課題とスライドを修正してアップロード。さほど修正がなくて安心。しかし、いつもギリギリでござるなぁ。</p>
<p>今日はたくさんTODOを潰した。</p>
<h2 id="月01日火"><a href="#01">11月01日(火)</a> <a id="01"></a></h2>
<p>物性研システムCのgnuplotがpdfもpngも出力できないので、gnuplotをビルドしてインストールしてみた。しかし、cairo-develが見つからないためにpdf出力できない。システムBは問題ない。</p>
<p>講義。今日はワードクラウド。</p>
<p>GitHub演習のIssueをいくつか潰した。書こうと思っていた「CEOからのメッセージ」を余談に追加。</p>
          </article>
  </body>

  </html>